### Known Issues in 2021.3.32f1

*   Culling: kShadowCastingShadowsOnly objects are rendered by Projectors (built-in renderer) ([UUM-35705](https://issuetracker.unity3d.com/issues/kshadowcastingshadowsonly-objects-are-rendered-by-projectors-built-in-renderer))
    
*   Culling: \[Mobile\] Player freezes on "UnityClassic::Baselib\_SystemFutex\_Wait" or silently crashes ([UUM-41806](https://issuetracker.unity3d.com/issues/android-player-freezes-on-unityclassic-baselib-systemfutex-wait-or-silently-crashes))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Platform Audio: \[Linux\] No audio output when playing audio ([UUM-53143](https://issuetracker.unity3d.com/issues/linux-no-audio-output-when-playing-audio))
    
*   UI Toolkit Controls: CustomPropertyDrawer throws an "Assertion failed on expression" error when adding the first element to the list ([UUM-34033](https://issuetracker.unity3d.com/issues/custompropertydrawer-throws-an-assertion-failed-on-expression-error-when-adding-the-first-element-to-the-list))
    
*   UnityTLS: UnityWebRequest performance drop when running multiple requests at once ([UUM-49389](https://issuetracker.unity3d.com/issues/unitywebrequestexception-cannot-resolve-destination-host-errors-appear-when-making-multiple-http-get-requests-using-unitywebrequest-and-the-cysharp-dot-threading-dot-tasks))
    
*   Universal RP: Meshes are not rendered when building WindowsStandalonePlayer builds from the command line with "batchmode", "nographics" flags ([UUM-47782](https://issuetracker.unity3d.com/issues/linux-meshes-are-not-rendered-when-building-windowsstandaloneplayer-builds-from-the-linux-command-line-with-batchmode-nographics-flags))
    
*   Windows: Sometimes the wrong image is displayed when using Cursor.SetCursor in software mode ([UUM-46718](https://issuetracker.unity3d.com/issues/sometimes-the-wrong-image-is-displayed-when-using-cursor-dot-setcursor-in-software-mode))
    

### 2021.3.32f1 Release Notes

#### Improvements

*   HDRP: Added a warning to the HDRP Wizard if a users project contains materials that cant be upgraded. (UUM-46394)
    
*   HDRP: Improved skyContext caching when the sky renderer changes. ([UUM-43697](https://issuetracker.unity3d.com/issues/player-leaking-memory-when-using-cubemaparrays-and-rendertextures))
    
*   Kernel: Added "-timestamps" command line argument to the player, which makes it prepend timestamps at the beginning of each log line. This setting was previously only available to the editor.
    
*   Universal Windows Platform: Improved performance of repeated checks whether accelerometer and gyrometer are supported.
    

#### Changes

*   Graphics: D3D11 will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to disable anti aliasing. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: D3D12 will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to disable anti aliasing. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: GLES will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: IOS will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: Mac will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: RenderTexture will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to disable anti aliasing. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: TvOS will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: Vulkan will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Services: In the In-App Purchasing Settings page of the Editor's Project Settings, we have changed the endpoint from which the Google Play Key is obtained. Also, instead of setting the key directly in the editor, there is now a dashboard link to set it directly on the backend to avoid future errors.
    
*   UI: Added "Unsupported MSAA Fallback" in player settings to specify how to handle cases with unsupported sample counts. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   URP: Vulkan URP will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Version Control: Added button for organization owner/admins to upgrade to DevOps subscription.
    
*   Version Control: Included new decorators for retained & locked files.
    
*   Version Control: Updated description in the package.json, including an updated link to get started.
    
*   XR: Updated com.unity.xr.management package version to 4.4.0.
    
*   XR: Updated com.unity.xr.openxr package version to 1.9.1.
    

#### Fixes

*   2D: Allows SortingGroups to ignore SortingGroups and Renderers under GameObject which are inactive, and does not count them in the limit for SortingGroups. (UUM-53520)
    
*   2D: Fixed issue where the RendererColor property from the SpriteShapeRenderer persists over to the next TilemapRenderer. ([UUM-53124](https://issuetracker.unity3d.com/issues/tilemap-is-tinted-with-the-color-of-the-sprite-shape-when-rendering-a-sprite-shape-behind-a-tilemap))
    
*   Android: Fixed an issue where the preserved screen was displayed when using swipe for pop-up view. ([UUM-48173](https://issuetracker.unity3d.com/issues/android-the-player-stops-updating-when-its-in-the-swipe-for-pop-up-view-pop-up-view))
    
*   Android: Fixed build failure when custom manifest with custom activity is used with windowed mode enabled in the manifest. ([UUM-48998](https://issuetracker.unity3d.com/issues/android-build-fails-with-the-error-system-dot-nullreferenceexception-object-reference-not-set-to-an-instance-of-an-object-when-building-with-extended-activity))
    
*   Android: Screen.brigthness will correctly return values on phones like Oppo or Xiaomi, previously the value was sometimes bigger than 1.0.  
    Android: Screen.brigthness getter will adjust logarithmic scale for Android Pie or higher. ([UUM-48141](https://issuetracker.unity3d.com/issues/android-the-value-of-screen-dot-brightness-doesnt-match-the-devices-screen-brightness))
    
*   Android: Setting Screen.brightness will now work correctly, it will be applied via https://developer.android.com/reference/android/view/WindowManager.LayoutParams#screenBrightness, thus system setting 'display brightness' will remain unaffected, thus not affecting other applications.  
    Android: Further fix Screen.brightness setter on Xiaomi phones with Android 11 or higher. The minimum screen brightness value will be capped at 0.04, since setting this value lower would default to system brightness setting. ([UUM-47926](https://issuetracker.unity3d.com/issues/android-setting-screen-dot-brightness-does-nothing-when-built))
    
*   Animation: Fixed incorrect display of the event markers in the FBX importer Animation tab. ([UUM-49717](https://issuetracker.unity3d.com/issues/animation-event-marker-is-not-placed-on-the-current-time-of-the-timeline-when-using-the-add-event-button))
    
*   Asset Import: Fixed a regression where an fbx with missing materials would cause a crash during import. ([UUM-53167](https://issuetracker.unity3d.com/issues/crash-with-multiple-stack-traces-when-moving-the-editor-during-the-importing-of-a-specific-fbx-file))
    
*   Asset Pipeline: Fixed issue where an infinite import error is thrown when modifying the contents of a "folder plugin". ([UUM-47972](https://issuetracker.unity3d.com/issues/an-infinite-import-error-is-thrown-when-modifying-the-contents-of-a-folder-plugin))
    
*   Asset Pipeline: Prevent folders hidden in Project Browser causing new empty folders. (UUM-33443)
    
*   Audio: Fixed crash when resetting AudioSettings during async object loading. ([UUM-10237](https://issuetracker.unity3d.com/issues/reseting-audio-settings-on-game-object-which-has-dontdestroyonload-causes-a-crash))
    
*   Audio: Fixed exposed parameters in audio mixers not being applied in standalone builds. (UUM-52523)
    
*   Build Pipeline: Log error in editor rather than closing the editor if building a player failed due to invalid inputs. ([UUM-40764](https://issuetracker.unity3d.com/issues/unity-editor-crashes-with-no-stacktrace-when-creating-a-build-of-a-project-to-the-assets-folder-using-script))
    
*   Documentation: Fixed UUM-36369 for 2021.3: ScriptReference/UIElements.PopupWindow. (UUM-36369)
    
*   Documentation: Fixed UUM-43427 for 2021.3: ScriptReference/UIElements.ListView. (UUM-43427)
    
*   Documentation: Fixed UUM-46270 for 2021.3: ScriptReference/UIElements.EventBase. (UUM-46270)
    
*   Documentation: Fixed UUM-46272 for 2021.3: ScriptReference/UIElements.TwoPaneSplitView. (UUM-46272)
    
*   DX12: Removed unnecessary barrier transition when using DrawMeshInstancedIndirect. (UUM-6102)
    
*   Editor: Added IDisposable support for both decorators and property drawers. Now, when the Editor is destroyed, the IDisposable feature allows for automated cleanup, making it easier to safely remove the drawer from editor event subscriptions and efficiently manage resources. ([UUM-44220](https://issuetracker.unity3d.com/issues/custom-propertydrawers-are-not-being-released))
    
*   Editor: Custom bindings should be preserved when converting subgraph properties into subgraphs. (UUM-46780)
    
*   Editor: Do not show UnityWebRquest timeout error from curl to Editor console. ([UUM-47110](https://issuetracker.unity3d.com/issues/uninformative-curl-error-is-logged-when-the-request-url-is-a-non-existing-ip))
    
*   Editor: Fixed an issue where pdb files could be kept open by the Shortcut Manager. (UUM-20712)
    
*   Editor: Fixed crash in audio mixer when loading assets that are corrupted. ([UUM-43714](https://issuetracker.unity3d.com/issues/crash-on-audiomixercontroller-awakefromload-awakefromloadmode-when-opening-the-project-with-dot-mixer-files))
    
*   Editor: Fixed Crash on ContainerWindow::ToggleMaximize when EditorWindow is closed during Undo. ([UUM-48402](https://issuetracker.unity3d.com/issues/linux-crash-on-containerwindow-togglemaximize-when-editorwindow-is-closed-during-undo))
    
*   Editor: Fixed current window layout not persisting between editor versions. ([UUM-31137](https://issuetracker.unity3d.com/issues/editor-doesnt-remember-previous-window-size-when-opening-new-projects))
    
*   Editor: Fixed multiline error/warning compiler messages getting ignored. ([UUM-40887](https://issuetracker.unity3d.com/issues/newline-slash-n-cuts-off-warning-and-error-messages-displayed-in-console-window-when-using-log-dot-error-and-log-dot-warning-in-ilpostprocessor-script))
    
*   Editor: Fixed problem with sending editor.buildPackageList analytics event. (UUM-49560)
    
*   Editor: Fixed Sprite Atlas assets not being fully checkout when using Perforce. ([UUM-42695](https://issuetracker.unity3d.com/issues/dot-spriteatlasv2-file-is-not-checked-out-to-version-control-when-sprite-atlas-is-edited-after-hitting-check-out-meta))
    
*   Editor: Fixed the styling of the shortcut manager prompt window when the active shortcut profile has a long name. ([UUM-35758](https://issuetracker.unity3d.com/issues/rename-shortcut-profile-window-does-not-display-all-the-data-correctly))
    
*   Editor: Fixed to make sure Clear commands work when using RenderPass API and Vulkan. ([UUM-41126](https://issuetracker.unity3d.com/issues/commandbuffer-dot-drawprocedural-method-ignores-non-default-layers-when-using-vulkan-graphics-api))
    
*   Editor: Fixed UI Builder importing image in unity ask to save changes then errors out. ([UUM-8302](https://issuetracker.unity3d.com/issues/ui-builder-importing-image-in-unity-ask-to-save-changes-then-errors-out))
    
*   Editor: Graphics: Fixed potential for LineRenderer.BakeMesh and TrailRenderer.BakeMesh to fail with invalid AABB error messages. ([UUM-1913](https://issuetracker.unity3d.com/issues/backport-linerenderer-dot-bakemesh-fails-when-called-on-instantiated-copy))
    
*   Editor: Linux crash related to MenuItem Validate() calling Menu.SetChecked(). (UUM-49439)
    
*   Editor: Loop information embedded in the `smpl` chunk of WAVE files is now properly handled in WebGL player builds. ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   Editor: Removed custom binding option from Subgraph Dropdown properties. (UUM-46772)
    
*   Editor: Targeting a platform with incorrect environment setup (e.g. targeting Xbox One with an incorrect GDK installed) no longer generates unrecoverable shader errors. (UUM-42506)
    
*   Editor: \[Android\]\[2021.3\] Modify DeleteAsset function to check whether file path already begins with "Assets" folder to avoid adding the folder twice. (UUM-48497)
    
*   GI: Signify that light-baking api are editor only. ([UUM-2731](https://issuetracker.unity3d.com/issues/light-related-editor-only-apis-are-not-clearly-marked-as-such-confusing-users))
    
*   Graphics: Fixed crash when loading a zero-sized Texture2D asset. ([UUM-9343](https://issuetracker.unity3d.com/issues/editor-crashes-when-importing-font-material-asset))
    
*   Graphics: Fixed excessive Metal memory allocation under some scenarios. ([UUM-31722](https://issuetracker.unity3d.com/issues/memory-usage-rapidly-increases-when-capturing-a-gameobject-with-a-line-renderer-component-using-texture2d-dot-readpixels))
    
*   Graphics: Fixed on-the-fly decompression of ASTC-compressed textures in Editor when width or height is smaller than 4 pixels. ([UUM-41708](https://issuetracker.unity3d.com/issues/windows-editor-shows-gradient-as-single-color-when-android-platform-is-selected))
    
*   Graphics: Fixed rendering regressions in cube maps that are copied GLESTextures. (UUM-45754)
    
*   Graphics: Fixed Vulkan rendering when viewport or scissor rectangle has negative offset. ([UUM-39970](https://issuetracker.unity3d.com/issues/android-vulkan-the-gameobject-isnt-rendered-when-rect-x-position-in-commandbuffer-dot-setviewport-is-less-than-0-dot-5))
    
*   Graphics: Lens Flare does not perform Occlusion with a certain Occlusion Offset value when the Camera is facing Light. ([UUM-3984](https://issuetracker.unity3d.com/issues/lens-flare-does-not-perform-occlusion-with-a-certain-occlusion-offset-value-when-the-camera-is-facing-light))
    
*   Graphics: MSAA sample count will fallback with same sample count, no matter what API is used. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   HDRP: Fixed a SetData error when using more lights in a scene than the configured max light count settings. ([UUM-46001](https://issuetracker.unity3d.com/issues/hdrp-argumentexception-error-is-thrown-and-the-scene-view-stops-rendering-when-real-time-lights-and-decal-projectors-are-used))
    
*   HDRP: Fixed an issue where non directional light could react to "interact with sky" flag. ([UUM-46848](https://issuetracker.unity3d.com/issues/baked-light-has-the-wrong-color-temperature-when-it-has-the-certain-world-rotation-values-or-physicallybasedsky-is-selected))
    
*   HDRP: Fixed blending between cascaded shadowmaps and shadowmask as well as cascades border ranges. ([UUM-46922](https://issuetracker.unity3d.com/issues/blending-real-time-shadows-with-the-baked-shadows-leaves-unshadowed-space-when-using-distance-shadowmask))
    
*   HDRP: Fixed crash when cleaning up the reflection probe camera cache. ([UUM-43926](https://issuetracker.unity3d.com/issues/nullreferenceexception-in-unityengine-dot-rendering-dot-highdefinition-dot-probecameracache-dot-clear-when-exiting-the-player))
    
*   HDRP: Fixed layered lit displacement. ([UUM-49812](https://issuetracker.unity3d.com/issues/the-height-map-amplitude-is-not-working-when-using-hdrp-slash-layeredlit))
    
*   HDRP: Fixed missing shadergraph include on HDRP. (UUM-51851)
    
*   IL2CPP: Avoid a semaphore link in the IL2CPP runtime that can occur during lock contention for multiple threads. (UUM-40104)
    
*   IL2CPP: Fixed a deadlock that could occur if Asset GC visited a field of const, value type, whilst il2cpp types were being created on background threads. ([UUM-35018](https://issuetracker.unity3d.com/issues/ios-app-freezes-when-collecting-garbage-and-creating-il2cpp-generic-metadata-off-the-thread))
    
*   IL2CPP: Fixed bugs related to handling of privatescope methods and fields. ([UUM-36455](https://issuetracker.unity3d.com/issues/system-dot-argumentexception-thrown-when-building-the-project-with-il2cpp))
    
*   IL2CPP: Fixed compilation error on System.Threading.Volatile.Write<T>() when the value parameter was a literal null. ([UUM-45696](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-protobuf-net-dot-grpc))
    
*   IL2CPP: Fixed GetELFImageBuildID() to handle Google AIP relocating PT\_NOTE section. ([UUM-46346](https://issuetracker.unity3d.com/issues/il2cpp-android-player-crashes-when-libil2cpp-dot-so-is-modified))
    
*   IL2CPP: Fixed get\_base\_method() to behave as mono does, preventing a crash when the method slot is outside of the vtable. ([UUM-44323](https://issuetracker.unity3d.com/issues/the-player-crashes-after-start-up-when-getcustomattributes-is-called))
    
*   IL2CPP: Fixed incorrect and/or missing calls to static constructors on constrained calls. ([UUM-51908](https://issuetracker.unity3d.com/issues/debug-assertion-failed-error-when-launching-windows-dedicated-server-player-with-script-debugging-enabled))
    
*   IL2CPP: Fixed issue where a DefaultStream or GZipStream may not decompress all of the bytes in certain compressed files. ([UUM-50168](https://issuetracker.unity3d.com/issues/decompressing-a-deflatestream-under-il2cpp-misses-a-few-bytes))
    
*   IL2CPP: Fixed UnityLinker producing an invalid assembly when the assembly is preserved by a link.xml but not used and the assembly contains only type forwarders. (UUM-46942)
    
*   IL2CPP: Prevent the debugger from incorrectly resetting the value of static fields in some cases. (UUM-35358)
    
*   IL2CPP: Removed extra reference to target on a combined delegate. ([UUM-47478](https://issuetracker.unity3d.com/issues/an-extra-c-number-event-is-shown-when-creating-two-c-number-events-on-two-temporary-objects-each-holding-one-event-using-il2cpp))
    
*   Input System: Fixed an issue causing older DualShock 4 models (CUH-ZCT1x) appearing as both a DualShock 4 (via HID) and an Xinput device. (UUM-48992)
    
*   Input System: Invalid input data errors for 0 byte input downgraded to warning instead. ([UUM-16523](https://issuetracker.unity3d.com/issues/invalid-raw-input-data-size-0-bytes-errors-are-thrown-when-testing-a-build-on-steam-deck))
    
*   iOS: Fixed rendering freezes when changing orientation on A14 iPads. ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   iOS: Fixed Unity launching in the background on background location event; fix black screen showing between splash screen and first scene (release build only). (UUM-52515)
    
*   iOS: UnityWebRequest will no longer send Content-Length header with zero for requests other than PUT and POST. ([UUM-49237](https://issuetracker.unity3d.com/issues/content-length-header-is-added-when-using-unitywebrequest-to-get-requests-on-ios))
    
*   Linux: Added support for new gamepads/controllers. (UUM-52502)
    
*   Linux: Fixed perspective changes slower when quickly scrolling in the Scene View. ([UUM-40326](https://issuetracker.unity3d.com/issues/linux-the-perspective-changes-slower-when-quickly-scrolling-in-the-scene-view))
    
*   Mono: Corrected confusing error printed when using NetworkInterface.OperationalStatus on Linux. ([UUM-46938](https://issuetracker.unity3d.com/issues/linux-player-fails-to-call-networkinterface-dot-operationalstatus-property))
    
*   Particles: Improved batching performance of Particle Systems that use Sprites. (UUM-52114)
    
*   Prefabs: Fixed for Prefab instance is not enabled if RevertPropertyOverride is called during OnEnable. ([UUM-21119](https://issuetracker.unity3d.com/issues/gameobject-needs-to-be-activated-two-times-to-enable-it-when-using-prefabutility-dot-revertpropertyoverride))
    
*   Scene/Game View: Fixed drag and drop action of Skybox material in the SceneView not added to the Undo stack and not dirtying the scene. ([UUM-29041](https://issuetracker.unity3d.com/issues/applying-a-skybox-material-to-the-scene-cant-be-saved-or-undone))
    
*   Scripting: Fixed an issue with custom script templates containing #ROOTNAMESPACEBEGIN# on their first line. ([UUM-32235](https://issuetracker.unity3d.com/issues/rootnamespacebegin-variable-is-parsed-to-the-new-script-when-placed-on-the-first-line-of-the-template))
    
*   Scripting: LoadAsync and Instantiate with missing prefabs should no longer cause deadlock. ([UUM-2374](https://issuetracker.unity3d.com/issues/editor-produces-a-deadlock-when-instantiating-a-prefab-with-missing-scripts-and-loading-other-prefabs-with-resources-dot-loadasync))
    
*   Shadergraph: Added issue with main preview window failing to refresh. (UUM-47201)
    
*   Shadergraph: Corrected a typo in the generated code for the NAND node. (UUM-47325)
    
*   Shadergraph: Fixed an issue where sprite previews were not always rendering. ([UUM-41514](https://issuetracker.unity3d.com/issues/shader-graph-main-preview-is-blank-when-using-the-unlit-sprite-graph))
    
*   Shadergraph: Fixed node creation menu location on macOS. ([UUM-47824](https://issuetracker.unity3d.com/issues/macos-shadergraph-nodes-are-partially-obscured-and-created-in-the-top-left-screen-corner-when-using-create-node-shortcut))
    
*   Shaders: Fixed PackageRequirements block in ShaderLab not recognizing experimental package versions. ([UUM-43288](https://issuetracker.unity3d.com/issues/packagerequirements-blocks-in-shaders-do-not-support-experimental-slash-preview-packages))
    
*   Terrain: \[Linux\] Dedicated server build crashes with "Segmentation fault" when the build project's scene contains terrains with "Draw Instanced" setting enabled. ([UUM-9776](https://issuetracker.unity3d.com/issues/linux-dedicated-server-build-crashes-with-segmentation-fault-when-the-build-projects-scene-contains-terrains-with-draw-instanced-setting-enabled))
    
*   uGUI: Fixed a crash when changing the resolution of the Game View when in play mode. ([UUM-43701](https://issuetracker.unity3d.com/issues/crash-on-ui-canvas-updatecanvasrecttransform-bool-when-changing-the-resolution-of-the-game-view-in-play-mode))
    
*   uGUI: Fixed Physics2DRaycaster returning the wrong distance between the sorting groups and the raycast. ([UUM-45893](https://issuetracker.unity3d.com/issues/physics2draycaster-returns-incorrect-distance-when-using-sorting-groups))
    
*   UI Toolkit: Fixed ListView null reference exceptions flooding the console when trying to unbind it from a disposed SerializedProperty. ([UUM-46364](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-flooded-when-exiting-play-mode-while-inspector-is-displaying-a-list-whose-contents-are-generated-at-runtime))
    
*   UI Toolkit: Fixed loading of resources by path when a fragment was included in the URI but the asset requested was not a sub-asset. ([UUM-49355](https://issuetracker.unity3d.com/issues/ui-toolkit-invalid-value-for-font-missingassetreference-despite-the-font-already-being-assigned))
    
*   Universal RP: Disabled Motion Blur effect in EditMode to keep the game view clear while editing. Motion Blur works as before in PlayMode and standalone builds. ([UUM-43739](https://issuetracker.unity3d.com/issues/urp-fov-input-in-camera-inspector-component-doesnt-reflect-the-angle-correctly-when-typing-the-value))
    
*   Universal RP: Fixed objects not rendering in the wireframe mode. ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    
*   Universal RP: Fixed transparent materials getting marked as dirty during material UI updates and project saving. ([UUM-45752](https://issuetracker.unity3d.com/issues/materials-are-marked-dirty-despite-the-user-not-making-changes))
    
*   Universal RP: Fixed \_WorldSpaceCameraPos is not set correctly in XR Multipass. ([UUM-2514](https://issuetracker.unity3d.com/issues/xr-urp-multipass-worldspacecamerapos-is-not-set-correctly-for-both-eyes))
    
*   Version Control: Fixed failed operations when the workspace is already locked.
    
*   VFX Graph: Changes are reverted in the Mesh Output shader property when saving. ([UUM-563](https://issuetracker.unity3d.com/issues/vfx-graph-changes-are-reverted-on-save-when-setting-shadergraph-to-none-in-output))
    
*   VFX Graph: Fixed memory leak of SharedMaterialData for sleeping VFX systems. ([UUM-52800](https://issuetracker.unity3d.com/issues/vfx-runtime-leak-spawning-many-vfx))
    
*   VFX Graph: Fixed undo not working with shader property in the Mesh Output context. ([UUM-10400](https://issuetracker.unity3d.com/issues/vfx-undo-not-working-correctly-with-mesh-outputs-shader))
    
*   VFX Graph: Improved shader input properties synchronization with VFX Graph output context when the shader is deleted or set to None. ([UUM-561](https://issuetracker.unity3d.com/issues/deleting-a-shadergraph-keeps-its-exposed-properties))
    
*   VFX Graph: Removed an error message when a point cache asset is missing, added an error feedback instead. ([UUM-26966](https://issuetracker.unity3d.com/issues/vfx-nullreferenceexception-in-vfxoperatorpointcache-if-pointcacheasset-is-missing))
    
*   VFX Graph: Some VFX Graph were not compiled until the asset was opened. ([UUM-570](https://issuetracker.unity3d.com/issues/visual-effects-graph-assets-shaders-are-not-imported-when-launching-unity))
    
*   Video: Fixed crash when editor using ShareX \[screen-capture-recorder-to-video\](https://github.com/rdp/screen-capture-recorder-to-video-windows-free) webcam. ([UUM-44750](https://issuetracker.unity3d.com/issues/crash-on-videoinput-setup-when-entering-the-play-mode))
    
*   Video: \[Android\] Player often crashes when playing the Video Player Seek frame that's more than a minute away from the current frame. ([UUM-3364](https://issuetracker.unity3d.com/issues/android-player-often-crashes-when-playing-the-video-player-seek-frame-thats-more-than-a-minute-away-from-the-current-frame))
    
*   Web: Fixed typo in the Decompression Fallback player setting for WebGL. ([UUM-46118](https://issuetracker.unity3d.com/issues/text-with-a-typo-is-shown-when-viewing-the-tooltip-of-decompression-fallback-in-webgl-player-settings))
    
*   XR: Fixed missing shader macros in SinglePassMultiView for built-in pipeline shaders. ([UUM-41604](https://issuetracker.unity3d.com/issues/error-unrecognized-identifier-error-is-thrown-when-building-a-project-for-the-android-platform))

### Known Issues in 2021.3.31f1

*   Asset - Database: An Infinite import error is thrown when modifying the contents of a "folder plugin" ([UUM-47972](https://issuetracker.unity3d.com/issues/an-infinite-import-error-is-thrown-when-modifying-the-contents-of-a-folder-plugin))
    
*   Asset Importers: OnImportAsset leaks 5GB of memory ([UUM-43067](https://issuetracker.unity3d.com/issues/onimportasset-leaks-5gb-of-memory))
    
*   Culling: kShadowCastingShadowsOnly objects are rendered by Projectors (built-in renderer) ([UUM-35705](https://issuetracker.unity3d.com/issues/kshadowcastingshadowsonly-objects-are-rendered-by-projectors-built-in-renderer))
    
*   Culling: \[Mobile\] Player freezes on "UnityClassic::Baselib\_SystemFutex\_Wait" or silently crashes ([UUM-41806](https://issuetracker.unity3d.com/issues/android-player-freezes-on-unityclassic-baselib-systemfutex-wait-or-silently-crashes))
    
*   DirectX11: D3D11 swapchain error pop-up appears and the Editor shuts down when opening a project ([UUM-49251](https://issuetracker.unity3d.com/issues/d3d11-swapchain-error-pop-up-appears-and-the-editor-shuts-down-when-opening-a-project))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Scripting Runtime: Sometimes the wrong image is displayed when using Cursor.SetCursor in software mode ([UUM-46718](https://issuetracker.unity3d.com/issues/sometimes-the-wrong-image-is-displayed-when-using-cursor-dot-setcursor-in-software-mode))
    
*   Universal RP: Meshes are not rendered when building WindowsStandalonePlayer builds from the command line with "batchmode", "nographics" flags ([UUM-47782](https://issuetracker.unity3d.com/issues/linux-meshes-are-not-rendered-when-building-windowsstandaloneplayer-builds-from-the-linux-command-line-with-batchmode-nographics-flags))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    

### 2021.3.31f1 Release Notes

#### Features

*   Shadergraph: The Shader Graph team has added a new sample content pack that can be installed via the Package Manager. The samples contain descriptions, examples, and break-downs for a majority of the nodes in Shader Graph - helping users understand the inner workings of the nodes and see examples of how they work and how they can be used.

#### Improvements

*   Editor: Moving files in the Project window now takes less memory and is faster. ([UUM-44466](https://issuetracker.unity3d.com/issues/dragging-a-file-to-the-root-assets-directory-of-a-project-causes-large-allocations-and-a-long-hang-which-can-lead-to-a-oom-crash))
    
*   Graphics: Fixed an issue where some functionality of the CubemapInspector was unintentionally left available when inspecting native Cubemap textures. ([UUM-22094](https://issuetracker.unity3d.com/issues/warning-registering-a-native-texture-with-depth-equals-0-while-the-actual-texture-has-depth-equals-1-is-thrown-when-in-play-mode-and-creating-a-cubemap-from-another-cubemaps-native-texture))
    
*   HDRP: Reduced GC Alloc when using raytracing and HDRP. ([UUM-40657](https://issuetracker.unity3d.com/issues/hdrp-garbage-collection-issue-with-ray-traced-reflections))
    
*   HDRP: Updated description of Decal Projector Draw Distance setting to mention HDRP asset setting. ([UUM-42539](https://issuetracker.unity3d.com/issues/draw-distance-of-the-decal-projector-functions-as-if-the-value-were-set-to-1000-when-the-distance-between-the-camera-and-decal-is-greater-than-1000))
    

#### Changes

*   Editor: Added command to support Hub creating a new project, and connecting a project to Unity Version Control.
    
*   Editor: Android\] Exceptions for "Unspecified Version" when including Play Libraries have been removed on 21.3 due to the logic changes when fixing Regex for Core-Common. ([UUM-44744](https://issuetracker.unity3d.com/issues/android-regex-in-checkplaylibraryadded-incorrectly-identifies-play-core-common-libraries))
    
*   Editor: Don't write cloudProjectId in ProjectSettings.asset anymore since it should only be managed by Services.
    
*   Editor: \[Android\] Moved Play Library checks for plugins and gradle dependencies into methods in 21.3 for use in Editor Tests, to avoid building player in every test. ([UUM-44744](https://issuetracker.unity3d.com/issues/android-regex-in-checkplaylibraryadded-incorrectly-identifies-play-core-common-libraries))
    
*   Version Control: Moved the button to invite users to the organization from the submenu to the toolbar.
    
*   Version Control: Show a message with a link to invite users to the organization after the first checkin.
    

#### Fixes

*   2D: Fixed bug where a GameObject instantiated by a Tile is recreated on the player when the user refreshes the Tile without changing the Tile. ([UUM-45589](https://issuetracker.unity3d.com/issues/tilemap-refreshes-gameobjects-when-tile-doesnt-change-when-using-the-player))
    
*   Android: Bumped R8 version to a newer version than the ones bundled in tools to support sdk 34.
    
*   Android: Fixed a bug related to the "Mute Other Audio Sources" player setting on Android. There were two cases where another app's audio might not get muted when it should be. This could happen if the other app was started before the Unity app or if the other app was played via the Android "quick panel" after the Unity app was started. ([UUM-37753](https://issuetracker.unity3d.com/issues/android-muteotheraudiosources-not-muting-background-music-when-starting-the-player))
    
*   Android: Fixed a potential race condition during pause routine, which would cause application to accidentally quit instead of pausing. ([UUM-30732](https://issuetracker.unity3d.com/issues/android-race-condition-in-unityplayer-dot-pauseunity-kills-the-process-on-application-pause))
    
*   Android: Fixed AndroidJavaProxy not always finding over private methods. ([UUM-44752](https://issuetracker.unity3d.com/issues/android-androidjavaproxy-cannot-find-a-private-proxy-method-when-button-is-clicked))
    
*   Android: Show the last rendered frame when the application come back from the pause state. ([UUM-30881](https://issuetracker.unity3d.com/issues/android-a-black-screen-appears-for-a-few-seconds-when-returning-to-the-game-from-the-lock-screen-after-idle-time))
    
*   Animation: Fixed a crash when destroying an animator with a playable graph which containts a scene handle when the graph hasnt been executed. ([UUM-48364](https://issuetracker.unity3d.com/issues/the-player-silently-crashes-when-destroying-the-animator-which-uses-the-animation-rigging-package))
    
*   Animation: Fixed potential editor hang when previewing transitions to states set with an extremely large speed multiplier. ([UUM-35558](https://issuetracker.unity3d.com/issues/editor-freezes-when-sub-state-machine-transition-arrow-is-unselected))
    
*   Apple TV: Fixed build of generated xcode project with xcode beta. ([UUM-44352](https://issuetracker.unity3d.com/issues/tvos-unable-to-build-any-tvos-project-using-xcode-15-beta))
    
*   Apple TV: Fixed on screen keyboard unresponsive to controller when Remote.allowExitToHome is set to false. ([UUM-39962](https://issuetracker.unity3d.com/issues/tvos-16-no-text-navigation-occurs-when-using-controller-driven-text-input))
    
*   Apple TV: Fixed startup with disconnected display. (UUM-32314)
    
*   Audio: Added lazy `loopEnd` evaluation to avoid keeping a value of 0. Downloaded audio files were were not updating this, causing a division by zero in the playback process. ([UUM-32163](https://issuetracker.unity3d.com/issues/webgl-a-mp3-audio-clip-downloaded-through-unitywebrequestmultimedia-dot-getaudioclip-cant-be-replayed))
    
*   Audio: Fixed a bug where AudioClips loaded via UnityWebRequest would keep two copies of the data, which doubled the memory usage unnecessarily. This was the case for non-streaming AudioClips. ([UUM-2391](https://issuetracker.unity3d.com/issues/ios-non-streaming-audio-clips-loaded-from-unitywebrequest-retain-file-reference-after-unloading))
    
*   Audio: Fixed AudioSource.Play() not starting from time=0 after manually seeking with AudioSource.time and then calling AudioSource.Stop(). ([UUM-48572](https://issuetracker.unity3d.com/issues/audiosource-starts-playback-from-the-wrong-position-when-setting-the-time-manually))
    
*   Build Pipeline: The Editor fails to build the Player when using a script to switch the Platform from "Dedicated Server". ([UUM-34085](https://issuetracker.unity3d.com/issues/the-editor-fails-to-build-the-player-when-using-a-script-to-switch-the-platform-from-dedicated-server))
    
*   Build System: Make MsvcInstallationLocator.ParseVSWhereResult accept input with a BOM.
    
*   Core: Fixed an issue where importing a hybrid package could fail if there was already a package whose name was a prefix of the hybrid package's UPM package name. ([UUM-43102](https://issuetracker.unity3d.com/issues/importing-a-custom-package-fails-when-the-beginning-of-the-name-collides-with-another-package))
    
*   Editor: Editor on mac no longer presents old frames. (UUM-3147)
    
*   Editor: Editor: Fix for stripping out the Texture2DArray or Texture3D assets from dedicated server builds. (UUM-42750)
    
*   Editor: Ensure "Delete Shortcut Profile" window is a fixed size. ([UUM-48165](https://issuetracker.unity3d.com/issues/shortcuts-delete-profile-modal-unlike-create-profile-and-rename-profile-can-be-resized-and-its-ui-becomes-inconsistent-with-others))
    
*   Editor: Ensure empty parent after reparenting jumps into rename mode if needed. ([UUM-15042](https://issuetracker.unity3d.com/issues/rename-new-objects-functionality-doesnt-work-when-creating-a-gameobject-using-the-create-empty-parent-option))
    
*   Editor: Fixed "Can not play a disabled audio source" warning when audio mute is toggled in scene view on with disabled Audio Source in the Scene. ([UUM-31541](https://issuetracker.unity3d.com/issues/can-not-play-a-disabled-audio-source-is-thrown-when-audio-is-toggled-on-with-disabled-audio-source-in-the-scene))
    
*   Editor: Fixed a misleading error message when renaming a shortcut profile to a long string. ([UUM-48040](https://issuetracker.unity3d.com/issues/misleading-error-shown-when-typing-too-many-characters-in-shortcut-profiles-names))
    
*   Editor: Fixed a possible audio mixer crash when loading asset bundles made prior to 2021. ([UUM-30040](https://issuetracker.unity3d.com/issues/crash-in-audiomixerruntime-dot-cpp-when-loading-audiomixer-assetbundles-built-prior-to-2021))
    
*   Editor: Fixed a scaling issue in device simulator when the view is unmaximized. ([UUM-48391](https://issuetracker.unity3d.com/issues/shimmanager-dot-isscreenshimactive-becomes-false-when-maximizing-slash-minimizing-simulator-window))
    
*   Editor: Fixed an issue where failure to create a window will cause every hidden window on the current desktop to be displayed. ([UUM-48624](https://issuetracker.unity3d.com/issues/editor-windows-background-task-windows-are-opened-when-importing-large-packages-or-building-large-project))
    
*   Editor: Fixed an issue where the editor would temporarily freeze when selecting large compressed cubemaps with no mipchain. ([UUM-28610](https://issuetracker.unity3d.com/issues/long-loading-time-when-selecting-a-cubemap-texture-with-generate-mipmaps-disabled))
    
*   Editor: Fixed an issue where the Texture3D previewer (volume mode) would not function with DX12 / Vulkan. ([UUM-39954](https://issuetracker.unity3d.com/issues/volumetric-rendering-display-is-not-displayed-when-selecting-texture3d))
    
*   Editor: Fixed Area light sampling in lightmapper (improves convergence rate). ([UUM-35492](https://issuetracker.unity3d.com/issues/cpu-and-gpu-progressive-lightmappers-produce-different-lightmap-results-when-generating-lightning))
    
*   Editor: Fixed cache dir on Linux. ([UUM-34544](https://issuetracker.unity3d.com/issues/linux-project-opens-with-gicache-errors-in-the-console-when-opening-unity-project-with-a-different-operating-system-user))
    
*   Editor: Fixed Camera.GetStereoEnabled() to return true only if the camera is rendering a stereo view.
    
*   Editor: Fixed case where "Failed to unpersist" error messages logged. ([UUM-33746](https://issuetracker.unity3d.com/issues/failed-to-unpersist-error-is-not-informative-when-trying-to-modify-prefab-in-runtime))
    
*   Editor: Fixed control shortcut modifier (^) was not been displayed, when introduced inside a custom menu Window for MacOS & Linux platforms. ([UUM-40686](https://issuetracker.unity3d.com/issues/macos-custom-menu-does-not-display-shortcut-modifier-when-the-shortcut-has-the-control-modifier))
    
*   Editor: Fixed crash when loading certain corrupted scenes. ([UUM-43713](https://issuetracker.unity3d.com/issues/crash-on-mergeallprefabinstancesduringload-when-opening-a-specific-scene))
    
*   Editor: Fixed Display.RelativeMouseAt() reporting invalid values when using multiple displays that have been resized or moved (Display C# API) on Windows. ([UUM-44474](https://issuetracker.unity3d.com/issues/onmousedown-is-not-called-after-the-player-window-is-resized-with-display-dot-setparams-when-multiple-displays-are-used))
    
*   Editor: Fixed editor height shrinks if changing layout. (UUM-30875)
    
*   Editor: Fixed extra 38-byte header in DXIL generated for shaders. ([UUM-37067](https://issuetracker.unity3d.com/issues/dx12-shaderdata-dot-variantcompileinfo-dot-shaderdata-contains-38-extra-bytes-on-directx-12))
    
*   Editor: Fixed Input.mousePosition reporting invalid values when using multiple displays (Display C# API) on Windows. ([UUM-44474](https://issuetracker.unity3d.com/issues/onmousedown-is-not-called-after-the-player-window-is-resized-with-display-dot-setparams-when-multiple-displays-are-used))
    
*   Editor: Fixed intermittent crashes in the menu controller that can occur during domain reloads. ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   Editor: Fixed macos screen capture showing random pixels when capturing at screen edge. ([UUM-7774](https://issuetracker.unity3d.com/issues/macos-color-picker-preview-shows-colorful-pixels-when-cursor-is-dragged-on-the-sides-of-the-screen))
    
*   Editor: Fixed material previews being rendered black. ([UUM-29305](https://issuetracker.unity3d.com/issues/material-thumbnail-is-shown-as-black-when-using-hdrp-slash-lit-shader))
    
*   Editor: Fixed OnMouseDown not working when using multiple displays that have been resized or moved (Display C# API) on Windows. ([UUM-44474](https://issuetracker.unity3d.com/issues/onmousedown-is-not-called-after-the-player-window-is-resized-with-display-dot-setparams-when-multiple-displays-are-used))
    
*   Editor: HDRP: Avoid crash on MacOS by no longer passing Probe Volumes buffer with unexpected stride. (UUM-41474)
    
*   Editor: No more deadlocks when manipulating game view during Play Mode on mac. ([UUM-36218](https://issuetracker.unity3d.com/issues/editor-freezes-when-exiting-play-mode-if-the-game-window-position-was-changed-or-undocked-during-play-mode))
    
*   Editor: Rare case of static batching with transparent shadow rendering issue fixed. (UUM-36082)
    
*   Editor: Reverted a breaking change related to IGraphEventListener.
    
*   Editor: Reverted a breaking change where LudiqScriptableObject.\_data was marked as private.
    
*   Editor: Samsung S8 crashing after OpenExtractor failing to translate archive. ([UUM-31317](https://issuetracker.unity3d.com/issues/video-has-a-delay-random-freezing-and-speeding-up-when-using-videoplayer))
    
*   Editor: The Game view should no longer flicker to black in Play Mode on mac. ([UUM-19574](https://issuetracker.unity3d.com/issues/ventura-silicon-game-slash-scene-view-flickers-when-entering-the-play-mode-with-vsync-on))
    
*   Editor: The stage priority for Sprite renderer and Canvas renderer now updates the value as expected. ([UUM-35594](https://issuetracker.unity3d.com/issues/prefab-canvas-component-corrupts-gameobject-rendering-when-ui-environment-is-set-to-the-scene-that-has-this-prefab))
    
*   Editor: \[Android\] Fixing Regex that checks for Play Libraries on 21.3 to avoid warnings when using Core-Common libraries instead of only Play Core warnings as expected. Regex now expects a series of digits/dots after the term "core" to avoid the confusion. ([UUM-44744](https://issuetracker.unity3d.com/issues/android-regex-in-checkplaylibraryadded-incorrectly-identifies-play-core-common-libraries))
    
*   GI: Fixed bug where Directional Lightmaps would sometimes contain degenerate values when baking scenes with lots of invalid lightmap texels. (UUM-46067)
    
*   GI: Fixed crash when using very small cookie textures for lights. ([UUM-43149](https://issuetracker.unity3d.com/issues/crash-on-texturequadtree-reserve-when-generating-lighting))
    
*   Graphics: Fixed 'The transcoded bitstream was invalid' error being shown when streaming using SVT. (UUM-41518)
    
*   Graphics: Fixed a crash when enabling shadows in a scene with both Built-In render pipeline and SRP materials. ([UUM-46685](https://issuetracker.unity3d.com/issues/crash-on-gfxdevice-executeasync-when-light-source-shadows-are-enabled-with-builtin-and-srp-materials-in-the-scene-with-the-default-scriptable-render-pipeline))
    
*   Graphics: Fixed an issue where copying to/from invalid mipmaps could cause a crash or hang to occur. ([UUM-15079](https://issuetracker.unity3d.com/issues/graphics-vulkan-copying-texture2d-to-texture2d-array-with-incomplete-mip-chain-source-causes-crash-and-validation-errors))
    
*   Graphics: Fixed an issue where the mipmap streaming system did not take runtime changes to material texture scale properties. ([UUM-31184](https://issuetracker.unity3d.com/issues/texture-mipmap-streaming-uses-wrong-scales-after-materials-are-changed-at-runtime))
    
*   Graphics: Fixed game window display position on-screen for additional uncommon multi-monitor layouts. ([UUM-33795](https://issuetracker.unity3d.com/issues/screen-dot-movemainwindowto-misbehaves-when-window-is-windowed-and-spans-several-monitors))
    
*   Graphics: Fixed inspector preview for objects with negative scale. ([UUM-47049](https://issuetracker.unity3d.com/issues/reflection-probe-is-red-in-the-inspector-window-if-a-gameobject-has-a-negative-scale))
    
*   Graphics: Improved SkinnedMeshRenderer mesh compatibility error message. (UUM-46329)
    
*   HDRP: Fixed prefab preview rendering dark until moved. ([UUM-42162](https://issuetracker.unity3d.com/issues/asset-model-material-in-the-inspector-preview-is-only-displayed-correctly-when-the-model-is-rotated))
    
*   HDRP: Fixed preview for refractive materials with MSAA.
    
*   HDRP: Fixed ShaderGraph Decal material position issue by using world space position. ([UUM-42716](https://issuetracker.unity3d.com/issues/decal-shader-moving-with-camera-when-using-object-position-in-shader-graph-decal))
    
*   HDRP: Fixed the logic used to set up materials featuring displacement mapping that would sometimes result in artifacts or suboptimal performance. ([UUM-44723](https://issuetracker.unity3d.com/issues/hdrp-pixel-displacement-plus-depth-offset-combination-of-materials-not-working))
    
*   HDRP: Fixed: realtime Reflection probe makes volumetrics clouds wind stop. ([UUM-37387](https://issuetracker.unity3d.com/issues/hdrp-realtime-reflection-probe-makes-volumetrics-clouds-wind-stop))
    
*   IL2CPP: Fixed a crash in some cases where a generic type was being used. ([UUM-42694](https://issuetracker.unity3d.com/issues/il2cpp-built-player-crashes-when-using-a-structure-of-type-generic-for-a-property-of-a-custom-timeline-behavior-and-setting))
    
*   IL2CPP: Fixed build failure when a delegate had a first parameter that was a function pointer. ([UUM-44037](https://issuetracker.unity3d.com/issues/android-il2cpp-build-error-occurs-when-method-first-parameter-is-an-unmanaged-delegate))
    
*   IL2CPP: Fixed ExceptionSupportStack overflow with exception filters in loops. ([UUM-42937](https://issuetracker.unity3d.com/issues/player-crashes-on-il2cpp-vm-runtime-invokewiththrow-when-using-the-when-keyword-in-a-try-catch-block-and-calling-the-log-dot-debugexception-method))
    
*   IL2CPP: Fixed LoadIndirectNativeInteger to use a temp variable. (UUM-43502)
    
*   iOS: Fixed compatibility with Xcode 15. ([UUM-46899](https://issuetracker.unity3d.com/issues/building-projects-with-il2cpp-scripting-backend-for-apple-platforms-fails-with-xcode-15-dot-0b6-or-newer))
    
*   iOS: Fixed multi line keyboard not showing up after it was closed while editing text field. ([UUM-21521](https://issuetracker.unity3d.com/issues/ipad-keyboard-doesnt-show-up-after-pressing-the-hide-keyboard-button-on-the-multiline-text-field))
    
*   iOS: Fixed safe area not reporting correctly when changing orientation. ([UUM-41818](https://issuetracker.unity3d.com/issues/ios-screen-dot-safearea-is-incorrectly-updated-when-rotating-the-device))
    
*   Linux: Exposing -datafolder command line argument for Linux Player release builds. (UUM-46895)
    
*   Linux: Fixed a bug with surround sound hardware not being detected on Linux. Fixed an issue on Windows where we would not re-init audio output correctly, when the Unity project requested surround sound, and the Editor or player was started with no such hardware available. When surround sound hardware is later enabled and set as the default output, it will now be used. ([UUM-348](https://issuetracker.unity3d.com/issues/unity-does-not-recognize-surround-sound-driver-capabilities-and-plays-audio-in-stereo))
    
*   Linux: Fixed Infinite import loop when opening a project which contains assets with the same name. ([UUM-47845](https://issuetracker.unity3d.com/issues/linux-infinite-import-loop-when-opening-a-project-which-contains-assets-with-the-same-name))
    
*   Linux: Fixed Linux Player generating mouse delta values when clicking the left mouse button repeatedly. ([UUM-46825](https://issuetracker.unity3d.com/issues/linux-player-mouse-delta-values-are-generated-when-clicking-the-lmb-repeatedly-while-the-cursor-is-motionless))
    
*   Linux: Fixed minor bug in GetOperatingSystemNumeric Linux API. (UUM-45625)
    
*   Linux: Fixed Scroll doesn't work when a window is attached to the left half of the secondary monitor. ([UUM-43910](https://issuetracker.unity3d.com/issues/linux-scroll-doesnt-work-when-a-window-is-attached-to-the-left-half-of-the-secondary-monitor))
    
*   macOS: Fixed app hanging when Player Loop is blocked by a blocking Modal window function and app unfocused and focused. ([UUM-22691](https://issuetracker.unity3d.com/issues/macos-application-with-file-dialog-freezes-when-switching-windows))
    
*   macOS: Lock camera configuration when Unity is using it. ([UUM-45255](https://issuetracker.unity3d.com/issues/silicon-freeze-slash-crash-on-dynamicheapallocator-allocate-when-webcam-is-used-in-the-editor-and-in-another-application-at-the-same-time))
    
*   Mono: Fixed Editor crash when mini\_get\_method fails. ([UUM-45293](https://issuetracker.unity3d.com/issues/crash-on-mono-method-to-ir-when-running-a-specific-test-runner-test))
    
*   Mono: Fixed min alignment of structures with explicit layout. (UUM-46084)
    
*   Mono: Produce crash dump when g\_assertion\_message is called. (UUM-43015)
    
*   Networking: Fixed issue where UnityWebRequest would fail to establish TLS connections with Windows Server 2012 and 2016. ([UUM-41557](https://issuetracker.unity3d.com/issues/unitywebrequest-uses-tlsv1-protocol-during-tls-handshake-instead-of-tlsv1-dot-2-protocol-when-calling-the-unitywebrequest-dot-get-method))
    
*   Networking: Prevent virtual method in DownloadHandlerScript from being stripped. ([UUM-34034](https://issuetracker.unity3d.com/issues/custom-downloadhandlerscript-doesnt-work-when-a-medium-or-high-stripping-level-is-used))
    
*   Package Manager: Custom, local and git packages will only follow information from the package.json from now on. (UUM-47732)
    
*   Package Manager: Recommended version follows a better rule. (UUM-46466)
    
*   Physics: Fixed crash in Rigidbody.centerOfMass when accessed on a Rigidbody that got added as a component dependency and not initialised yet. ([UUM-35842](https://issuetracker.unity3d.com/issues/crash-on-rigidbody-custom-set-centerofmass-injected-when-opening-a-specific-scene))
    
*   Physics: Fixed up a crash that happened when ArticulationBody was added next to TerrainCollider that had trees on it. ([UUM-46116](https://issuetracker.unity3d.com/issues/crash-on-terraincollider-createtrees-when-entering-the-play-mode))
    
*   Prefabs: Fixed Not all childrens properties gets reverted when multi-editing a property under one Prefab instance. ([UUM-42527](https://issuetracker.unity3d.com/issues/only-the-last-childs-gameobject-property-gets-reverted-when-changing-a-property-of-all-child-gameobjects-under-one-parent-gameobject))
    
*   Profiler: Removed extraneous calls to UpdateRendererBoundingVolumes when executing an empty CommandBuffer. ([UUM-33237](https://issuetracker.unity3d.com/issues/gaphics-dot-executecommandbuffer-adds-unwanted-updaterendererboundingvolumes-calls-in-profiler))
    
*   Scene/Game View: Fixed "Edit/Frame Selected" not focusing the last active scene view in the case where the Hierarchy window is focused. ([UUM-43944](https://issuetracker.unity3d.com/issues/the-scene-view-camera-is-not-being-focused-on-the-selected-gameobject-when-pressing-frame-selected-in-the-menu))
    
*   Scene/Game View: Fixed an exception when using a shortcut to set the Shading Mode to Shaded. ([UUM-15644](https://issuetracker.unity3d.com/issues/shading-mode-isnt-set-to-shaded-when-pressing-a-shortcut-set-for-the-scene-view-render-mode-slash-shaded))
    
*   Scripting: PrefabUtilitiy.InstantiateAttachedAsset is deprecated. ([UUM-33714](https://issuetracker.unity3d.com/issues/crash-on-typeinfo-for-noncopyable-when-copying-and-pasting-a-nested-prefab-variant))
    
*   Serialization: Fixed calling JsonUtility.FromJson<T>(json) in parallel task. ([UUM-46590](https://issuetracker.unity3d.com/issues/crash-on-when-memcpy-repmovs-calling-jsonutility-dot-fromjson-on-system-dot-threading-dot-tasks-dot-parallel-dot-for))
    
*   Shaders: Fixed "gl\_" identifiers error generated while compiling some geometry/tessellation shaders for Vulkan. ([UUM-30365](https://issuetracker.unity3d.com/issues/shader-generation-on-vulkan-throws-gl-layer-error))
    
*   Shaders: Fixed the UsePass ShaderLab command so it searches all subshaders, not only the first one. ([UUM-36470](https://issuetracker.unity3d.com/issues/usepass-doesnt-reference-passes-within-another-shaders-second-subshader))
    
*   Shaders: Fixed \\#include\_with\_pragmas directives deleting other lines of code during compute shader compilation using the new preprocessor. ([UUM-35030](https://issuetracker.unity3d.com/issues/shader-error-in-kernel-syntax-error-when-include-with-pragmas-is-used-last-in-the-include-list))
    
*   SpeedTree: Meshes don't calculate UV distribution metrics on import. ([UUM-27636](https://issuetracker.unity3d.com/issues/speedtree-meshes-dont-calculate-uv-distribution-metrics-on-import))
    
*   Terrain: Fixed a player crash when a terrain tile completely made of holes was viewed from a distance. ([UUM-45970](https://issuetracker.unity3d.com/issues/player-crashes-when-auto-connect-is-enabled-for-terrains-in-the-terrain-group))
    
*   UI Toolkit: Added a workaround for a Intel Graphics 3000 driver bug that would cause textures rendered by UI Toolkit to show incorrectly. ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   UI Toolkit: Double clicking a script in an ObjectField will open it in the IDE. ([UUM-26459](https://issuetracker.unity3d.com/issues/double-clicking-script-field-no-longer-opens-it-in-the-external-script-editor))
    
*   UI Toolkit: Dynamic height ListView was being scrolled to the wrong item when using ScrollToItem. ([UUM-40674](https://issuetracker.unity3d.com/issues/listview-is-scrolled-to-the-wrong-item-when-using-scrolltoitem-in-a-listview-with-dynamic-height-virtualization-method))
    
*   UI Toolkit: Fixed error thrown when pressing the add button with a list view of value types. ([UUM-23208](https://issuetracker.unity3d.com/issues/argumentnullexception-thrown-when-clicking-the-add-footer-button-of-listview-which-itemssource-is-a-list-of-value-type))
    
*   UI Toolkit: Fixed invalid elements tessellation when NaN values are set in the style transform values. (UUM-48759)
    
*   UI Toolkit: Fixed reordering elements would create empty items with the ListView animated dragger. ([UUM-27626](https://issuetracker.unity3d.com/issues/listview-adds-new-empty-items-when-reordering-the-last-element-upwards-on-a-monitor-with-the-scale-set-to-125-percent-250-percent))
    
*   UI Toolkit: Fixed ScrollView produces jittery animation when playing PostPointerUpAnimation. ([UUM-40352](https://issuetracker.unity3d.com/issues/scrollview-produces-jittery-animation-when-playing-postpointerupanimation))
    
*   UI Toolkit: Fixed selection in custom controls in UI Builder. ([UUM-32501](https://issuetracker.unity3d.com/issues/ui-builder-nullreferenceexception-when-building-custom-element-tree-from-uxml))
    
*   UI Toolkit: Fixed textured background UVs when inset because of opaque border. ([UUM-35321](https://issuetracker.unity3d.com/issues/background-image-scaling-changes-when-changing-visualelement-border-color-opacity))
    
*   UI Toolkit: Fixed Vector3Field SetValueWithoutNotify triggers RegisterValueChangedCallback. ([UUM-43504](https://issuetracker.unity3d.com/issues/vector3field-setvaluewithoutnotify-triggers-registervaluechangedcallback-when-used-with-float-dot-nan))
    
*   UI Toolkit: ListView's itemsChosen was being called when quickly clicking on two separate items. ([UUM-42450](https://issuetracker.unity3d.com/issues/listview-dot-itemschosen-is-called-when-quickly-single-clicking-on-two-separate-list-entries))
    
*   UI Toolkit: Null reference exception thrown when clicking on an empty list view. ([UUM-33898](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-clicking-on-an-empty-listview))
    
*   UI Toolkit: Reordered item becoming invisible in a ListView. ([UUM-25806](https://issuetracker.unity3d.com/issues/the-reorderablelist-item-becomes-invisible-when-dragging-it-through-the-list))
    
*   Universal RP: Added check for overlay cameras' inspector. ([UUM-35241](https://issuetracker.unity3d.com/issues/urp-settings-of-components-in-the-inspector-windows-disappears-when-deleting-a-child-camera-of-the-main-camera))
    
*   Universal RP: Fixed an issue where additional lights were not rendering correctly when using a mix of shadow settings in deferred. ([UUM-46577](https://issuetracker.unity3d.com/issues/hard-shadows-appear-in-the-game-view-when-enabling-cast-shadows))
    
*   Universal RP: Fixed an issue with Screen Space Decals where dark artefacts appeared in the editor. ([UUM-40885](https://issuetracker.unity3d.com/issues/direct3d11-urp-screenspace-decals-show-dark-artifacts-in-editor-while-targeting-android-platform))
    
*   Universal RP: Fixed depth priming issues on Vulkan. (UUM-21113)
    
*   Universal Windows Platform: "Create App Packages..." option is greyed out when trying to Create App Packages in Visual Studio. ([UUM-47116](https://issuetracker.unity3d.com/issues/create-app-packages-dot-dot-dot-option-is-greyed-out-when-trying-to-create-app-packages-in-visual-studio))
    
*   Version Control: Fixed Add to ignored/hidden changes list from the Project window creating a negative rule.
    
*   Version Control: Fixed Switch to changeset not working on Gluon partial workspace.
    
*   VFX Graph: Picking Overlay when the rotation is applied on VisualEffect component. ([UUM-13531](https://issuetracker.unity3d.com/issues/vfx-graph-selection-outline-has-offset-if-vfx-has-sg-assigned))
    
*   Video: Fixed memory leak when playing video with bigger resolution than 2k. (UUM-23285)
    
*   Video: Fixed WebCamTexture throws error when asking a different configuration than the one specified in NVIDIA Broadcast. ([UUM-32751](https://issuetracker.unity3d.com/issues/webcamtexture-throws-samplecb-buffer-sizes-do-not-match-error-when-using-nvidia-broadcast-virtual-camera))
    
*   Web: Added stickyCursorLock API to make cursor lock "sticky" or "unsticky." A sticky cursor lock means that if the browser unlocks the cursor when the user presses the ESC key, the cursor will remain locked in Unity. To match the browser's behavior, users can set the stickyCursorLock to false, which will "unstick" the cursor lock. ([UUM-16915](https://issuetracker.unity3d.com/issues/cursor-dot-lockstate-still-returns-locked-when-esc-is-pressed-in-the-webgl-player-or-editor))
    
*   XR: Updated XR Interaction Toolkit to version 2.5.1.

### Known Issues in 2021.3.30f1

*   Asset Importers: OnImportAsset leaks 5GB of memory ([UUM-43067](https://issuetracker.unity3d.com/issues/onimportasset-leaks-5gb-of-memory))
    
*   Culling: kShadowCastingShadowsOnly objects are rendered by Projectors (built-in renderer) ([UUM-35705](https://issuetracker.unity3d.com/issues/kshadowcastingshadowsonly-objects-are-rendered-by-projectors-built-in-renderer))
    
*   Culling: \[Mobile\] Player freezes on "UnityClassic::Baselib\_SystemFutex\_Wait" or silently crashes ([UUM-41806](https://issuetracker.unity3d.com/issues/android-player-freezes-on-unityclassic-baselib-systemfutex-wait-or-silently-crashes))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   UI Toolkit Framework: Unity Editor is rendered without the toolbar icons when using it on old hardware with integrated GPU ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   Universal RP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.30f1 Release Notes

#### Improvements

*   Animation: Improved performance of AnimatorOverrideController.ApplyOverrides() (UUM-39762)
    
*   Documentation: Clarify the behavior of Texture2D.Apply(), especially regarding mipmap limits. (UUM-7709)
    
*   Editor: The audio mute button in the game view toolbar uses less time per frame. (UUM-36729)
    
*   Mono: Added logging that will now list the threads that are being waited on during a domain reload.
    
*   Shadergraph: Addressed an issue where certain operations were taking too long as a result of graph concretization.
    

#### API Changes

*   SRP Core: Added: Added callbacks when RenderPipeline is created or disposed. ([UUM-20646](https://issuetracker.unity3d.com/issues/srp-constructor-is-called-when-the-scene-has-not-been-loaded))

#### Fixes

*   2D: Fixed a crash with TilemapCollider2D when a Tilemap with Tiles that have invalid Transform Matrices are loaded. ([UUM-41396](https://issuetracker.unity3d.com/issues/crash-on-tilemapcollider2d-processtilechangequeue-when-opening-a-specific-project))
    
*   Android: Fixed an issue where Android build system was asking for an API level that didn't exist. ([UUM-40891](https://issuetracker.unity3d.com/issues/android-unity-prompts-for-an-update-to-api-level-36-when-api-level-34-is-used-to-build-for-android))
    
*   Android: Fixed an issue where pause was not processed when onPause() is called right after onResume() is called. ([UUM-23247](https://issuetracker.unity3d.com/issues/button-cant-be-pressed-after-calling-startactivityforresult-with-flag-activity-new-task))
    
*   Android: Fixed value of Android/Vulkan specific shader constant UNITY\_DISPLAY\_ORIENTATION\_PRETRANSFORM when "Apply display rotation during rendering" is enabled. ([UUM-44759](https://issuetracker.unity3d.com/issues/backport-android-unity-display-orientation-pretransform-is-always-0-when-rotating-the-device))
    
*   Animation: Fixed AnimationWindowCurve evaluation error after step. ([UUM-30927](https://issuetracker.unity3d.com/issues/modified-animation-position-dot-y-value-frame-is-misplaced))
    
*   Animation: Fixed AnimationWindowCurve evaluation error after step. ([UUM-31316](https://issuetracker.unity3d.com/issues/fbx-animation-results-in-different-frame-keys-when-imported-from-maya))
    
*   Animation: Fixed mask values in the animation layer mixer when reading animated values from a animation c# job. ([UUM-42174](https://issuetracker.unity3d.com/issues/modifying-bones-with-transformstreamhandle-does-not-work-when-the-animationscriptplayable-is-output-to-an-animationlayermixerplayable-and-the-singlelayeroptimization-parameter-is-set-to-false))
    
*   Asset Bundles: Fixed an issue where shaders in asset bundles built with older Unity versions could treat material keywords as invalid when using SubShaders
    
*   Asset Import: Fixed the memory leak in ApplyDeprecatedFileIDToRecycleName. ([UUM-16971](https://issuetracker.unity3d.com/issues/a-memory-leak-happens-when-a-project-has-corrupted-meta-files))
    
*   Asset Pipeline: Fixed an issue with material preview not updating, when shader is modified. ([UUM-40780](https://issuetracker.unity3d.com/issues/sprite-thumbnail-doesnt-update-when-changing-the-sprite-shader))
    
*   Build Pipeline: Fixed incorrect AssetBundle dependencies are generated. ([UUM-43175](https://issuetracker.unity3d.com/issues/incorrect-assetbundle-dependencies-are-generated))
    
*   Build System: Fixed ForcedIncludes to be listed as InputFiles. (UUM-39789)
    
*   Documentation: Fixed an issue where there was a missing link in physics (physX) documentation. There was an hyper-link missing referring to CompoundColliders.
    
*   Editor: Ensured ExecuteInEditMode warning when entering playmode will fit in a dialog box. (UUM-44500)
    
*   Editor: Fixed a crash caused when a package load fails. ([UUM-16258](https://issuetracker.unity3d.com/issues/crash-on-burstcompilerservice-compileasync-when-opening-project))
    
*   Editor: Fixed a crash when exiting Prefab isolation mode while a GameObject with an invalid Editor is inspected. ([UUM-34561](https://issuetracker.unity3d.com/issues/crash-on-getmanagerfromcontext-when-exiting-the-prefab-mode))
    
*   Editor: Fixed a edge case issue with the Windows Player where an incorrect resolution was used and reported by Screen.width and Screen.height. This occurred when the player was started on a monitor with different DPI settings compared to the main windows monitor. ([UUM-41799](https://issuetracker.unity3d.com/issues/player-window-resolution-is-slightly-skewed-when-using-multiple-displays-and-one-of-them-has-a-different-scaling-value))
    
*   Editor: Fixed an issue to ensure SearchQueryProject list and SearchQuery panels are updated if SearchQueryAssets are added/removed either from Search Window or externally. ([UUM-41173](https://issuetracker.unity3d.com/issues/search-query-asset-is-not-on-the-project-list-in-the-search-window-if-it-was-duplicated))
    
*   Editor: Fixed an issue to remove the transparent input field that presents when TouchScreenKeyboard was active with hideInput option. ([UUM-37652](https://issuetracker.unity3d.com/issues/android-clicks-on-the-hidden-zone-remain-blocked-when-touchscreenkeyboard-is-active))
    
*   Editor: Fixed an issue when using -nographics command line switch in MacOS editor, causing asset importer process to not work properly. ([UUM-44347](https://issuetracker.unity3d.com/issues/assetimportworkers-are-stuck-indefinitely-at-android-extension-scanning-for-adb-devices-when-exporting-packages-in-batchmode-with-no-graphics))
    
*   Editor: Fixed an issue where 2D collider gizmos were not rendered when selecting the parent. ([UUM-41829](https://issuetracker.unity3d.com/issues/child-gameobjects-containing-box-collider-2d-do-not-display-collider-borders-in-the-scene-view-when-the-parent-is-selected))
    
*   Editor: Fixed an issue where derived components were not indexed (in prefab). ([UUM-41735](https://issuetracker.unity3d.com/issues/asset-indexing-doesnt-index-derived-component-type-base-types))
    
*   Editor: Fixed an issue where Device Simulator did not respect the WaitForEndOfFrame yield instruction when used in combination with Application.targetFramerate. ([UUM-40051](https://issuetracker.unity3d.com/issues/waitforendofframe-with-application-dot-targetframerate-set-produces-different-results-when-comparing-game-view-with-device-simulator-view))
    
*   Editor: Fixed an issue where mixed stack trace for Mono builds on Linux were not enabled. (UUM-33920)
    
*   Editor: Fixed an issue where scene template badges were not displayed in New Scene dialog. ([UUM-43133](https://issuetracker.unity3d.com/issues/scene-template-badges-are-not-displayed-in-new-scene-dialog))
    
*   Editor: Fixed an issue where text in Windows Editor dialogues was not selectable to support copy and paste. (UUM-41283)
    
*   Editor: Fixed an issue where the was inproper handling of saving a scenetemplate or a unity scene. ([UUM-42427](https://issuetracker.unity3d.com/issues/incorrect-extension-required-extension-is-dot-scenetemplate-dot-warning-is-thrown-when-creating-a-new-scene-from-a-scene-template-that-has-a-prefab))
    
*   Editor: Fixed an issue with the Style buttons of SceneTemplate Inspector. ([UUM-31080](https://issuetracker.unity3d.com/issues/fields-in-scene-template-pipeline-section-look-messy))
    
*   Editor: Fixed Async Progress registering ScriptingGCHandle not in current domain. (UUM-39631)
    
*   Editor: Fixed crash in assign of dynamic\_block\_array. (UUM-41417)
    
*   Editor: Fixed crashing without error on VK and GL when wrong Graphics Buffer Target is set. ([UUM-42421](https://issuetracker.unity3d.com/issues/crash-on-databuffergles-copysubdata-when-entering-the-play-mode-and-opengl-or-opengl-es-graphics-api-is-used))
    
*   Editor: Fixed for Editor crash based on shader chunk size of 0 in player settings. ([UUM-36663](https://issuetracker.unity3d.com/issues/crash-on-subprogramblobwriter-flush-when-building-a-project))
    
*   Editor: Fixed occasional Editor crash in batch mode. (UUM-22301)
    
*   Editor: Fixed preset glob search with multiple character ranges. ([UUM-26398](https://issuetracker.unity3d.com/issues/glob-function-isnt-working-with-textureimporter-in-preset-manager))
    
*   Editor: Fixed ProjectCapabilityManager.AddGameCenter() not adding the required entitlement. ([UUM-44172](https://issuetracker.unity3d.com/issues/game-center-entitlement-is-not-added-to-xcode-when-using-projectcapabilitymanager-dot-addgamecenter))
    
*   Editor: Fixed Sprite previews when go out from Play Mode and URP in use. ([UUM-41498](https://issuetracker.unity3d.com/issues/sprite-previews-are-missing-in-the-editor-when-urp-is-installed))
    
*   Editor: Fixed the error message when binding a shortcut with an invalid key. ([UUM-43122](https://issuetracker.unity3d.com/issues/the-windows-button-is-referred-to-as-leftapple-in-the-error-message-when-trying-to-assign-it-as-a-shortcut))
    
*   Editor: Hide the CPU option from the UI for Managed Plugins as it has no effect. (UUM-40186)
    
*   Editor: Prevent C4D native importer warnings if a project has its own C4D ScriptedImporter. ([UUM-36242](https://issuetracker.unity3d.com/issues/console-displays-warning-about-importing-c4d-files-when-a-scripted-importer-for-c4d-files-is-implemented))
    
*   Editor: Update UI/Docs for previewing audio clip in inspector. ([UUM-16395](https://issuetracker.unity3d.com/issues/audio-preview-in-inspector-does-not-work-when-disable-unity-audio-is-enabled))
    
*   Editor: Update Window/Panel menu even when aux window are closed. ([UUM-26519](https://issuetracker.unity3d.com/issues/window-panels-view-displays-check-for-updates-window-as-opened-when-its-closed))
    
*   Editor: \[MacOS\] Warn when editor doesn't have "Screen Recording" permissions to pick colors from other apps with the Color Picker/Eye Dropper tool (UUM-770)
    
*   Game Core: Fixed displayIndex on GXDK platform. (UUM-42807)
    
*   GI: Fixed an issue where invalid data was not detected in lighting data assets that caused a crash. ([UUM-27652](https://issuetracker.unity3d.com/issues/crash-on-lightingdataasset-checkconsistency-when-importing-assets))
    
*   GI: Fixed an issue where prefab mode would not show environment reflections. ([UUM-35086](https://issuetracker.unity3d.com/issues/environment-reflections-are-temporarily-disabled-when-entering-prefab-mode))
    
*   Graphics: Fixed a VK crash when GfxDevice interface was used incorrectly by TextMeshGenerator. ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    
*   Graphics: Fixed DrawProcedural family of functions that did not work when shaders want vertexbuffers. ([UUM-32295](https://issuetracker.unity3d.com/issues/dx12-drawprocedural-skips-the-draw-call-when-fake-normal-is-checked-in-material-settings))
    
*   Graphics: Fixed incorrect clamping of maxComputeBufferInputs when VkPhysicalDeviceLimits::maxPerStageDescriptorStorageBuffers is max unsigned integer. ([UUM-43741](https://issuetracker.unity3d.com/issues/vulkan-maxcomputebufferinputs-limits-get-slashed-when-device-property-is-max-uint))
    
*   Graphics: Fixed stencil information display error under camera depthNormals mode. ([UUM-27513](https://issuetracker.unity3d.com/issues/displayed-depth-buffer-doesnt-work-in-customrender-and-depthnormalstexture-passes))
    
*   Graphics: Fixed texture memory leaks for asynchronous scene loads. ([UUM-35265](https://issuetracker.unity3d.com/issues/memory-leak-when-using-texture-streaming-asynchronous-scene-loading-and-vulkan))
    
*   Graphics: Modified doc as camera distance calculation is coupled with camera. ([UUM-12523](https://issuetracker.unity3d.com/issues/cullinggroup-onstatechanged-is-not-called-when-there-is-no-targetcamera))
    
*   HDRP: Fixed FTLP (Fine Tiled Light Pruning) Shader Options max light count. Previous support only supported up to 63 These changes allow to go up to 255 with higher instability as numbers per tile approach 255.  
    For support greater than 255, do it at your own risk! (and expect some flickering) ([UUM-39924](https://issuetracker.unity3d.com/issues/hdrp-hdrp-has-a-hard-limit-of-64-total-lights-in-an-area-which-causes-flickering))
    
*   IL2CPP: Added DivideByZeroChecks to modulo/remainder operator. ([UUM-45551](https://issuetracker.unity3d.com/issues/il2cpp-player-crash-when-dividebyzerochecks-are-not-inserted))
    
*   IL2CPP: Correct the behavior of .NET File APIs for some DLC paths on GameCore. (UUM-29631)
    
*   IL2CPP: Fixed a deadlock when quitting WebGL Player when the code utilized System.ThreadPool. (UUM-32717)
    
*   IL2CPP: Fixed Calli scanning bug in MarkReflectionLikeDependencies pass ([UUM-33871](https://issuetracker.unity3d.com/issues/the-player-build-fails-when-calling-both-type-dot-getmethod-and-calling-any-managed-function-pointer-in-the-same-function-with-minimal-and-low-stripping-level))
    
*   IL2CPP: Fixed unsigned shift right of pointer types. ([UUM-41406](https://issuetracker.unity3d.com/issues/il2cpp-build-returns-incorrect-results-when-using-pointer-arithmetic))
    
*   iOS: Fixed attach managed debugger window not showing up and causing application to be in frozen state. ([UUM-39644](https://issuetracker.unity3d.com/issues/ios-app-freezes-and-the-you-can-attach-a-managed-debugger-now-if-you-want-message-doesnt-show-up-when-running-the-app-on-ios-devices-with-the-wait-for-managed-debugger-setting-enabled))
    
*   Kernel: Fixed in DynamicHeapAllocator reallocating of persistent memory to size greater than 4GB. (UUM-12004)
    
*   Linux: Fixed Editor crash when quick searching through a large amount of asset files on Linux. ([UUM-22443](https://issuetracker.unity3d.com/issues/linux-quicksearch-runs-out-of-memory-and-crashes-the-editor-when-indexing-thousands-of-assets))
    
*   Linux: Fixed Left Alt is recognized as pressed when switching to a different window and back. ([UUM-30743](https://issuetracker.unity3d.com/issues/linux-input-system-left-alt-key-is-recognized-as-pressed-when-alt-tabbing-to-a-different-window-and-back-to-editor))
    
*   Linux: Fixed Vulkan falsely reporting that HDR is supported on Linux. (UUM-43364)
    
*   Linux: Prevent paused unity player from using excessive CPU when "run in the background" option is off. ([UUM-38092](https://issuetracker.unity3d.com/issues/linux-player-consumes-more-cpu-resources-when-it-is-running-in-the-background))
    
*   macOS: Fixed editor crash when UI is redrawn. ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   Mono: Fixed issue where a fixed buffer within a valuetype struct would not be passed by value correctly. ([UUM-30210](https://issuetracker.unity3d.com/issues/different-numbers-are-logged-from-a-fixed-float-array-of-numbers-compared-to-the-numbers-that-were-added-to-the-array-if-using-the-arm64-architecture-editor))
    
*   Mono: Fixed issue where blittable flag could be incorrect when it was read before MonoClass was inited. (UUM-35682)
    
*   Package Manager: Disable documentation link button when it's unavailable. (UUM-45844)
    
*   Package Manager: Fixed an issue where built-in packages could not be successfully resolved if a dependency version did not exactly match the built-in package version. (UUM-37161)
    
*   Package Manager: Fixed the handling of trailing and leading whitespaces inside input fields.
    
*   Particles: Fixed particles flickering on Vulkan. ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Particles: Fixed potential crash on deletion of particle systems with mesh particles. ([UUM-26623](https://issuetracker.unity3d.com/issues/addressables-crash-in-transformparticlemesh))
    
*   Physics: Fixed an issue on OSX where Physics.Simulate would experience hickus due to how the PhysX task system was being integrated with Unity's Job System. (UUM-27803)
    
*   Physics: Fixed an issue where small bodies started to tunnel through large bodies in continuous collision detection mode at high simulation frequencies (~200Hz). ([UUM-19349](https://issuetracker.unity3d.com/issues/objects-are-not-colliding-when-time-dot-fixeddeltatime-is-smaller-or-equal-to-5-ms))
    
*   Player: Fixed custom SRP shaders used in skyboxes not rendering in Single-Pass Instanced XR rendering mode
    
*   Profiler: Fixed memory tracking for CubemapArrays, particularly with DirectX 11. ([UUM-31067](https://issuetracker.unity3d.com/issues/cubemaparrays-and-cubemaps-take-up-significantly-more-memory-than-on-other-platforms-when-working-with-a-windows-project))
    
*   Shadergraph: Fixed a minor usability issues with Custom Function Nodes.
    
*   Shadergraph: Fixed an issue where docs links from editor were incorrect.
    
*   Shadergraph: Fixed an issue where there were invalid characters from imported material sub asset.
    
*   Shadergraph: Fixed issue where adding dropdown property type to newly created subgraphs did not propagate to other open shadergraph editor windows.
    
*   Shaders: Fixed Editor crashing sometimes when importing shaders. ([UUM-42369](https://issuetracker.unity3d.com/issues/crash-on-dynamicheapallocator-allocate-during-importer-consistency-check))
    
*   SRP Core: Remove some unexpected SRP changed callback invocations. ([UUM-17548](https://issuetracker.unity3d.com/issues/reimport-of-vfx-assets-when-entering-slash-exiting-the-play-mode-everytime))
    
*   UI Toolkit: Fixed a deadlock when quitting WebGL Player when the code utilized System.ThreadPool. ([UUM-37728](https://issuetracker.unity3d.com/issues/changes-are-not-saved-when-changing-styles-orders-in-the-ui-builder))
    
*   UI Toolkit: Fixed an issue in the UI Builder that would cause an exception when using a CustomRenderTexture where a RenderTexture was expected. ([UUM-37729](https://issuetracker.unity3d.com/issues/argumentnullexception-value-cannot-be-null-error-is-thrown-when-selecting-a-visual-element-with-a-custom-render-texture-set-as-a-background))
    
*   UI Toolkit: Fixed EnumField that was not updating its displayed text when changing back from showMixedValue mode. ([UUM-41395](https://issuetracker.unity3d.com/issues/enumfield-remains-displayed-as-a-mixed-string-when-showmixedvalue-is-set-back-to-false-and-setvaluewithoutnotify-is-used))
    
*   Universal RP: Fixed data-driven lens-flare missing occlusion. ([UUM-31662](https://issuetracker.unity3d.com/issues/lens-flare-occlusion-effect-doesnt-work-when-the-camera-gameobject-is-behind-obstacles))
    
*   Universal RP: Fixed exception for missing \_Color Shader Property. (UUM-35520)
    
*   Version Control: Fixed an existing checkout operation has locked the workspace, triggered by saving the current scene at check-in.
    
*   Version Control: Fixed Unity Version Control toolbar icon disappearing.
    
*   Video: Fixed an issue to improve VP8Encoder compression and encoding speed. ([UUM-20744](https://issuetracker.unity3d.com/issues/the-video-import-size-is-too-big-when-using-vp8-codec))
    
*   Video: Fixed an issue where Video from Video Player was not updated immediately in the Edit Mode when changing its time in the Inspector window. ([UUM-32448](https://issuetracker.unity3d.com/issues/video-from-video-player-is-not-updated-immediately-in-the-edit-mode-when-changing-its-time-in-the-inspector-window))
    
*   Video: Fixed an issue where Video has a delay, random freezing, and speeding up when using VideoPlayer. ([UUM-31317](https://issuetracker.unity3d.com/issues/video-has-a-delay-random-freezing-and-speeding-up-when-using-videoplayer))
    
*   Video: Fixed an issue where Video Player Component caused performance degradation in WebGL Player when using "Linear" Color Space. ([UUM-32755](https://issuetracker.unity3d.com/issues/video-player-component-causes-performance-degradation-in-webgl-player-when-using-linear-color-space))
    
*   Visual Scripting: Fixed code for custom nodes being stripped in AOT builds when Managed Stripping Level is set to High. ([UVSB-2437](https://issuetracker.unity3d.com/issues/il2cpp-custom-visualscripting-unit-is-stripped-from-build-when-using-il2cpp-and-medium-or-high-managed-stripping))
    
*   Visual Scripting: Fixed migration deserialization bug introduced in 1.8.0. ([UVSB-2492](https://issuetracker.unity3d.com/issues/deserialization-error-when-upgrading-to-1-dot-8-0))
    
*   Web: Fixed an issue in WebGL's FMOD implementation that caused the console to be spammed with errors when using the PlayOneShot API. ([UUM-40643](https://issuetracker.unity3d.com/issues/webgl-fmod-errors-in-the-browser-console-when-audio-is-played-with-playoneshot-frequently))
    
*   WebGL: Fixed a bug where the application's background image wouldn't appear while loading if compression was enabled. ([UUM-8692](https://issuetracker.unity3d.com/issues/webgl-background-image-not-visible-on-the-loading-screen-when-loading-build-project))
    
*   Windows: Fixed a possible crash where non client area was redrawn before player was fully initialized. (UUM-43075)
    
*   XR: Updated XR Interaction Toolkit to version 2.4.1

### Known Issues in 2021.3.29f1

*   Asset Importers: Console displays warning about importing c4d files when a Scripted Importer for c4d files is implemented ([UUM-36242](https://issuetracker.unity3d.com/issues/console-displays-warning-about-importing-c4d-files-when-a-scripted-importer-for-c4d-files-is-implemented))
    
*   Asset Importers: OnImportAsset leaks 5GB of memory ([UUM-43067](https://issuetracker.unity3d.com/issues/onimportasset-leaks-5gb-of-memory))
    
*   HD RP: \[XR\] Editor crash entering play mode with terrain in the scene ([UUM-41447](https://issuetracker.unity3d.com/issues/xr-editor-crash-entering-play-mode-with-terrain-in-the-scene))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: App freezes and the "You can attach a managed debugger now if you want" message doesn't show up when running the app on iOS devices with the "Wait For Managed Debugger" setting enabled ([UUM-39644](https://issuetracker.unity3d.com/issues/ios-app-freezes-and-the-you-can-attach-a-managed-debugger-now-if-you-want-message-doesnt-show-up-when-running-the-app-on-ios-devices-with-the-wait-for-managed-debugger-setting-enabled))
    
*   Linux: Crash on DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: \[Linux\] Crash on monoeg\_assert\_abort when a reload is caused ([UUM-36778](https://issuetracker.unity3d.com/issues/linux-crash-on-monoeg-assert-abort-when-a-reload-is-caused))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   UI Toolkit Framework: Unity Editor is rendered without the toolbar icons when using it on old hardware with integrated GPU ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   Universal RP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    
*   Vulkan: Editor exits when opening the Scene view window or selecting a material ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    

### 2021.3.29f1 Release Notes

#### Improvements

*   IL2CPP: MacOS arm64 builds of il2cpp & UnityLinker updated to target the net 6.0.18 runtime.

#### Changes

*   Package: Fixed a crash that could happen on Android.

#### Fixes

*   2D: Fixed Crash on RasterizeTri when clicking "Pack Preview" after packing an Asset into Sprite Atlas. ([UUM-18880](https://issuetracker.unity3d.com/issues/crash-on-rasterizetri-when-clicking-pack-preview-after-packing-an-asset-into-sprite-atlas))
    
*   Android: Fixed crash when using Optimized Frame Pacing combined with Vulkan native rendering plugins. ([UUM-36096](https://issuetracker.unity3d.com/issues/android-crash-when-using-vulkan-api-and-addinterceptinitialization-with-optimized-frame-pacing-enabled))
    
*   Asset Import: Fixed bug with BC7 texture encoding upon import crashing on older Penryn (Core 2 Duo) CPUs. (UUM-2508)
    
*   Asset Pipeline: Ensure all Accelerator cache downloads are used when importing using ParallelImport mode. ([UUM-39687](https://issuetracker.unity3d.com/issues/asset-artifact-downloaded-from-accelerator-but-the-asset-still-gets-reimported))
    
*   Asset Pipeline: Fixed an issue where mismatched (or corrupted) asset artifact IDs could cause a crash during project launch. ([UUM-27531](https://issuetracker.unity3d.com/issues/crash-on-findassetswithimportertypev2-when-opening-the-project))
    
*   Build System: Fixed pigz-mac-aarch64 artifact (previously was a linux binary instead). ([UUM-42368](https://issuetracker.unity3d.com/issues/pigz-mac-aarch64-slash-2-dot-6-9ff9290d6c66-dot-dot-dot-is-a-linux-binary))
    
*   Documentation: Updated docs to reflect how the engine works. ([UUM-18546](https://issuetracker.unity3d.com/issues/android-vulkan-android-vulkan-graphics-blit-provides-inconsistent-results))
    
*   Editor: AndroidJavaProxy correctly maps null variables (e.g empty string) for reflection search + automatic tests for AndroidJavaProxy. ([UUM-30243](https://issuetracker.unity3d.com/issues/android-androidjavaproxy-call-from-java-to-c-number-fails-when-any-string-parameter-is-null))
    
*   Editor: Append numbers to differentiate shortcut profiles with the default name "New profile". ([UUM-35742](https://issuetracker.unity3d.com/issues/shortcuts-user-gets-profile-already-exists-validation-during-default-profile-creation-workflow))
    
*   Editor: Disabled blitting to same texture error message when the destination texture is not used as input texture in specified pass in Graphics.Blit. ([UUM-33058](https://issuetracker.unity3d.com/issues/blit-material-hidden-slash-kronnect-slash-beautify-slash-beautify-uses-dest-texture-as-input-its-an-undefined-behaviour-consider-using-double-buffering-dot-is-thrown-when-a-blit-is-executed-in-an-image-effect))
    
*   Editor: Disabled probe volume in material preview. ([UUM-33506](https://issuetracker.unity3d.com/issues/material-is-not-rendered-properly-in-material-preview-when-probe-volumes-is-enabled))
    
*   Editor: Fixed "Busy Progress Delay" not saving the new value when clicking to other tabs in the Preferences window. ([UUM-35857](https://issuetracker.unity3d.com/issues/busy-progress-delay-does-not-save-when-directly-entering-a-value))
    
*   Editor: Fixed an issue where a UnityException ("Could not find the requested Platform Texture Settings. This is incorrect, did initialization fail?") would sometimes be thrown when inspecting multiple texture importers at the same time. ([UUM-15620](https://issuetracker.unity3d.com/issues/unityexception-could-not-find-the-requested-platform-texture-settings-is-thrown-when-multi-selecting-textures))
    
*   Editor: Fixed an issue where RFloat / RGFloat / RGBAFloat formats were not useable in the Texture Importer Inspector even though they already could be applied through, for example, an AssetPostprocessor. (UUM-35162)
    
*   Editor: Fixed an issue where users would sometimes be prompted to save their changes by the Texture Importer Inspector despite having not changed any of the importer settings. (UUM-19921)
    
*   Editor: Fixed build issue on Linux. (UUM-34956)
    
*   Editor: Fixed CPU usage not reducing when un-focusing editor if a tab is undocked. ([UUM-35177](https://issuetracker.unity3d.com/issues/editor-windows-cpu-usage-does-not-reduce-when-unfocusing-editor-if-a-tab-is-undocked))
    
*   Editor: Fixed createassetmenu attribute menu name with space won't work. ([UUM-35120](https://issuetracker.unity3d.com/issues/linux-createassetmenu-fails-the-creation-of-scriptableobject-when-menuname-variable-end-with-a-space-character))
    
*   Editor: Fixed for crash when disconnecting bluetooth audio device. (UUM-12583)
    
*   Editor: Fixed for freeze while dragging. ([UUM-41826](https://issuetracker.unity3d.com/issues/freeze-when-moving-the-first-gameobject-into-the-gap-below-the-scene-name))
    
*   Editor: Fixed modal windows are blank when opened. ([UUM-927](https://issuetracker.unity3d.com/issues/backport-macos-modal-window-is-blank-when-opened))
    
*   Editor: Fixed mouse and trackpad horizontal scrolling in the Windows Editor. ([UUM-35980](https://issuetracker.unity3d.com/issues/no-sideways-scroll-functionality-when-using-windows))
    
*   Editor: Fixed mouse cursor lock mode not working on linux. ([UUM-25736](https://issuetracker.unity3d.com/issues/linux-mouse-escapes-the-application-window-when-using-cursorlockmode-dot-locked))
    
*   Editor: Fixed nullref occurring when font references have not been initialized properly. (UUM-37504)
    
*   Editor: Fixed OnRectTransformDimensionsChange is not called on Undo. ([UUM-16963](https://issuetracker.unity3d.com/issues/onrecttransformdimensionschange-is-not-called-on-undo-in-prefab-variant))
    
*   Editor: Fixed PlayerPrefs API in case registry keys has been manually deleted. ([UUM-35575](https://issuetracker.unity3d.com/issues/playerprefsexception-could-not-store-preference-value-when-root-project-entry-does-not-exist))
    
*   Editor: Fixed Timeline performance problem when previewing animated prefab instances. ([UUM-28636](https://issuetracker.unity3d.com/issues/timeline-performance-problem-when-previewing-animated-prefab-instances))
    
*   Editor: Fixed UI Toolkit Debugger upward search with SHIFT+F3 on keyboard with Fn key. (UUM-40662)
    
*   Editor: Fixed xdg-open fallback. ([UUM-37536](https://issuetracker.unity3d.com/issues/linux-default-file-manager-is-not-opened-when-opening-containing-folder-with-nautilus-removed))
    
*   Editor: For URP and HDRP moved the Realtime GI CPU Usage setting to the Quality tab in Project Settings. ([UUM-28789](https://issuetracker.unity3d.com/issues/quality-settings-missing-cpu-usage-setting-users-unable-to-tune-realtime-gi-performance))
    
*   Editor: Ordered shortcut profiles to display alphabetically. ([UUM-34461](https://issuetracker.unity3d.com/issues/shortcuts-saved-profiles-are-not-grouped-alphabetically))
    
*   Editor: Prefab Documentation link fixed for the help button. ([UUM-36665](https://issuetracker.unity3d.com/issues/2d-sprite-and-palette-documentation-links-are-broken))
    
*   Editor: Re-enabled canvas UI overlay rendering to respect the render-target render-scale. (UUM-41127)
    
*   Editor: Switching to the Simulator view from the Game view will no longer change the Simulator view dimensions to be the same as the Game view. ([UUM-30110](https://issuetracker.unity3d.com/issues/the-simulator-view-becomes-fixed-on-the-same-resolution-as-the-game-view-when-its-opened-after-the-game-view))
    
*   Editor: This PR backports fix for a regression where Copy-pasting material properties between different materials throws exceptions. ([UUM-22634](https://issuetracker.unity3d.com/issues/copy-pasting-material-properties-between-different-materials-throws-exceptions))
    
*   Editor: Updated libcurl to 8.1.1. (UUM-29475)
    
*   GI: Backported a fix for a crash and an assertion. (UM-1368)
    
*   GI: EnlightenRuntimeManager methods are visible in the profiler in Play mode. ([UUM-29788](https://issuetracker.unity3d.com/issues/enlightenruntimemanager-methods-are-still-called-in-play-mode))
    
*   Graphics: Corrected UI behavior when selecting multiple lights of different types. ([UUM-36224](https://issuetracker.unity3d.com/issues/hdrp-a-minor-issue-with-shadow-resolution-label-when-multi-selecting-different-light))
    
*   Graphics: Fixed a couple of instances where GraphicsFormats would not correctly convert from Linear to SRGB / SRGB to Linear when using GraphicsFormatUtility.GetSRGBFormat / GraphicsFormatUtility.GetLinearFormat.
    
*   Graphics: Fixed a division-by-zero crash when attempting to use the region-based CopyTexture with depth-only RenderTextures. (UUM-29859)
    
*   Graphics: Fixed a scenario where combining Linear Project Color Space, DisplayP3, enabled Post-Processing and disabled HDR would provoke 'RenderTexture.Create failed' errors. ([UUM-3774](https://issuetracker.unity3d.com/issues/urp-rendertexture-dot-create-failed-thrown-with-linear-color-space-displayp3-gamut-post-processing-enabled-hdr-disabled))
    
*   Graphics: Fixed an issue where a "RenderTexture color format cannot be set to a depth/stencil format" error appeared when passing DefaultFormat.DepthStencil or DefaultFormat.Shadow to the DefaultFormat RenderTexture/CustomRenderTexture constructor. (UUM-11964)
    
*   Graphics: Fixed an issue where creating an sRGB texture using one of the TextureFormat constructors in gamma project color space would produce a texture with an incorrect "Texture.isDataSRGB" value (false). (UUM-29736)
    
*   Graphics: Fixed an issue where RenderTexture assets using Auto GraphicsFormats would sometimes not upgrade correctly if the depthStencilFormat was None, a D16\_UNorm fallback was missing. VideoAuto is now converted to YUV2 as well. (UUM-29430)
    
*   Graphics: Fixed an issue where RenderTexture.enableRandomWrite was not being serialized. (UUM-3769)
    
*   Graphics: Fixed an issue where SystemInfo.GetCompatibleFormat would return an incompatible format for certain depth-stencil formats + FormatUsage combinations. (UUM-3789)
    
*   Graphics: Fixed an issue where the RenderTextureDescriptor 'colorFormat' getter was not consistent with the RenderTexture 'format' getter and was incapable of determining the depth-related RenderTextureFormat when 'graphicsFormat' was 'None'. (UUM-29423)
    
*   Graphics: Fixed an issue where the RenderTextureFormat 'format' getter on AttachmentDescriptor would not return RenderTextureFormat.Depth when the 'graphicsFormat' was a depth-stencil format. (UUM-29423)
    
*   Graphics: Fixed an issue where, in some instances, specific GraphicsFormatUtility API such as "ConvertToAlphaFormat" or "HasAlphaChannel" were returning incorrect results for a number of TextureFormats. (UUM-35162)
    
*   Graphics: Fixed instances where the RenderTextureDescriptor sRGB setter would sometimes 'corrupt' or unintentionally modify the descriptor's GraphicsFormat. ([UUM-3774](https://issuetracker.unity3d.com/issues/urp-rendertexture-dot-create-failed-thrown-with-linear-color-space-displayp3-gamut-post-processing-enabled-hdr-disabled))
    
*   Graphics: Fixed mismatch mipcount error with double buffer and anti-aliasing on. ([UUM-30877](https://issuetracker.unity3d.com/issues/graphics-dot-copytexture-is-called-with-mismatching-mip-counts-when-anti-aliasing-is-used))
    
*   Graphics: Fixed shadow render issues on Built-in Render Pipeline when using Metal. ([UUM-3150](https://issuetracker.unity3d.com/issues/lighting-render-issues-when-using-metal-on-macos-with-ios-build-target))
    
*   Graphics: Graphics: Fixed loading of legacy Texture assets that were BC-compressed but didn't have multiple-of-four dimensions. ([UUM-19666](https://issuetracker.unity3d.com/issues/multiple-errors-appear-in-the-console-window-when-reimporting-a-scenetemplate-asset-that-contains-a-texture-with-width-slash-height-not-divisible-by-4))
    
*   Graphics: GraphicsFormat.None is now correctly permitted as a color format on all RenderTexture constructors, enabling the use of the new approach for creating depth-only RTs across all constructors (GraphicsFormat.None as a color format). (UUM-29440)
    
*   Graphics: Made Always/Vertex pass to be accepted by the ForwardRenderer loop and receive the main light's screenspace shadowmap. (UUM-36912)
    
*   HDRP: Added an helpbox for local custom pass volumes that doesn't have a collider attached. (UUM-35651)
    
*   HDRP: Fixed baked light being wrongly put in the cached shadow atlas. ([UUM-34189](https://issuetracker.unity3d.com/issues/baked-light-doesnt-fit-the-shadow-atlas-when-the-shadow-update-mode-is-set-to-on-enable))
    
*   HDRP: Fixed D3D validation error for area lights in HDShadowAtlas. (UUM-35804)
    
*   HDRP: Fixed inconsistent documentation about hardware supporting raytracing. (UUM-39577)
    
*   HDRP: Fixed scene template dependencies. ([UUM-36599](https://issuetracker.unity3d.com/issues/hdrp-new-scene-templates-duplicate-assets-when-saved))
    
*   HDRP: Fixed wrong metapass when using planar/triplanar projection in HDRP. (UUM-22089)
    
*   HDRP: Improving DLSS ghosting artifacts a little bit, by using a better pre-exposure parameter. Fixing reset history issues on DLSS camera cuts. (UUM-37205)
    
*   HDRP: Minor fix to HDRP UI when Raytraced AO is enabled. (UUM-35581)
    
*   HDRP: Show base color texture on decal materials if Affect BaseColor is disabled. ([UUM-29083](https://issuetracker.unity3d.com/issues/hdrp-basecolor-texture-on-decal-material-should-be-grayed-out-not-hidden-when-affect-basecolor-is-disabled))
    
*   IL2CPP: Fixed issue with Managed code stripping when inlining setters with a backing type located in a different assembly. ([UUM-30763](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-inline-setter-optimization-is-used))
    
*   IL2CPP: Fixed static constructors on structs not being called before class to struct instance methods. ([UUM-39521](https://issuetracker.unity3d.com/issues/static-constructor-in-a-struct-returns-false-when-running-tests-with-il2cpp))
    
*   iOS: Fixed PlayerSettings.iOS.hideHomeButton not reading/modifying actual PlayerSettings. (UUM-31884)
    
*   License: Fixed performance issue in IPC comms under heavy thread load. ([UUM-35368](https://issuetracker.unity3d.com/issues/checklicensingclientnotification-ms-increases-overtime-when-profiling-in-editor-mode-on-the-main-thread))
    
*   Mono: Avoid an incorrect TypeLoadException when a generic type has a field which is a 2D array of itself. ([UUM-34854](https://issuetracker.unity3d.com/issues/typeloadexception-is-thrown-when-using-recursive-types-in-monobehaviour-inherited-classes))
    
*   Mono: Fixed crash when attempting to access a field of a null valuetype object. ([UUM-27537](https://issuetracker.unity3d.com/issues/crash-on-mono-gc-wbarrier-range-copy-when-loading-a-scene-async))
    
*   Mono: This fixes string initialization when creating a new string with the intention of all characters getting set to null. Removes the optimization that assumes the memory is clean. ([UUM-35559](https://issuetracker.unity3d.com/issues/random-string-values-are-printed-in-the-console-when-passing-a-new-string-object-initialized-with-multiple-slash-0-characters-to-the-debug-dot-log-function))
    
*   Networking: UnityWebRequest texture download will now create the texture with mipmaps. ([UUM-26628](https://issuetracker.unity3d.com/issues/no-mipmaps-are-created-when-using-unitywebrequesttexture-dot-gettexture))
    
*   Package Manager: Fixed an issue where the whole project directory was deleted when removing a package with a non-existent file path. ([UUM-36876](https://issuetracker.unity3d.com/issues/whole-project-directory-deleted-when-removing-a-package-with-a-non-existent-file-path))
    
*   Particles: Fixed incorrect simulation when using the Simulate Layers option on effects that contain non-looping sub-emitters. (UUM-40365)
    
*   Prefabs: Fixed "Prefab mismatch: The instance object in the scene is referencing a corresponding source object in the Prefab of a different type." thrown when applying added GameObject to a Prefab. ([UUM-36238](https://issuetracker.unity3d.com/issues/prefab-mismatch-the-instance-object-in-the-scene-is-referencing-a-corresponding-source-object-in-the-prefab-of-a-different-type-dot-thrown-when-applying-added-gameobject-to-a-prefab))
    
*   Prefabs: Fixed Property of VFX cant be modified when modifying a VFX Prefab. ([UUM-42790](https://issuetracker.unity3d.com/issues/2021-dot-3-property-of-vfx-cant-be-modified-when-modifying-vfx-prefab-asset))
    
*   Scripting: Scripting: Fixed performance regression on some API that take array parameters. ([UUM-38089](https://issuetracker.unity3d.com/issues/physics-dot-spherecastnonalloc-is-slow-when-the-results-array-is-large))
    
*   Serialization: Fixed Missing ScriptableObjects do not throw NullReferenceExceptions when accessing their properties in Play Mode. ([UUM-34447](https://issuetracker.unity3d.com/issues/missing-scriptableobjects-do-not-throw-nullreferenceexceptions-when-accessing-their-properties))
    
*   Serialization: Fixed where it is not possible to instantiate abstract class, which is happening in this case. The fix for editor crash is to make sure that the abstract StatusEffect class is not instantiated in SerializedReference fields. You can achieve this by either changing all the occurrences, or add \[MovedFrom(true, sourceClassName:"StatusEffect")\] attribute to StatusEffectComplex class. ([UUM-9218](https://issuetracker.unity3d.com/issues/editor-crashes-with-the-file-memorystream-is-corrupted-when-opening-a-scene))
    
*   Serialization: Make sure double-s are parsed correctly in MiniJSON ParseNumber. ([UUM-19166](https://issuetracker.unity3d.com/issues/small-values-are-turned-to-zeroes-when-copying-and-pasting-the-whole-list))
    
*   Serialization: When serializing empty managed object reference we are not adding the data node in the YAML, which is causing problems after some fields are added to the script and the YAML is being de-serialized. In this case, as there still is not any data node in the YAML, the deserialization process is not instantiating the managed object correctly. ([UUM-2258](https://issuetracker.unity3d.com/issues/changes-to-an-empty-serializereference-class-causes-data-errorswhen-selecting-a-previously-created-asset))
    
*   Shadergraph: Fixed Texture Size node causing compilation error in the Fullscreen ShaderGraph target. ([UUM-28758](https://issuetracker.unity3d.com/issues/the-invalid-subscript-texcoord2-error-appears-when-using-a-texturesize-node))
    
*   Shaders: Fixed canceling shader variant compilation not working when compilation was async. ([UUM-9826](https://issuetracker.unity3d.com/issues/cancel-button-wont-stop-shader-graph-from-compiling-user-is-unable-to-gain-control-of-the-editor))
    
*   Shaders: Fixed replacement shaders not picking up keywords enabled on the material that are not valid for the shader assigned to the material. ([UUM-40400](https://issuetracker.unity3d.com/issues/shader-keywords-are-ignored-when-using-camera-dot-main-dot-setreplacementshader))
    
*   SRP Core: Fixed console errors when debug actions are removed from Input Manager during play mode. ([UUM-37148](https://issuetracker.unity3d.com/issues/argumentexception-input-button-enable-debug-button-1-is-not-set-is-thrown-when-enable-debug-button-1-is-deleted))
    
*   SRP Core: Fixed Rendering Debugger runtime UI getting occluded by user UI with sorting order larger than 0. ([UUM-26782](https://issuetracker.unity3d.com/issues/canvas-is-rendered-on-the-top-of-a-urp-rendering-debugger-when-canvas-sort-order-is-greater-than-0))
    
*   UI: Fixed incorrect UV calculated on UI sprites when texture is a crunched-compressed format. ([UUM-40544](https://issuetracker.unity3d.com/issues/textures-are-displayed-at-half-the-size-when-texture-mipmap-limit-is-set-to-half-resolution))
    
*   UI Toolkit: Fixed an exception when calling RemoveFromHierarchy during detatchFromPanel events. ([UUM-36627](https://issuetracker.unity3d.com/issues/nullreferenceexception-exception-when-removefromhierarchy-method-is-called))
    
*   Universal RP: Removed a Debug.Log line in Blitter.
    
*   Universal Windows Platform: Fixed use of ReadOnlyAttribute in certain managed plugin scenario. ([UUM-39921](https://issuetracker.unity3d.com/issues/error-il2cpp-error-no-further-information-about-what-managed-code-was-being-converted-is-available-thrown-when-building-the-project-for-uwp))
    
*   URP: 2D - Fix additional draw call when Foremost Sorting Layer is enabled during unlit. ([UUM-37441](https://issuetracker.unity3d.com/issues/2d-urp-objects-are-rendered-twice-when-foremost-sorting-layer-is-enabled))
    
*   VFX Graph: Filter out META passes from SG generated shaders. ([UUM-30050](https://issuetracker.unity3d.com/issues/applymeshmodification-no-matching-2-parameter-function-shader-error-when-vfx-uses-custom-output-shaders))
    
*   VFX Graph: Fixed bounds reduction shader compilation on DXC. (UUM-6058)
    
*   VFX Graph: Fixed HDRP Decal Output when system is in world space. (UUM-41091)
    
*   VFX Graph: Fixed mesh LOD flickering when using TAA. ([UUM-10073](https://issuetracker.unity3d.com/issues/lod-groups-flicker-in-scene-view-when-always-refresh-is-on))
    
*   VFX Graph: Fixed mismatching LOD between eyes in multi-pass VR. (UUM-6004)
    
*   VFX Graph: Fixed particles not rendering when sorting is enabled and no update context is present. ([UUM-35121](https://issuetracker.unity3d.com/issues/vfx-graph-alpha-blended-particles-do-not-render-when-there-is-no-update-context))
    
*   VFX Graph: Fixed sorting being disabled when Frustum Culling is On is some case. ([UUM-40707](https://issuetracker.unity3d.com/issues/particles-flicker-when-compute-culling-is-off-and-frustum-culling-is-on))
    
*   VFX Graph: Forces positive color values in graph. ([UUM-20076](https://issuetracker.unity3d.com/issues/vfx-graph-output-mesh-having-negative-base-color-channel-results-in-black-screen))
    
*   VFX Graph: Prevent overflow on baked curve and gradient. ([UUM-560](https://issuetracker.unity3d.com/issues/vfx-graph-gradient-node-intensifies-color-on-particle-emissions-excessively-when-connected-to-random-number-node))
    
*   VFX Graph: Replace default mesh output shader to be SRP compatible. (UUM-4363)
    
*   VFX Graph: Restore some tooltips that were lost. (UUM-18536)
    
*   Video: \[WebPlatform\] Forwarding video, moves to start on Mac OS Chrome browser when "Build and Run". ([UUM-3214](https://issuetracker.unity3d.com/issues/webplatform-forwarding-video-moves-to-start-on-mac-os-chrome-browser-when-build-and-run))
    
*   WebGL: Moved BrowserifyJSTool to the WebGL area since its only used by the WebGL build. (UUM-34020)
    
*   Windows: Fixed for preserving escaped double quote in a quoted command line argument. (UUM-36789)
    
*   Windows: Fixed PlayerPrefs API in case registry keys has been manually deleted. ([UUM-35575](https://issuetracker.unity3d.com/issues/playerprefsexception-could-not-store-preference-value-when-root-project-entry-does-not-exist))
    
*   XR: XR: Fixed an issue with XR Input -> Input System that caused Input System's TrackedPoseDriver rotation to drift between Update / BeforeRender calls.

### Known Issues in 2021.3.28f1

*   HD RP: \[XR\] Editor crash entering play mode with terrain in the scene ([UUM-41447](https://issuetracker.unity3d.com/issues/xr-editor-crash-entering-play-mode-with-terrain-in-the-scene))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: App freezes and the "You can attach a managed debugger now if you want” message doesn’t show up when running the app on iOS devices with the "Wait For Managed Debugger" setting enabled ([UUM-39644](https://issuetracker.unity3d.com/issues/ios-app-freezes-and-the-you-can-attach-a-managed-debugger-now-if-you-want-message-doesnt-show-up-when-running-the-app-on-ios-devices-with-the-wait-for-managed-debugger-setting-enabled))
    
*   Linux: Crash on DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Universal RP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    
*   Vulkan: Editor exits when opening the Scene view window or selecting a material ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    

### 2021.3.28f1 Release Notes

#### Improvements

*   Documentation: Improved the documentation for the NonSerialized attribute to indicate that the attribute is necessary if you really never want a (private) field to be serialized.
    
*   Editor: Animation Events are now organized into sub-menus in the inspector.
    
*   Editor: The "Non-Power of 2" control is now hidden for Cubemaps in the Texture Importer Inspector because it is not used for Cubemaps. ([UUM-1882](https://issuetracker.unity3d.com/issues/mapping-option-is-disabled-when-importing-an-image-as-a-point-light-cookie-with-non-power-of-2-option-set-to-none))
    
*   Multiplayer: Added Netcode for GameObjects 1.5.0.
    
*   VFX Graph: Allows texture types to be used in branch operators. ([UUM-38037](https://issuetracker.unity3d.com/issues/vfx-graph-branch-node-does-not-accept-texture-input))
    
*   VFX Graph: VFX systems receiving GPU events can now go into sleep state.
    

#### Changes

*   Build Pipeline: Will now use -filelist when running libtool for MacOS/iOS builds to prevent command lines from becoming too long. (UUM-34555)
    
*   Package: Updated code coverage package to version 1.2.4.
    
*   Services: Rebranded Unity Cloud Build service to Build Automation.
    
*   XR: Updated com.unity.xr.openxr package version to 1.8.0.
    
*   XR: Updated com.unity.xr.openxr package version to 1.8.1.
    

#### Fixes

*   2D: Fixed bug with placement of the Tilemap Instantiated Object when the Tilemap orientation is set. (UUM-36433)
    
*   2D: Fixed case where sprite Packer does not re-pack folder when texture type is changed to sprite when inside a target folder. ([UUM-34323](https://issuetracker.unity3d.com/issues/sprite-atlas-v2-sprite-packer-does-not-re-pack-folder-when-texture-type-is-changed-to-sprite-when-inside-a-target-folder))
    
*   Android: Fixed crash when creating pipeline objects for some URP Lit shader on some older Adreno drivers. ([UUM-29409](https://issuetracker.unity3d.com/issues/android-vulkan-urp-and-built-in-both-crash-when-using-mtr-with-vulkan-on-some-devices))
    
*   Android: Fixed errors on new InputSystem when using mouse clicks on Samsung Dex. ([UUM-19038](https://issuetracker.unity3d.com/issues/android-uitoolkit-buttons-cant-be-clicked-with-a-cursor-in-samsung-dex-when-using-eventsystem))
    
*   Android: Fixed R8 mapping output and enforced use of R8 for targetSDK 33 and above. ([UUM-889](https://issuetracker.unity3d.com/issues/android-invalid-retrace-mapping-file-is-generated-when-using-r8-for-minification-1))
    
*   Android: Fixed Unity allocator crash when forcing -systemallocator on ARM64 with Android 10/11 or higher. (UUM-40105)
    
*   Android: Updated that the text inputfield to appear and disappear with the "Enter" key. ([UUM-30811](https://issuetracker.unity3d.com/issues/android-text-input-field-doesnt-disappear-when-pressing-enter-on-the-keyboard-connected-to-a-device-and-hidemobileinput-is-disabled))
    
*   Asset Bundles: Added error message when loading bundle without typetrees in the Editor. ([UUM-660](https://issuetracker.unity3d.com/issues/assetbundle-dot-loadfromfileasync-causes-errors-when-bundles-are-built-using-disablewritetypetree))
    
*   Build Pipeline: Fixed edge case where using the BuildPipeline.BuildPlayer APIs on Windows can fail, when a previously used build folder has been deleted. ([UUM-30952](https://issuetracker.unity3d.com/issues/buildpipeline-dot-buildplayer-ignores-buildplayeroptions-dot-locationpathname-and-attempts-to-build-to-the-cached-folder))
    
*   Build Pipeline: Fixed incorrect dependencies appear after building AssetBundles with Prefab Variants. ([UUM-20038](https://issuetracker.unity3d.com/issues/incorrect-dependancies-appear-after-building-assetbundles))
    
*   Build Pipeline: Fixed renaming Prefab Objects leads to wrong Asset Bundle dependency when the Prefab is nested. ([UUM-639](https://issuetracker.unity3d.com/issues/renaming-prefab-objects-leads-to-wrong-asset-bundle-dependency-when-the-prefab-is-nested))
    
*   Build Pipeline: Fixed Shader references are lost when building assets with BuildPipeline.BuildAssetBundles. ([UUM-2259](https://issuetracker.unity3d.com/issues/shader-references-are-lost-when-building-assets-with-buildpipeline-dot-buildassetbundles))
    
*   Burst: Fixed incorrect Burst stacktraces in Windows player builds. (UUM-33695)
    
*   Editor: AdbProvider doesn't add errors when displayed in the Project tab. ([UUM-32810](https://issuetracker.unity3d.com/issues/search-reference-filter-creates-unknown-filter-name-error-message-in-menu))
    
*   Editor: Added Bee build recipes for LAME and Vorbis encoders.  
    Fix LAME vulnerability CVE-2017-8419. (UUM-14404)
    
*   Editor: Added more validation when saving scene template (handled outside project). Also allows saving inside a package folders. ([UUM-30708](https://issuetracker.unity3d.com/issues/couldnt-create-asset-file-error-message-and-exception-when-creating-template-scene-asset-outside-assets-folder))
    
*   Editor: Added try/catch when calling custom indexers so they cannot crash the whole indexing process. ([UUM-27948](https://issuetracker.unity3d.com/issues/search-window-doesnt-show-any-project-assets))
    
*   Editor: Avoid quadratic indexing time when indexing scenes with prefabs. ([UUM-16085](https://issuetracker.unity3d.com/issues/search-index-build-duration-raises-disproportionately-when-element-count-increases))
    
*   Editor: Changed search result count label color to be more clear when selected and hovered. ([UUM-32515](https://issuetracker.unity3d.com/issues/search-search-results-amount-is-poorly-visible-when-editor-is-in-light-mode))
    
*   Editor: Component Help button tooltip are generated with a nicify type name. ([UUM-37612](https://issuetracker.unity3d.com/issues/inspector-help-tooltips-display-section-titles-from-several-words-without-the-spaces))
    
*   Editor: Custom indexers are properly refreshed on Domain reload. ([UUM-35650](https://issuetracker.unity3d.com/issues/indexes-are-rebuilt-when-changes-to-the-search-index-manager-options-are-saved))
    
*   Editor: Do not allow to add the same column twice. ([UUM-36007](https://issuetracker.unity3d.com/issues/search-the-same-columns-can-be-added-multiple-times))
    
*   Editor: Ensure ModeService does a EnumerateAllAssets once (in startup) and never again during domain reload. (UUM-37521)
    
*   Editor: Fixed a case where an object change event for object destruction would not contain a valid parent instance id. ([UUM-40341](https://issuetracker.unity3d.com/issues/using-undo-on-created-slash-duplicated-child-gameobject-does-not-return-id-of-previous-parent-gameobject))
    
*   Editor: Fixed an issue that caused some packages to remain visible in the Project Window when the visibility button was toggled. ([UUM-35156](https://issuetracker.unity3d.com/issues/pre-installed-2d-packages-are-not-hidden-when-the-visibility-toggle-is-clicked-in-the-project-window))
    
*   Editor: Fixed an issue that caused the assets of some packages to remain visible in the Object Picker when the visibility button in the Project Window was toggled. ([UUM-21308](https://issuetracker.unity3d.com/issues/object-picker-lists-assets-from-packages-when-packages-assets-visibility-is-set-to-hidden))
    
*   Editor: Fixed an issue where dragging an asset from the Packages folder to an empty Assets folder could cause a crash. ([UUM-39919](https://issuetracker.unity3d.com/issues/project-silently-crashes-when-dragging-files-from-the-packages-folder-into-the-assets-folder))
    
*   Editor: Fixed an issue where the Cubemap "Mapping" control in the Texture Importer Inspector would incorrectly be disabled in certain scenarios. ([UUM-1882](https://issuetracker.unity3d.com/issues/mapping-option-is-disabled-when-importing-an-image-as-a-point-light-cookie-with-non-power-of-2-option-set-to-none))
    
*   Editor: Fixed Column naming in Edit Column menu. ([UUM-32469](https://issuetracker.unity3d.com/issues/search-column-actions-are-displayed-in-code-strings-edit-m-activequeryguid-not-in-human-language))
    
*   Editor: Fixed context menu items not being enabled in modal windows on MacOS Editor. (UUM-20747)
    
*   Editor: Fixed crash when calling EditorUtility.UnloadUnusedAssetsImmediate(false). ([UUM-11648](https://issuetracker.unity3d.com/issues/editor-crashes-when-editorutility-dot-unloadunusedassetsimmediate-is-called))
    
*   Editor: Fixed EditorBuildRules.GetAllScriptAssemblies scales poorly on large projects. (UUM-35879)
    
*   Editor: Fixed for editor freeze on macOS. ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   Editor: Fixed hover and tooltip of Scene Template Pipeline help button. ([UUM-37542](https://issuetracker.unity3d.com/issues/inspector-scene-template-asset-help-icon-doesnt-change-its-background-and-has-no-tooltip-on-hover-state))
    
*   Editor: Fixed issues with missing realtime GI when mixing realtime GI Light Probes and baked GI Light Probes in Auto Generate Lighting mode. (UUM-20639)
    
*   Editor: Fixed meshes from 2019 LTS and older being upgraded to use an incorrect "Margin Method" setting for Lightmap UV generation. (UUM-37456)
    
*   Editor: Fixed resize minimum size on undocked window. ([UUM-36103](https://issuetracker.unity3d.com/issues/linux-editor-windows-can-get-infinitely-smaller-when-resizing-them))
    
*   Editor: Fixed scrollbar in scene template dialog. ([UUM-35878](https://issuetracker.unity3d.com/issues/scene-template-the-scrollbar-is-not-fully-displayed-in-the-window))
    
*   Editor: Fixed the problem of selectedPlatform being serialized in ProjectSettings.asset. ([UUM-28332](https://issuetracker.unity3d.com/issues/project-settings-window-serializing-the-built-platform-in-projectsettings-dot-asset))
    
*   Editor: Fixed title show the major, minor and version build. ([UUM-26695](https://issuetracker.unity3d.com/issues/full-editor-version-is-not-displayed-in-the-toolbar))
    
*   Editor: Fixed tool gizmos clipping in cases where adjacent objects are separated by large distances on the z axis. ([UUM-34638](https://issuetracker.unity3d.com/issues/gameobjects-are-not-being-rendered-in-the-scene-view-when-their-z-position-is-negative))
    
*   Editor: Improved warning message when trying to save a SceneTemplate with an invalid asset path. ([UUM-31433](https://issuetracker.unity3d.com/issues/console-displays-error-unityexception-creating-asset-at-path-assets-slash-scenes-slash-scenetemplate-failed-dot-during-scene-template-saving))
    
*   Editor: Prevent particle system buffer pre-mapping in editor if RenderDoc is present. ([UUM-32787](https://issuetracker.unity3d.com/issues/renderdoc-fails-to-capture-game-window-when-particle-system-is-used))
    
*   Editor: Updating outdated and broken links in the Help toolbar for Unity Discussions (old Unity Answers) & Unity Feedback. (UUM-40354)
    
*   GI: Fixed crash on Mac M1 when attempting to bake a reflection probe in URP. ([UUM-1370](https://issuetracker.unity3d.com/issues/silent-crash-when-attempting-to-bake-a-reflection-probe-in-urp))
    
*   GI: Fixed Light Probe occlusion when using GPU Lightmapper and many light probe positions. ([UUM-4179](https://issuetracker.unity3d.com/issues/light-probe-visualization-occlusion-is-not-smooth-when-using-the-progressive-gpu-lightmapper-and-the-scene-has-many-light-probes))
    
*   GI: Fixed off-by-one error in version number used for margin method upgrade path. ([UUM-40721](https://issuetracker.unity3d.com/issues/enter-the-room-test-scene-is-noisier))
    
*   Graphics: Avoid false warnings about RenderTexture format when switching colorspace. (UUM-6770)
    
*   Graphics: Fixed CustomRenderTexture depth test results failing on some platforms. ([UUM-1839](https://issuetracker.unity3d.com/issues/textures-using-customrendertexture-are-not-rendered-when-using-specific-graphics-apis))
    
*   Graphics: Fixed Light movement and artifacts when multiple vertex lights are interacting. ([UUM-36457](https://issuetracker.unity3d.com/issues/light-movement-and-artifacts-when-multiple-vertex-lights-are-interacting))
    
*   Graphics: Graphics: Fixed solid color block artifacts when compressing textures using Fast ASTC on M1 devices. ([UUM-3148](https://issuetracker.unity3d.com/issues/m1-texture-with-compressed-astc-format-using-fast-compressor-quality-causes-black-artifacts-on-texture))
    
*   Graphics: SUCCEEDED(hr) error is thrown when the project's Shadows Filtering Quality is set to High or Very High. ([UUM-37088](https://issuetracker.unity3d.com/issues/hdrp-succeeded-hr-error-is-thrown-when-the-projects-shadows-filtering-quality-is-set-to-high-or-very-high-1))
    
*   HDRP: Added check to ensure gismos arent rendered when they shouldnt be. ([UUM-22315](https://issuetracker.unity3d.com/issues/gizmos-are-visible-when-disabled-in-wireframe-shading-mode-with-hdrp))
    
*   HDRP: Fixed color pyramid history buffer logic when history is reset and the color pyramid is not required. ([UUM-36095](https://issuetracker.unity3d.com/issues/indexoutofrangeexception-error-is-thrown-when-entering-play-mode-while-allow-dlss-refraction-and-distortion-are-selected-in-the-camera-component))
    
*   HDRP: Fixed GetScaledSize when not using scaling. (UUM-34513)
    
*   HDRP: Fixed TAA aliasing edge issues on alpha output for recorder / green screen. This fix does the following:  
    
    *   Removes history rejection when the current alpha value is 0. Instead it does blend with the history color when alpha value is 0 on the current plane.  
        
    *   The reasoning for blending again with the history when alpha is 0 is because we want the color to blend a bit with opacity, which is the main reason for the alpha values. sort of like a precomputed color  
        
    *   As a safety, we set the color to black if alpha is 0. This results in better image quality when alpha is enabled. ([UUM-33950](https://issuetracker.unity3d.com/issues/anti-aliasing-around-objects-results-in-outlines-when-recording-against-a-background))
*   HDRP: Fixed VT init to avoid RTHandle allocation outside of HDRP rendering loop. (UUM-31058)
    
*   HDRP: \[Backport\] Fix the incorrect base color of decals for transparency. (UUM-38038)
    
*   IL2CPP: Fixed LineNumberMapping.json not ending up in exported projects when --emit-source-mapping is used. ([UUM-29964](https://issuetracker.unity3d.com/issues/il2cpp-no-c-number-to-c-plus-plus-line-mapping-json-file-present-when-exporting-android-project))
    
*   IL2CPP: When P/Invoking with a blittable class parameter, pass a pinned pointer to the managed class to native. ([UUM-33942](https://issuetracker.unity3d.com/issues/blittable-classes-are-not-being-pinned-and-passed-directly-to-the-native-code-when-using-il2cpp-scripting-backend))
    
*   iOS: Fixed "Screen.orientation" is not changing orientation in the UaaL. ([UUM-30925](https://issuetracker.unity3d.com/issues/uaal-screen-dot-orientation-is-not-changing-orientation-in-the-uaal-example-on-an-ios-device))
    
*   iOS: Fixed assert error in iOS.Device.systemVersion and tvOS.Device.systemVersion. Also make there properties only return values on respective OSes. (UUM-16561)
    
*   iOS: Fixed BuildCanBeAppended returning Unsupported when used on Windows. ([UUM-25061](https://issuetracker.unity3d.com/issues/buildcanbeappended-for-ios-returns-unsupported-when-used-on-windows))
    
*   iOS: Fixed leak error messages for iOS build and run process on MacOS editor. ([UUM-1944](https://issuetracker.unity3d.com/issues/backport-ios-unfreed-allocation-errors-thrown-in-console-when-executing-build-and-run-with-ios-platform))
    
*   iOS: Fixed low memory usage event not triggered when using Unity as a library. ([UUM-20838](https://issuetracker.unity3d.com/issues/ios-application-dot-lowmemory-callback-is-not-invoked-on-ios-devices-when-a-memory-overflow-occurs-if-using-unity-as-a-library-embedded-into-a-native-swift-ios-application))
    
*   iOS: Fixed Screen.orientation not changing value when only landscape orientations are enabled and device is rotated. ([UUM-36598](https://issuetracker.unity3d.com/issues/ios-screen-dot-orientation-prints-landscape-when-phone-orientation-is-landscape-dot-left-or-landscape-dot-right))
    
*   iOS: Fixed Screen.orientation returns wrong values when switching from Landscape orientation to AutoRotation at runtime on iOS 16. ([UUM-23251](https://issuetracker.unity3d.com/issues/ios-screen-dot-orientation-returns-wrong-values-when-switching-from-landscape-orientation-to-autorotation-at-runtime-on-ios-16))
    
*   Linux: Fixed Unity Editor does not send exit code until Bug Reporter is closed. (UUM-34630)
    
*   Linux: Fixed Unity runtime printing stack trace more than once in Entities package + IL2CPP crashes. ([UUM-35527](https://issuetracker.unity3d.com/issues/entities-linux-il2cpp-player-crash-stack-trace-is-displayed-multiple-times-when-the-build-is-run-with-batchmode-nographics-arguments))
    
*   macOS: Fixed BuildCanBeAppended returning Unsupported when used on Windows. ([UUM-25061](https://issuetracker.unity3d.com/issues/buildcanbeappended-for-ios-returns-unsupported-when-used-on-windows))
    
*   macOS: Fixed editor freezes on Apple Silicon devices. ([UUM-3768](https://issuetracker.unity3d.com/issues/m1-editor-slash-player-freezes-when-calling-getnativetextureptr))
    
*   Mono: Corrected handle generic parameter attributes in the .Net Framework Api Compatibility Level. ([UUM-32896](https://issuetracker.unity3d.com/issues/error-in-the-console-when-switching-the-api-compatibility-level-and-using-iasyncenumerable))
    
*   Package Manager: Fixed a bug where removing an invalid local package would delete your project folder. ([UUM-36876](https://issuetracker.unity3d.com/issues/whole-project-directory-deleted-when-removing-a-package-with-a-non-existent-file-path))
    
*   Package Manager: Fixed null Exception when manually installing com.unity.ui.builder. ([UUM-39890](https://issuetracker.unity3d.com/issues/nullreferenceexception-manually-installing-ui-builder-package-from-package-manager-window))
    
*   Particles: Fixed potential crash when using systems relying on GeometryJobs. ([UUM-36872](https://issuetracker.unity3d.com/issues/editor-crashes-on-bufferd3d11-endwrite-when-hierarchy-filter-gives-zero-results-on-a-scene-with-a-custom-ui-prefab))
    
*   Prefabs: Fixed PrefabModificationsForSerializedObject::DoPrefabModificationsNeedUpdate() is unnecessarily slow. (UUM-40630)
    
*   Profiler: Fixed invalid time reported by ProlfierRecorder for Main Thread root marker. ([UUM-35959](https://issuetracker.unity3d.com/issues/profilerrecorder-render-thread-statistic-reports-the-lastvalue-as-0-when-the-profiler-is-enabled))
    
*   Serialization: Memory could get corrupted when attempting to deserialize a JSON to an Array. As this is not supported by JsonUtility, this will now throw an ArgumentException. ([UUM-34344](https://issuetracker.unity3d.com/issues/crash-on-mono-traverse-objects-when-entering-and-exiting-play-mode))
    
*   Services: Fixed Unity Cloud Build service broken links.
    
*   Shaders: Fixed "state comes from an incompatible keyword space" error sometimes shown in the console when loading certain shaders. ([UUM-36032](https://issuetracker.unity3d.com/issues/state-comes-from-an-incompatible-keyword-space-error-in-console))
    
*   Shaders: Fixed corruption of AuxIndexCache when setting a TextureProperty on ShaderPropertySheet. (UUM-34732)
    
*   Shaders: Fixed interpolator parameter GLSL generated code for EVAL\_SAMPLE\_INDEX, EVAL\_SNAPPED, EVAL\_CENTROID. (UUM-35468)
    
*   SRP Core: Crash on keywords::LocalKeywordState::ResetWithSpace when shader contains Grab Pass. ([UUM-30548](https://issuetracker.unity3d.com/issues/crash-on-keywords-localkeywordstate-resetwithspace-when-opening-a-specific-project))
    
*   TextCore: Fixed issue where sprites used incorrect indexes. ([UUM-30797](https://issuetracker.unity3d.com/issues/sprites-with-different-indexes-than-indicated-in-text-field-of-label-inspector-are-being-rendered))
    
*   uGUI: Slider Component Normal Color property does not change in Scene and Game view when changed with an Animation. ([UUM-34170](https://issuetracker.unity3d.com/issues/slider-component-normal-color-property-does-not-change-in-scene-and-game-view-when-changed-with-an-animation))
    
*   UI Toolkit: Fixed missing Length conversions for style transitions between px and % units. ([UUM-21277](https://issuetracker.unity3d.com/issues/ui-transition-animation-does-not-work-when-translating-with-percentages-instead-of-pixels))
    
*   UI Toolkit: Fixed runtime navigation issues in TextField and composite fields, sometimes not entering text editing mode, or inserting undesired characters when doing so, or not allowing navigation to other elements. ([UUM-20841](https://issuetracker.unity3d.com/issues/textfield-cannot-be-focused-when-the-input-system-event-system-script-is-being-used))
    
*   UI Toolkit: Fixed the flag value not being updated with change of selection for unsigned int in enum mask field. (UUM-3688)
    
*   UI Toolkit: Fixed UI Toolkit not rendering in render texture when launched in batch mode. ([UUM-26763](https://issuetracker.unity3d.com/issues/ui-toolkit-is-not-rendered-when-the-player-is-launched-in-batch-mode))
    
*   Universal RP: Fixed an issue where keywords used with SSAO and Decals were not stripped correctly when the features were disabled. ([UUM-18616](https://issuetracker.unity3d.com/issues/linux-player-scene-is-darker-than-in-game-view-when-ssao-is-disabled))
    
*   Universal RP: Fixed lens-flare post-process effect on overlay camera causing a black screen. ([UUM-36538](https://issuetracker.unity3d.com/issues/game-view-is-black-when-using-lens-flare-and-camera-stacking))
    
*   Universal RP: Fixed rare iOS shader building failure due to URP Lit Forward Pass shader varyings struct variable mismatch. ([UUM-1916](https://issuetracker.unity3d.com/issues/ios-metal-shader-error-is-thrown-when-loading-prefab-on-ios-device))
    
*   Universal RP: Universal RP: Decals now do not enqueue passes when running on unsupported API's, such as OpenGL or GLES3, instead of displaying the magenta error. (UUM-13183)
    
*   Universal Windows Platform: Capabilities are not changed when rebuilding the project. ([UUM-39725](https://issuetracker.unity3d.com/issues/uwp-capabilities-are-not-changed-when-rebuilding-the-project))
    
*   URP: 2D - Remove serialization and cache vertices and indices for sprite lights causing bloat in prefabs. ([UUM-33700](https://issuetracker.unity3d.com/issues/large-prefab-size-when-it-contains-urp-light2d-field-overrides))
    
*   URP: Fixed redundant blit is used due to postFX, although it is disabled in rendererData. ([UUM-31474](https://issuetracker.unity3d.com/issues/quest-urp-enabling-post-processing-on-a-camera-when-its-disabled-on-the-urp-settings-forces-rendering-into-an-intermediate-texture))
    
*   URP: Fixed ShaderGraph preview window not showing anything when using DepthNormals pass. ([UUM-31643](https://issuetracker.unity3d.com/issues/shader-graph-editor-main-preview-window-is-blank))
    
*   VFX Graph: Fixed a potential crash with particle strips. ([UUM-36762](https://issuetracker.unity3d.com/issues/editor-crashes-on-vfxparticlesystembatchdata-copydeadlistcount-when-opening-the-project))
    
*   VFX Graph: Fixed an editor only memory leak with VFX Graph objects.
    
*   VFX Graph: Fixed VFX assets being considered modified after creation. ([UUM-35056](https://issuetracker.unity3d.com/issues/asterisk-is-displayed-near-a-newly-created-vfx-graphs-name-when-in-reality-no-changes-have-been-made))
    
*   WebGL: Fixed a missing backslash in WebGL system info user agent regex that triggered a JS linter. (UUM-34348)
    
*   WebGL: Fixed an issue where C++ function names would not be properly generated in the output symbols.json file. ([UUM-28034](https://issuetracker.unity3d.com/issues/incorrect-functions-in-the-dot-symbols-dot-json-file-when-building-for-webgl))
    
*   Windows: Fixed a bug with multi-channel audio input on Windows. If we tried to capture from a microphone with more than 2 channels, Microphone.Start would fail and an "Unsupported file or audio format" error would appear in the console. (UUM-26565)
    
*   Windows: Numpad Equals can now be registered with the Input System. ([UUM-15023](https://issuetracker.unity3d.com/issues/numpad-equals-key-is-not-recognised-correctly-or-not-recognised-at-all))
    
*   XR: Updated XR Hands Package to v1.2.0.
    
*   XR: Updated XR Hands Package to v1.2.1.
    
*   XR: Updated XR Interaction Toolkit Package to v2.4.0-pre.2.
    
*   XR: Updated XR Interaction Toolkit Package to v2.4.1-pre.1.
    
*   XR: Updated XR Interaction Toolkit to 2.4.0.

### Known Issues in 2021.3.27f1

*   Graphics Device Features: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Linux: Crash on DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Visual Effects - Legacy: \[Android\]\[Vulkan\] Visualisation corruption occurs when rendering Particles to Render Texture ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Vulkan: Editor exits when opening the Scene view window or selecting a material ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    
*   Vulkan: Oculus Quest 2 build does not work when built with Vulkan ([UUM-10378](https://issuetracker.unity3d.com/issues/oculus-quest-2-build-does-not-work-when-built-with-vulkan))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    

### 2021.3.27f1 Release Notes

#### Improvements

*   Build System: Upgraded our windows 7zip-zstd fork to 7zip 22.01.

#### Changes

*   Editor: Input System: Updated Input System package to 1.6.1.
    
*   XR: Updated AR Foundation and related packages to version 4.2.8.
    

#### Fixes

*   2D: Fixed issue where GameObjects instantiated from a Tile are created, destroyed and created again when SetTile is called on a position that already contains an existing Tile. ([UUM-35085](https://issuetracker.unity3d.com/issues/tilemap-dot-settile-instantiates-twice-when-called-in-player))
    
*   Android: Allow different maximum MSAA samples count for different graphics formats. ([UUM-25096](https://issuetracker.unity3d.com/issues/android-8x-16x-msaa-are-displayed-as-non-supported-when-device-gpus-do-support))
    
*   Editor: Ensure long title do not clip the scene icon in the Scene Template Dialog. ([UUM-25511](https://issuetracker.unity3d.com/issues/scene-templates-with-longer-titles-are-displayed-without-the-icons-in-new-scene-window))
    
*   Editor: Ensure the description field in Scene template dialog has the scrollview. ([UUM-25425](https://issuetracker.unity3d.com/issues/scene-template-title-section-with-its-functions-becomes-hidden-when-scroll-is-used))
    
*   Editor: Fixed EditorWindowTitle which needed to be initialized explicitly through a call to EditorWindow.GetLocalizedContent. Now it is called automatically. ([UUM-27557](https://issuetracker.unity3d.com/issues/editorwindowtitle-attribute-does-not-work-when-applied-to-custom-editorwindow))
    
*   Editor: Fixed MacOS editors memory leak in batchmode/nographics mode. ([UUM-12497](https://issuetracker.unity3d.com/issues/garbage-collection-does-not-finish-when-running-the-editor-through-a-terminal-process))
    
*   Editor: Fixed margins appearing in game view on Windows displays with non-integer display scale. ([UUM-32991](https://issuetracker.unity3d.com/issues/game-view-has-huge-borders-around-when-free-aspect-is-selected-on-windows-machine))
    
*   Editor: Fixed material icons generation when switch from Built-In. ([UUM-23330](https://issuetracker.unity3d.com/issues/urp-material-icons-in-project-tab-are-broken-after-switching-to-urp))
    
*   Editor: Fixed normal in editor when build platform is android. (UUM-32856)
    
*   Editor: Fixed styling of extra button action bar. ([UUM-26518](https://issuetracker.unity3d.com/issues/search-button-hide-should-be-aligned-accordingly-to-select-and-open))
    
*   Editor: Fixed styling on the scene template help button. ([UUM-27122](https://issuetracker.unity3d.com/issues/help-icons-for-the-scene-template-asset-are-displayed-in-different-backgrounds))
    
*   Editor: Fixed VisualElement scheduler that may not run task in order when throttling. (UUM-35882)
    
*   Editor: Fixed Vorbis audio library security vulnerabilities CVE-2018-10392 and CVE-2018-10393. (UUM-5914)
    
*   Editor: Improved loading time of all text serialized files. (UUM-32952)
    
*   Editor: Listen to additive scene be added or removed and update the SceneProvider accordingly. ([UUM-25053](https://issuetracker.unity3d.com/issues/search-quick-search-window-is-not-showing-objects-in-scenes-when-they-are-loaded-additively-until-a-change-in-the-editor-is-made))
    
*   Editor: Running into networking issues while fetching ugs organizations no longer softlocks.
    
*   Editor: Text in Text Assets can now be selected in the inspector. (UUM-36233)
    
*   Editor: Types derived from type with CustomPreview have a custom preview. ([UUM-9543](https://issuetracker.unity3d.com/issues/custompreview-doesnt-work-when-the-type-is-inherited-from-the-specified-type-in-custompreviews-parameters))
    
*   Editor: Updated OpenSSL to 1.1.1u.
    
*   Editor: \[Android\] Changed name of symbols zip folder generated during build to include the backend specified, to ensure the folder is generated fresh when target architecture is changed but app name is not on 2022.2. (UUM-31480)
    
*   Editor: \[SpeedTree\] Fix SpeedTreeImporter::WriteDeferredAlphaCorrectionPaths crash when the Generate Materials is clicked. ([UUM-28469](https://issuetracker.unity3d.com/issues/editor-crashes-on-speedtreeimporter-writedeferredalphacorrectionpaths-when-regenerating-and-applying-materials))
    
*   Editor: \[Windows\] Audio.Thread marker in Profiler window is lasting whole frame while audio is playing. ([UUM-401](https://issuetracker.unity3d.com/issues/windows-audio-dot-thread-marker-in-profiler-window-is-lasting-whole-frame-while-audio-is-playing))
    
*   GI: Fixed a bug where moving the camera while in an scene visualization mode would cause light bakes to never finish. (UUM-34425)
    
*   Graphics: Fixed sporadic editor crash caused by render surface copy when using Vulkan. (UUM-35467)
    
*   Graphics: Fixed UI flickering due to invalid state post CommandBuffer execution. ([UUM-32669](https://issuetracker.unity3d.com/issues/scene-view-toolbar-changes-when-commandbuffers-are-used-and-the-mouse-is-positioned-in-the-game-view))
    
*   Graphics: Fixed: Provide a way to avoid GC.Alloc with RenderMeshInstanced. ([UUM-32183](https://issuetracker.unity3d.com/issues/gc-alloc-when-using-graphics-dot-rendermeshinstanced))
    
*   HDRP: Enabling raytracing no longer disable screen space lighting effect (SSAO, SSR) async compute. (UUM-31322)
    
*   HDRP: Made HDRP RenderPIpelineSettings public to enable customizing the HDRP asset. ([UUM-33589](https://issuetracker.unity3d.com/issues/hdrp-renderpipelinesettings-are-not-public-making-it-impossible-for-users-to-create-custom-settings-on-the-fly))
    
*   HDRP: Properly take into account sky attenuation for baking. ([UUM-28513](https://issuetracker.unity3d.com/issues/light-reflections-are-white-when-receive-global-illumination-is-set-to-lightmaps))
    
*   HDRP: Updated HDRenderPipelineResources file. (UUM-36628)
    
*   Particles: Corrected set particle remaining lifetime to zero if killed by the trigger module when using ringbuffer mode. ([UUM-32881](https://issuetracker.unity3d.com/issues/particles-do-not-die-when-using-a-trigger-and-ring-buffer))
    
*   Physics: Added a warning when cooking concave Mesh Colliders with the Fast Midphase option that have over 2,097,152 triangles. ([UUM-30748](https://issuetracker.unity3d.com/issues/raycast-hits-are-registered-inconsistently-when-raycasting-on-a-gameobject-that-has-a-mesh-collider-with-a-high-polygon-amount))
    
*   Physics: Collider.material getter won't instantiate the material if called on the Prefab object. ([UUM-30707](https://issuetracker.unity3d.com/issues/collider-dot-material-sets-material-to-none-when-referencing-prefab))
    
*   Physics: Fixed a race condition that caused crashes in Contact Modification callbacks. ([UUM-7389](https://issuetracker.unity3d.com/issues/player-slash-editor-crashes-when-colliders-with-hasmodifiablecontacts-set-to-true-collides))
    
*   Physics: Fixed Articulation Bodies having default mass if they have no attached Colliders. ([UUM-31794](https://issuetracker.unity3d.com/issues/articulation-body-tree-changes-behavior-after-attaching-a-trigger-collider))
    
*   Shaders: Fixed a crash when trying to access the loading shader in a release build. (UUM-36827)
    
*   VFX Graph: Forbid blackboard category with only spaces in the name. ([UUM-17495](https://issuetracker.unity3d.com/issues/user-gets-argumentnullexception-value-cannot-be-null-dot-error-during-category-duplication))
    
*   VFX Graph: Renaming a blackboard category that has been duplicated was removing the duplicated category. ([UUM-17435](https://issuetracker.unity3d.com/issues/vfx-category-renaming-removes-duplicated-category-from-the-blackboard))

### Known Issues in 2021.3.26f1

*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if VSync is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   Linux: Crash on DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   MacOS: Editor silently crashes when entering Play Mode on macOS ([UUM-34395](https://issuetracker.unity3d.com/issues/editor-silently-crashes-when-entering-play-mode-on-macos))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Vulkan: Oculus Quest 2 build does not work when built with Vulkan ([UUM-10378](https://issuetracker.unity3d.com/issues/oculus-quest-2-build-does-not-work-when-built-with-vulkan))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    
*   XR SRP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.26f1 Release Notes

#### Features

*   Editor: Add the possibility of running tests in a specified order from a test list (DSTR-494).

#### Improvements

*   Shaders: Added support on Metal for vprog having void return type

#### Changes

*   IL2CPP: Ensure we get a MissingMethodException instead of a runtime crash in native code for non-AOT'd methods.

#### Fixes

*   2D: Fixed case where Sprite is not being masked when using SpriteShape ([UUM-26584](https://issuetracker.unity3d.com/issues/2d-sprite-is-not-being-masked-when-using-spriteshape))
    
*   2D: Fixed graphical artefact where 2D sprite only rendered a portion of a texture when the global mipmap limit was set to anything other than full-res in the Player quality settings and when the corresponding quality settings was selected at runtime. (UUM-27149)
    
*   Android: Fix 'back button' press on VideoPlayer (UUM-33468)
    
*   Android: The 'Filter Touches When Obscured' Player Setting is now respected by the new input system. (UUM-31555)
    
*   Android: Updated GetDeviceName() API to support SystemInfo.deviceName on API Level 32 or higher. (UUM-32514)
    
*   Asset Pipeline: Fix Editor crash when changing Asset Serialization Mode to Force Binary with the com.unity.multiplayer.samples.coop package installed ([UUM-26417](https://issuetracker.unity3d.com/issues/editor-crashes-on-collectallscenemanagerandobjectids-when-changing-asset-serialization-mode-to-force-binary))
    
*   Asset Pipeline: Source asset db rebuild and plugin asset reimported to fix inconsistency (UUM-32565)
    
*   Audio: Fixed a bug where SystemInfo.supportsAudio would return true on some platforms and false on others, when Unity Audio is disabled. We now always return false in this case. ([UUM-16017](https://issuetracker.unity3d.com/issues/android-systeminfo-dot-supportsaudio-inconsistency-when-built))
    
*   Audio: Updated the play-on-awake tooltip on the AudioSource. ([UUM-28690](https://issuetracker.unity3d.com/issues/misleading-tooltip-is-displayed-when-hovering-the-cursor-on-the-play-on-awake-text-in-the-audio-source-component))
    
*   Editor: Changing the download progress calculation in 2021.3 to use doubles when downloading asset packs on Android. ([UUM-32299](https://issuetracker.unity3d.com/issues/android-integer-division-that-will-only-give-0-or-1-assigned-to-a-float-should-be-floating-point-division))
    
*   Editor: Fix 1px mismatch between reported Screen size and actual back buffer size when using DPI scaling leading to errors being logged and broken rendering. ([UUM-14913](https://issuetracker.unity3d.com/issues/1px-mismatch-between-reported-screen-size-and-actual-back-buffer-size-when-changing-display-scale))
    
*   Editor: Fix for crash when removing component from many gameobjects at the same time. ([UUM-33750](https://issuetracker.unity3d.com/issues/crash-on-undomanager-flushtrackedobjects-when-removing-a-component-from-1000-gameobjects-at-the-same-time))
    
*   Editor: fix GPU out of memory for test track project ([UUM-25089](https://issuetracker.unity3d.com/issues/linux-crash-with-multiple-stack-traces-when-opening-a-project-created-from-test-track-template))
    
*   Editor: Fix UnityEditor PDB symbols being invalid ([UUM-33172](https://issuetracker.unity3d.com/issues/rider-unityeditor-dot-coremodule-dot-pdb-supplied-with-unity-is-either-corrupted-or-its-format-does-not-fit-the-specification))
    
*   Editor: Fixed an issue where IL2Cpp generated files may experience hash conflicts. ([UUM-35390](https://issuetracker.unity3d.com/issues/command-line-build-buildprogram-exited-with-code-2147024809-when-allowdebugging-flag-passed-to-build-options))
    
*   Editor: Fixed file revealing in folder won't highlight. Only available in gnome DE. (UUM-32840)
    
*   Editor: Fixed the wrong color space of some value when using dynamic colors in a project in liner color space. ([UUM-20443](https://issuetracker.unity3d.com/issues/usage-hints-dynamic-color-shows-incorrect-colors-when-project-is-in-linear-color-space))
    
*   Editor: Improved documentation for GetActiveScene behavior during scene load ([UUM-34557](https://issuetracker.unity3d.com/issues/the-gameobject-is-not-added-to-the-active-scene-when-adding-it-from-other-scene))
    
*   Editor: Optimized asset import logic to handle large amounts of files located in the same directory ([UUM-17547](https://issuetracker.unity3d.com/issues/freeze-when-importing-a-large-amount-of-fbx-files))
    
*   Editor: Universal RP: disabled MSAA on devices without MSAA store support (Apple GPUs A8 and lower) ([UUM-13185](https://issuetracker.unity3d.com/issues/flickering-on-ios-when-msaa-and-depth-texture-are-enabled))
    
*   Editor: Updated UnityTLS
    
*   Editor: Updated XR Interaction Toolkit to 2.3.2
    
*   GI: Fixed issue where lightmaps are lost when entering playmode, switching scenes, and exiting playmode. ([UUM-29735](https://issuetracker.unity3d.com/issues/lightmap-is-unassigned-when-entering-play-mode-switching-scene-and-exiting-play-mode))
    
*   Graphics: Fix deadlock caused by UI jobs ([UUM-26444](https://issuetracker.unity3d.com/issues/a-player-sometimes-freezes-and-crashes-when-graphic-jobs-are-enabled))
    
*   Graphics: Fix float to half conversion ([UUM-13334](https://issuetracker.unity3d.com/issues/metal-color-value-is-wrong-in-unitypermaterial-cbuffer-when-changing-color-value-with-specific-speeds))
    
*   Graphics: Fix some paths of eye masking in Vulkan multi view rendering (UUM-912)
    
*   Graphics: Fixed an issue where Mipmap Streaming would not take the state of "Texture2D.ignoreMipmapLimit" into account.
    
*   IL2CPP: Fix a UnityLinker crash that could happen processing Microsoft.MixedReality.GraphicsTools when High Managed Code Stripping is used. ([UUM-31386](https://issuetracker.unity3d.com/issues/linker-error-when-building-with-the-mrtk-graphics-tools-package-and-managed-stripping-level-is-set-to-high))
    
*   IL2CPP: Fixed possible corruption when writing primitive static fields on generic types when Faster (smaller) builds is enabled. (UUM-33610)
    
*   IL2CPP: Fixed possible GC corruption when using the job system on PS4/PS5 platforms. (UUM-33034)
    
*   iOS: Fixed a bug with the player settings "Force iOS Speakers when Recording". It wasn't working properly when "Mute Other Audio Sources" and "Prepare iOS for Recording" were both disabled. It was also not working correctly with wired headphones, where the setting should have no effect. ([UUM-19505](https://issuetracker.unity3d.com/issues/ios-if-force-ios-speakers-when-recording-setting-is-enabled-audio-is-playing-through-the-device-speakers-when-bluetooth-headphones-are-connected))
    
*   Linux: Fix player crash in FMOD when loading ALSA drivers. (PIA-588)
    
*   Mono: Fixed issue where setting a pointer via reflection included an additional layer of redirection. (UUM-31140)
    
*   Package Manager: Fixed the issue where viewing UPM packages that come from the Asset Store breaks the Package Manager window. (UUM-35411)
    
*   Package Manager: Refresh button stays enabled if user goes offline. (UUM-35005)
    
*   Prefabs: Fix for Prefab instance is not enabled if RevertPropertyOverride is called during OnEnable ([UUM-21119](https://issuetracker.unity3d.com/issues/gameobject-needs-to-be-activated-two-times-to-enable-it-when-using-prefabutility-dot-revertpropertyoverride))
    
*   Serialization: Fixed the wrong resolution of missing types when there are multiple instances with the missing type. (UUM-20709)
    
*   Shaders: Fixed custom scale and offset vectors not affecting serialised texture scale and offset. ([UUM-21301](https://issuetracker.unity3d.com/issues/changes-made-to-texture-with-a-specific-a-st-property-marked-as-noscaleoffset-in-the-inspector-are-shown-but-not-saved))
    
*   Shaders: Fixed incorrect error messages when manually enabling keywords. ([UUM-33089](https://issuetracker.unity3d.com/issues/console-error-enabling-local-keyword-wetness-for-material-disolve-has-been-skipped-this-keyword-cannot-be-enabled-directly-dot-when-enabling-a-local-keyword-for-a-material))
    
*   Shaders: Fixed SV\_PrimitiveID on Metal ([UUM-22593](https://issuetracker.unity3d.com/issues/metal-shader-is-broken-when-using-sv-primitiveid))
    
*   uGUI: Fixed memory leak when textures get reparented from one scene to another ([UUM-33852](https://issuetracker.unity3d.com/issues/memory-leaks-stop-textures-from-getting-unloaded-from-memory-when-the-textures-gets-reparented-from-one-scene-to-another))
    
*   UI Toolkit: Fix invalid width on child element of absolute positioned parent. ([UUM-30975](https://issuetracker.unity3d.com/issues/visualelements-auto-width-is-incorrect-when-the-elements-parent-has-a-set-width))
    
*   UI Toolkit: Fixed reorderable ListView not starting a drag operation when its item contains an IMGUIContainer handling pointer events. ([UUM-33718](https://issuetracker.unity3d.com/issues/ui-toolkit-listview-breaks-when-interacting-with-a-nested-imgui-propertydrawer))
    
*   Universal Windows Platform: Fixed a crash occuring when Cloud Diagnostics was enabled and Debug.LogException was used off the main thread.
    
*   VFX Graph: Fixed broken borders ([UUM-35000](https://issuetracker.unity3d.com/issues/vfx-vfx-graph-context-border-is-not-rendered-in-the-workspace-window))
    
*   VFX Graph: Unexpected warning on Metal while rendering thumbnail preview for material ([UUM-531](https://issuetracker.unity3d.com/issues/metal-vfx-graph-creating-a-vfx-graph-asset-throws-an-error))
    
*   Web: Fixed an issue with Unity page not being able to unload if user has already detached the canvas from DOM before calling Unity Quit function. (UUM-30472)

### Known Issues in 2021.3.25f1

*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if “VSync” is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   MacOS: Editor silently crashes when entering Play Mode on macOS ([UUM-34395](https://issuetracker.unity3d.com/issues/editor-silently-crashes-when-entering-play-mode-on-macos))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    
*   XR SRP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.25f1 Release Notes

#### Features

*   Android: Chrome OS Build & Run Support - Add "Run Device" using IP address.

#### Improvements

*   Multiplayer: Added Netcode for GameObjects 1.4.0.

#### Changes

*   Editor: Removed automatic upgrade code for UniversalRendererData from alpha & beta builds of 2021.2 to current as it is no longer required and was incurring a domain reload performance cost.

#### Fixes

*   2D: Fixed crash when a Tilemap with corrupted Tile Data calls CompressBounds. ([UUM-32832](https://issuetracker.unity3d.com/issues/tilemap-with-corrupted-data-crashes-the-editor-when-calling-compressbounds))
    
*   Android: Fixed escaped double quotes when using SetAdditionalIl2CppArgs. ([UUM-25447](https://issuetracker.unity3d.com/issues/il2cpp-android-incorrectly-escaped-quotes-in-build-dot-gradle-when-passing-a-string-to-setadditionalil2cppargs))
    
*   Android: Fixed the Troubleshooting button URL upon gradle error. ([UUM-30719](https://issuetracker.unity3d.com/issues/build-error-troubleshoot-button-links-to-an-empty-web-page-when-encountering-gradle-error))
    
*   Android: Removed OPENGLES uses-feature element in AndroidManifest of the exported project when not selected in Player Settings. ([UUM-32676](https://issuetracker.unity3d.com/issues/opengles2-uses-feature-entry-is-added-to-the-android-manifest-when-not-used))
    
*   Asset Pipeline: Prevent script re-compilation when 'Recompile after playmode' and 'Auto-refresh' are set. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   Build Pipeline: Fixed android build failure issue where were are getting an error message ' build destination path collides with an existing path' when triggered using Ctrl+B (Windows) or Cmd+B (macOS) keyboard shortcut. ([UUM-30911](https://issuetracker.unity3d.com/issues/mac-android-file-build-and-run-fails-with-a-prompt))
    
*   Documentation: Updated TextureImporter documentation regarding settings that are found under TextureImporterSettings. (UUM-23201)
    
*   DX12: Removed unnecessary image processing code on texture upload that's not needed reducing CPU overhead. ([UUM-15519](https://issuetracker.unity3d.com/issues/d3d12-produces-low-fps-when-using-commandbuffer-dot-issueplugincustomtextureupdatev2))
    
*   Editor: Fixed a crash that occurs when you set the custom-rolloff-curve to null on an audio source. ([UUM-29578](https://issuetracker.unity3d.com/issues/crash-on-audiosource-setcustomrolloffcurve-when-entering-play-mode-with-audiosource-component))
    
*   Editor: Fixed a crash when importing specific FBX files with blendshapes. ([UUM-32291](https://issuetracker.unity3d.com/issues/crash-on-fbxsdk-fbxmemoryfile-open-when-importing-the-fbx-file))
    
*   Editor: Fixed a crash when importing specific FBX files with blendshapes. ([UUM-33322](https://issuetracker.unity3d.com/issues/crash-on-fbxsdk-fbxconnectionpoint-subconnectfind-when-importing-a-specific-fbx-asset))
    
*   Editor: Fixed crash when dragging game view in and out of docked view on Linux with Mesa drivers. ([UUM-16015](https://issuetracker.unity3d.com/issues/linux-crash-amd-undocking-the-game-view-crashes-the-editor))
    
*   Editor: Fixed Editor freezes when clicking Prefab > Select Asset for a scene exported manually with missing information. ([UUM-30060](https://issuetracker.unity3d.com/issues/editor-freezes-when-clicking-prefab-select-asset))
    
*   Editor: Fixed inconsistent input field styling in Shortcut Manager's create and rename prompts. ([UUM-28290](https://issuetracker.unity3d.com/issues/shortcuts-create-profile-window-has-inconsistent-style-for-profile-name-field-validation))
    
*   Editor: Fixed issue with spurious errors in the console being output when the lighting cache is not intact. ([UUM-21668](https://issuetracker.unity3d.com/issues/uv-charts-preview-window-not-displayed-when-opening-lightmaps))
    
*   Editor: Fixed regression when computing UVs for faces that have their material assigned via a group. ([UUM-30948](https://issuetracker.unity3d.com/issues/material-details-are-lost-when-used-in-the-scene))
    
*   Editor: Fixed several problems with speech recognition in apps using Holographic Remoting. (XRF-411)
    
*   Editor: Objects now keep their non-serializable state when reloaded. ([UUM-7785](https://issuetracker.unity3d.com/issues/instancedcomponent-has-been-destroyed-dot-dot-dot-error-is-thrown-when-re-entering-play-mode-after-saving-a-prefab-in-play-mode-while-domain-reload-and-scene-reload-are-disabled))
    
*   Editor: Prevent tags from being created with an empty name. ([UUM-32286](https://issuetracker.unity3d.com/issues/tag-is-named-after-the-previously-created-tag-when-creating-a-tag-with-an-empty-new-tag-name-field-and-throws-unityexception-tag-dot-dot-dot-is-not-defined-error-when-trying-to-remove-it))
    
*   Graphics: Fixed an inspector issue where 2DArray and 3D textures would not report their size on disk correctly. ([UUM-28111](https://issuetracker.unity3d.com/issues/texture-size-inconsistencies-between-different-shapes))
    
*   Graphics: Invalid pass index error messages now include shader name. (UUM-33598)
    
*   HDRP: Fixed a shader compilation issue on fog volumes when Turkish language is installed as locale.
    
*   HDRP: Fixed an issue where the quality settings tags were displayed cut-off. ([UUM-31849](https://issuetracker.unity3d.com/issues/hdrp-quality-preset-labels-get-cut-off-in-the-project-settings))
    
*   HDRP: Fixed DLSS Ultra performance setting which was not calculating the correct resolution. The setting was not pushing the correct resolution due to a typo in the code. ([UUM-29281](https://issuetracker.unity3d.com/issues/dlss-ultra-performance-mode-performs-worse-than-other-dlss-modes))
    
*   HDRP: Fixed free CullingGroups still being used during culling. (UUM-29379)
    
*   HDRP: Fixed HDRP Decal Emisive Map is drawn incorrectly when Decal is at a certain distance from Camera and specific "Clipping Planes" property values are set under the "Camera" component. ([UUM-28486](https://issuetracker.unity3d.com/issues/hdrp-decal-emmisive-map-is-drawn-incorrectly-when-decal-is-at-a-certain-distance-from-camera-and-specific-clipping-planes-property-values-are-set-under-the-camera-component))
    
*   HDRP: Fixed ShaderGraph materials using SSS. (UUM-27413)
    
*   HDRP: Fixed the default value of \_ZTestDepthEqualForOpaque in unlit ShaderGraphs. (UUM-31690)
    
*   IL2CPP: Corrected clipped output from System.Diagnostics.Debug.WriteLine(). ([UUM-26431](https://issuetracker.unity3d.com/issues/system-dot-diagnostics-dot-debug-dot-writeline-fails-to-print-the-first-10-characters-of-a-debug-message-when-used-in-a-uwp-build))
    
*   IL2CPP: Fixed an intermittent crash in the thread pool implementation when the socket no longer exists during an HTTP request. (UUM-21671)
    
*   iOS: Added cutouts for iPhone14 family. ([UUM-22474](https://issuetracker.unity3d.com/issues/ios-iphone-14-devices-crash-when-portrait-upside-down-orientation-is-forced))
    
*   Linux: Disabled SDL Dynamic API for SDL dependent Platforms except for Embedded and QNX. (UUM-33932)
    
*   Linux: Fixed Linux IL2CPP builds not producing stack trace. ([UUM-26705](https://issuetracker.unity3d.com/issues/linux-il2cpp-player-crash-call-stack-is-not-displayed-when-the-build-is-run-with-batchmode-nographics-arguments))
    
*   Linux: Fixed New Input System Debugger is logging 2 events when holding a key. (UUM-32567)
    
*   Networking: Fixed null exception in WWWForm when file name is empty string. ([UUM-32984](https://issuetracker.unity3d.com/issues/argumentnullexception-array-cannot-be-null-error-is-printed-when-passing-an-empty-string-to-filename-of-wwwform-dot-addbinarydata-and-then-access-the-data-property))
    
*   Package Manager: Fixed an issue where installing a package from a scoped registry will fail if a bundled package with the same name and version exists.
    
*   Particles: Fixed Particle System rendering corruption. ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Particles: Use double precision timers in the Shape module to improve the accuracy of long simulations. ([UUM-30775](https://issuetracker.unity3d.com/issues/particle-system-animation-changes-when-it-has-been-running-for-a-prolonged-period))
    
*   Physics: Fixed a rare PhysX crash when using the PGS solver type and either One-Directional or Two-Directional friction type. ([UUM-27540](https://issuetracker.unity3d.com/issues/crash-on-physx-dy-solvercoregeneralpf-solvevparallelandwriteback-when-entering-play-mode))
    
*   Physics: Fixed Articulation Bodies ignoring SetMaxImpulse from Contact Modifications. ([UUM-29037](https://issuetracker.unity3d.com/issues/setmaximpulse-is-not-evaluated-when-using-it-on-articulationbody))
    
*   Physics: Fixed BoxCollider warning messages not being printed when Scene Reloading is enabled. ([UUM-28396](https://issuetracker.unity3d.com/issues/windows-boxcolliders-does-not-support-negative-scale-or-size-warning-appears-only-when-enter-play-mode-options-is-enabled))
    
*   Physics: Fixed OnCollision messages not being sent when the collider has hasModifiableContacts property explicitly set to false. ([UUM-28909](https://issuetracker.unity3d.com/issues/collision-events-are-not-reported-when-hasmodifiablecontacts-on-a-collider-is-set-to-false))
    
*   Physics: Fixed up a simulation stall when a large section of heightmap triangles was fetched for tests. ([UUM-21683](https://issuetracker.unity3d.com/issues/unity-freezes-when-high-rigidbody-dot-addforce-force-value-is-used))
    
*   Prefabs: Fixed for handling conflicting components during prefab merging. ([UUM-20241](https://issuetracker.unity3d.com/issues/crash-on-awakefromloadqueue-invokepersistentmanagerawake-when-opening-a-project))
    
*   Scene/Game View: Fixed default buttons styling in overlays. ([UUM-25734](https://issuetracker.unity3d.com/issues/uitoolkit-button-style-of-list-view-are-displayed-as-mouse-is-hovering-over-them-when-created-in-overlay))
    
*   Scripting: Defer saving user editable managers to after Player Settings window get disabled. ([UUM-32162](https://issuetracker.unity3d.com/issues/changes-made-to-scripting-define-symbol-are-not-saved-if-apply-is-pressed-in-the-script-symbol-have-been-modified-pop-up-window-when-entering-the-play-mode))
    
*   Serialization: Fixed EditorUtility.CopySerialized failing in some case where there are \[SerializedReference\] present. (UUM-33868)
    
*   Serialization: PropertyModifications created prior to 2021.2 creating SerializeReference instances are now generating deterministic ids. ([UUM-13245](https://issuetracker.unity3d.com/issues/serializereference-instance-added-through-propertymodifications-can-cause-non-deterministic-builds))
    
*   Shadergraph: ShaderGraph styles were not applied correctly when the system locale was set in Turks. ([UUM-33522](https://issuetracker.unity3d.com/issues/shadergraph-connection-nodes-appear-at-wrong-position-when-region-format-is-set-to-turkish-turkey))
    
*   Universal RP: Fixed an issue where scenes were not marked dirty after changing the volume update setting on cameras. ([UUM-10812](https://issuetracker.unity3d.com/issues/urp-scene-is-not-marked-as-dirty-when-volume-update-mode))
    
*   URP: Fixed, URP & core package leaking materials when entering/exiting Play Mode. ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Version Control: Fixed 'Texture2D' does not contain a definition for 'ignoreMipmapLimit' error when installing Unity Version Control on previous Unity Editor Versions  
    Fixed sign in dialog style when waiting for user to complete sign in  
    Fixed NullReferenceException when opening a new project and the user doesn't have a Unity Version Control organization linked to a Unity ID.
    
*   VFX Graph: Corrected apply nointerpolation specifier when using new ShaderGraph integration. ([UUM-555](https://issuetracker.unity3d.com/issues/vfx-constants-not-correctly-patched-in-vs))
    
*   VFX Graph: First frame of spawned particles outputs wrong motion vectors. ([UUM-20435](https://issuetracker.unity3d.com/issues/vfx-slash-sg-slash-hdrp-unexpected-motion-vector-output-during-first-frame))
    
*   VFX Graph: Unexpected Motion Vector in HDRP when effect is in World and uses Custom Velocity or Mesh Output. ([UUM-20437](https://issuetracker.unity3d.com/issues/vfx-slash-sg-slash-hdrp-unexpected-motion-vector-custom-velocity-and-world))
    
*   VFX Graph: Unexpected motion vector when add precompute velocity was enabled in Shader Graph. ([UUM-22368](https://issuetracker.unity3d.com/issues/vfx-slash-sg-wrong-motion-vector-on-mesh-using-sg))

### Known Issues in 2021.3.24f1

*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if “VSync” is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   Kernel: Crash on UndoManager::FlushTrackedObjects when removing a Component from ~1000 GameObjects at the same time ([UUM-33750](https://issuetracker.unity3d.com/issues/crash-on-undomanager-flushtrackedobjects-when-removing-a-component-from-1000-gameobjects-at-the-same-time))
    
*   MacOS: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   uGUI Framework: Memory leaks stop textures from getting unloaded from memory when the textures gets reparented from one scene to another ([UUM-33852](https://issuetracker.unity3d.com/issues/memory-leaks-stop-textures-from-getting-unloaded-from-memory-when-the-textures-gets-reparented-from-one-scene-to-another))
    
*   Version Control: "NullReferenceException" errors thrown in the Console window when Unity Version Control package is present in the project ([UUM-33051](https://issuetracker.unity3d.com/issues/nullreferenceexception-errors-thrown-in-the-console-window-when-unity-version-control-package-is-present-in-the-project))
    
*   Visual Effects - Legacy: \[Android\]\[Vulkan\] Visualisation corruption occurs when rendering Particles to Render Texture ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    
*   XR SRP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.24f1 Release Notes

#### Improvements

*   Apple TV: TvOS now uses launch screen storyboard.
    
*   Editor: Enabled Sketchup Importer on Mac ARM platforms.
    
*   Editor: Reduced impact of Shader Graph package on performance of domain reloads by making node class cache populate on-demand.
    
*   Editor: Updated Sketchup SDK to 2023.2.
    
*   iOS: IOS/tvOS launch screen now is shown only by OS, and is not shown again by Unity itself.
    

#### Changes

*   HDRP: Enabled Extend Shadow Culling in Raytracing by default. (UUM-21784)

#### Fixes

*   2D: Show apply/revert dialog to user if there are data changes in Sprite Editor Window before domain reload. ([UUM-26175](https://issuetracker.unity3d.com/issues/sprite-editor-unsaved-changes-get-reverted-when-script-recompilation-finishes))
    
*   Android: Enabled the display of gradle tasks in progress dialog while building to Android. (UUM-31890)
    
*   Build Pipeline: Fixed build failure related to streaming assets with symbols in file names. ([UUM-9881](https://issuetracker.unity3d.com/issues/the-project-fails-to-build-when-there-is-a-webp-asset-in-the-streamingassets-folder))
    
*   Build Pipeline: Fixed Player Build fails. ([UUM-1205](https://issuetracker.unity3d.com/issues/build-fails-until-scrolling-scenes-in-build-in-build-settings))
    
*   Editor: Asset Pipeline: Fixed a crash when re-adding animation clip to prefab. ([UUM-21916](https://issuetracker.unity3d.com/issues/crash-on-serializeobjectandaddtorecording-when-adding-animation-to-object-without-animator))
    
*   Editor: Enabled reserved key labels in Shortcut Manager to be more visible in dark mode. ([UUM-28295](https://issuetracker.unity3d.com/issues/esc-return-and-caps-lock-keys-are-barely-visible-in-the-shortcut-manager-window))
    
*   Editor: Fixed a "3D textures with depth are not supported" error appearing when switching the RenderTexture shape to 3D if a depth-stencil format was previously indicated. ([UUM-25336](https://issuetracker.unity3d.com/issues/error-rendertexture-dot-create-failed-3d-textures-with-depth-are-not-supported-is-thrown-when-changing-texture-dimension-from-2d-to-3d))
    
*   Editor: Fixed a bug where the cursor was lagging when dragging files to inactive MacOS editor. ([UUM-9542](https://issuetracker.unity3d.com/issues/general-cursor-becomes-very-laggy-when-dragging-file-from-finder-to-the-editor-on-macos))
    
*   Editor: Fixed animation clip's preview window's grid's depth when using deferred rendering in URP. ([UUM-2947](https://issuetracker.unity3d.com/issues/urp-grid-is-rendered-on-top-of-gameobjects-in-the-animation-preview-area-when-deferred-rendering-is-used))
    
*   Editor: Fixed Auto-save scenes checkbox. ([UUM-11717](https://issuetracker.unity3d.com/issues/preference-not-saved-when-enabling-auto-save-scenes-before-building))
    
*   Editor: Fixed crash or validation error caused by out-of-bounds clear on XR platforms when using Vulkan. (UUM-32721)
    
*   Editor: Fixed error when selecting folders from the folder panel or closing the folder panel with EditorUtility.OpenFolderPanel() in use. ([UUM-26507](https://issuetracker.unity3d.com/issues/error-nullreferenceexception-is-thrown-when-selecting-folders-from-the-folder-panel-or-closing-the-folder-panel-with-editorutility-dot-openfolderpanel-in-use))
    
*   Editor: Fixed errors being thrown from the RenderTexture editor after selecting the Tex2DArray dimension. (UUM-31741)
    
*   Editor: Fixed YAML file corruption on Android Platforms caused due to some targets i became obsolete in PlatformGroupEnum. ([UUM-21944](https://issuetracker.unity3d.com/issues/projectsettings-dot-asset-changes-to-an-unparsable-yaml-file-when-using-scripting-define-symbols))
    
*   GI: Fixed an issue where scene debug visualization modes would look broken when baking multiple scenes together. (UUM-17494)
    
*   GI: Fixed incorrect fallback to CPU of GPU bake. ([UUM-24685](https://issuetracker.unity3d.com/issues/leak-in-lightmap-bake-api-when-using-progressive-gpu-lightmapper))
    
*   Graphics: Creating a RenderTexture with no depth bits specified fails instead of continuing with a warning. (UUM-22012)
    
*   Graphics: Fixed a crash on Vulkan/Metal when trying to preview non-Float or non-UNorm format RenderTextures. (UUM-31733)
    
*   Graphics: Fixed an issue where EditorUtility.CompressTexture would silently fail for zero-sized textures. (UUM-31569)
    
*   Graphics: Fixed black RenderTarget/CustomRenderTarget thumbnails when changing Color/Depth formats. (UUM-31726)
    
*   Graphics: Fixed scene being made dirty when creating a new RenderTexture asset. (UUM-31729)
    
*   HDRP: Added error when MSAA and non-MSAA buffers are bound simultaneously in custom passes. ([UUM-22996](https://issuetracker.unity3d.com/issues/hdrp-in-hdrp-if-the-user-selects-a-custom-color-and-camera-depth-buffer-with-msaa-on-it-silently-breaks-and-doesnt-render))
    
*   HDRP: Enabled path tracing to now produce correct results when dynamic resolution is enabled. (UUM-23315)
    
*   HDRP: Enabled the correct light position when changing distance on a Light Anchor. ([UUM-26172](https://issuetracker.unity3d.com/issues/light-direction-changes-when-changing-light-anchor-components-distance-property))
    
*   HDRP: Fixed a glitch in one frame in the Editor when using path tracing. (UUM-22917)
    
*   HDRP: Fixed an issue occuring on TAAU when the camera rect is adjusted. ([UUM-25737](https://issuetracker.unity3d.com/issues/hdrp-changing-camera-rect-breaks-taau))
    
*   HDRP: Fixed an issue where LOD-related frame render settings UI on the camera component would not reflect the current global default settings. ([UUM-27546](https://issuetracker.unity3d.com/issues/hdrp-default-frame-settings-are-not-updating-in-the-inspector-window-when-changed-in-the-project-settings))
    
*   HDRP: Fixed an issue with ray tracing initialization when switching between render pipeline assets. (UUM-24692)
    
*   HDRP: Fixed emissive mesh viewer of Area light missing from standalone player. (UUM-31531)
    
*   HDRP: Fixed HDSceneDepth triggering errors for uninitialized values. (UUM-21185)
    
*   HDRP: Fixed issue with Light Probe Proxy Volume not rendering correctly when Bounding Box Mode is Automatic World. ([UUM-22821](https://issuetracker.unity3d.com/issues/light-probe-proxy-volume-doesnt-render-correctly-when-bounding-box-mode-is-automatic-world))
    
*   HDRP: Fixed material upgrader when executing tests. (UUM-20743)
    
*   HDRP: Fixed memory leak in HDLightRenderDatabase when switching between editor and play and no lights are in the scene. ([UUM-29271](https://issuetracker.unity3d.com/issues/memory-leak-error-when-no-directional-light-is-present-in-the-scene-and-leak-detection-level-is-enabled))
    
*   HDRP: Fixed swapped tooltips on decal materials for ambient occlusion and smoothness. ([UUM-29660](https://issuetracker.unity3d.com/issues/smoothness-and-ambient-occlusion-tooltips-are-swapped-on-hdrp-slash-decal))
    
*   HDRP: Fixed the albedo and specular color override so it is now considered as sRGB. (UUM-23268)
    
*   HDRP: Fixed the exposure for SSR debug rendering. ([UUM-19575](https://issuetracker.unity3d.com/issues/hdrp-screen-space-reflections-debug-is-not-working))
    
*   HDRP: Fixed the init order that could cause DXR setup to fail after using the HDRP wizard to enable DXR on an existing HDRP project. ([UUM-21776](https://issuetracker.unity3d.com/issues/the-game-view-is-black-and-the-editor-throws-a-nullreferenceexception-after-restarting-the-editor-when-pressing-the-fix-all-button-in-hdrp-wizard))
    
*   HDRP: Fixed the label and improved documentation for After Post Process depth test flag to give more detail about "Depth Test" being automatically disabled in some cases.
    
*   HDRP: Fixed the raytraced reflections for box lights so they are no longer cut off if the range is too small. ([UUM-21442](https://issuetracker.unity3d.com/issues/hdrp-boxlight-reflections-looks-incorrect-in-rtx))
    
*   HDRP: Fixed transparent decal textures being added into atlas even if the material properties have disabled them. ([UUM-29093](https://issuetracker.unity3d.com/issues/hdrp-decal-texture-are-stored-in-the-decal-atlas-even-if-all-affect-xxx-settings-are-disabled))
    
*   HDRP: Fixed usage of FindObjectsOfType to use FindObjectsByType(FindObjectsSortMode.None).
    
*   HDRP: Fixed Volumetric Clouds jittering when the sun was not casting shadow. ([UUM-27919](https://issuetracker.unity3d.com/issues/clouds-are-jittering-when-enabling-volumetric-clouds-in-the-hdrp-project))
    
*   HDRP: Improved the console warning message when the maximum number of shadows is reached in the view. (UUM-28072)
    
*   iOS: Fixed a crash on iOS when Graphics Jobs were enabled. ([UUM-22614](https://issuetracker.unity3d.com/issues/ios-crash-on-unityframework-scheduledependencies-when-graphics-jobs-are-enabled))
    
*   iOS: Fixed memory leak when using GL.Clear in MonoBehaviour Update/LateUpdate. ([UUM-8457](https://issuetracker.unity3d.com/issues/ios-memory-leaks-when-calling-gl-dot-clear-from-update-slash-late-update))
    
*   Linux: Fixed DisplayInfo.WorkArea ignores resolution scaling when working with multiple displays. ([UUM-1589](https://issuetracker.unity3d.com/issues/linux-displayinfo-dot-workarea-ignores-resolution-scaling-when-working-with-multiple-displays))
    
*   Scene/Game View: Fixed the Rect Tool not showing the active element when snapping. ([UUM-29629](https://issuetracker.unity3d.com/issues/2d-no-visual-indication-is-shown-before-selecting-snapping-points-when-using-vertex-snapping))
    
*   Scene/Game View: Fixed the Rect Tool sometimes not moving UI GameObjects if the pivot was changed. ([UUM-30232](https://issuetracker.unity3d.com/issues/ui-gameobject-sometimes-cant-be-moved-when-pivot-is-moved-from-center))
    
*   Shadergraph: Improved performance of disconnecting nodes in large graphs. (UUM-31610)
    
*   Shaders: Reduced shader compiler memory usage. (UUM-30445)
    
*   SRP Core: Fixed an IES Importer issue producing incorrect results. (UUM-16309)
    
*   VFX Graph: Fixed a crash when logging an error messages for unexpected buffers.
    
*   Video: Internal texture queue populated by asynchronous decoding was sometimes being drained from 2 threads. Now serializing access. ([UUM-21948](https://issuetracker.unity3d.com/issues/crash-on-windowsvideomedia-getfirstreadytexturetime-when-focusing-gameobject-in-tutorial))
    
*   Windows: Fixed sizeof type error in StackWalker library.

### Known Issues in 2021.3.23f1

*   DirectX11: DirectX 11 analytics crashes the player on Windows 7 ([UUM-32718](https://issuetracker.unity3d.com/issues/directx-11-analytics-crashes-the-player-on-windows-7))
    
*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if “VSync” is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Visual Effects - Legacy: \[Android\]\[Vulkan\] Visualisation corruption occurs when rendering Particles to Render Texture ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Windows: BuildPipeline.BuildPlayer ignores BuildPlayerOptions.locationPathName and attempts to build to the cached folder ([UUM-30952](https://issuetracker.unity3d.com/issues/buildpipeline-dot-buildplayer-ignores-buildplayeroptions-dot-locationpathname-and-attempts-to-build-to-the-cached-folder))
    

### 2021.3.23f1 Release Notes

#### Improvements

*   2D: Greatly reduce the time taken for sprite imports when the sprite requires an outline to be computed (e.g. physics shapes or precise meshes).
    
*   Animation: Reduced the cost of building muscle clips, which among other things speeds up Animator.Awake.
    
*   Animation: Reduced the number of GC allocations when calling Animator.GetParameter(int index) and generally made it faster.
    
*   Build System: BeeDriver: ignore System.IO.IOException: Sharing violation on path errors for console log. \[BUILD-21\]
    
*   Editor: Reduced cost of outline rendering, which improves the frame rate of the editor when many objects are selected.
    
*   Graphics: Reduced the time the render thread spends on Profiler.FlushRenderCounters. ([UUM-29300](https://issuetracker.unity3d.com/issues/release-player-is-consuming-initializationprofilerstartframeregistrator-in-non-development-mode))
    
*   iOS: "Thread Performance Checker" is now disabled by default in a generated xcode project.
    
*   Kernel: Performance in heavily run code paths for NativeArray, UnsafeUtility, and AtomicSafetyHandle improved through inlining.
    
*   Scripting: Switched some path sorting during compilation from an invariant culture compare to an ordinal compare, speeding up C# compilation when scripts are changed.
    
*   Serialization: Improved performance of restoring managed objects during a domain reload (again!).
    
*   Serialization: Improved performance of restoring managed objects during a domain reload.
    
*   Shadergraph: Fixed parallax nodes so that they use the default UV Input Slot correctly. \[SGB-511\].
    
*   Shadergraph: Improved blackboard property drag speed when reordering the blackboard. \[SGB-383\].
    
*   Shadergraph: Made adjustments to flipbook node to avoid dropping frames on AMD GPU. \[SGB-280\].
    
*   Shaders: Reduced the time spent in the asset post processing code for shader assets, which speeds-up the import of shaders.
    
*   VFX Graph: Greatly reduced the import cost of VFX Graph objects, especially when importing many at once.
    

#### API Changes

*   Editor: Added: Support to hide any method from the detail area of the console window.

#### Changes

*   Version Control: - Changed the icons for Unity Version Control rebranding  
    *   Changed onboarding workflow.

#### Fixes

*   2D: Fixed Sprites generated from TextureImporter generates different hashes. ([UUM-26790](https://issuetracker.unity3d.com/issues/sprites-get-re-imported-with-different-hash-when-making-an-asset-bundle-build))
    
*   2D: Fixed truncation of path for saving Tile assets when ending is not a file. ([UUM-29490](https://issuetracker.unity3d.com/issues/tile-palette-multi-drag-and-drop-sprite-asset-creation-location-is-non-deterministic))
    
*   Android: Added upgrade guide information about mainTemplate.gradle file changes. (UUM-32805)
    
*   Android: Enabled the unlock image to be set on each lock rather than only on the first. ([UUM-21954](https://issuetracker.unity3d.com/issues/android-the-previous-screen-shown-when-unlocking-a-device))
    
*   Android: Fixed an issue where the Accelerometer values are not updated when the ASENSOR\_TYPE\_LINEAR\_ACCELERATION sensor is disabled on certain Samsung devices. ([UUM-20754](https://issuetracker.unity3d.com/issues/android-input-dot-acceleration-doesnt-get-the-acceleration-of-some-devices-when-disabling-input-dot-gyro))
    
*   Android: Fixed shader code generation when using SV\_Coverage input. (UUM-26807)
    
*   Audio: Fixed corrupt audio playing for the first time in the first launch, when audio mixer is assigned at runtime. ([UUM-19696](https://issuetracker.unity3d.com/issues/an-audioclip-played-through-an-audiomixer-provides-different-sounds-of-the-same-audio-when-playing-for-the-first-time))
    
*   Build Pipeline: Fixed an invalid build path error that triggers when building for WebGL on Windows. (UUM-27982)
    
*   Build System: Fixed unity\_license.json CopyFiles build failures. (UUM-28889)
    
*   DX12: Fixed for samplers resetting to point on streaming texture mips. (UUM-27504)
    
*   Editor: Bug fix for Shortcuts Manager to catch Shift and Options keypress. ([UUM-4083](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1))
    
*   Editor: Fix for \[SGB-466\] and related issues where nodes with warning or error badges would fail to clean up their resources properly and leave the shader graph editor in an error state.
    
*   Editor: Fix that a applying a sub managedreference override is not prevented when it is not possible (now also shows a warning dialog to the user). ([UUM-23038](https://issuetracker.unity3d.com/issues/a-warning-is-not-displayed-when-applying-changes-to-the-prefab))
    
*   Editor: Fixed a Drag and Drop to parent folder when the parent contains a child folder with the same name. ([UUM-11707](https://issuetracker.unity3d.com/issues/dragging-and-dropping-a-uss-file-to-a-folder-in-the-project-window-moves-the-file-to-a-subfolder))
    
*   Editor: Fixed a memory issue in CreateAssetMenu::Rebuild, which would crash builds with the debug allocator enabled. ([UUM-32704](https://issuetracker.unity3d.com/issues/crash-on-createassetmenu-rebuild-when-creating-a-project-after-enabling-forcedebugallocator))
    
*   Editor: Fixed a situation where opening a regular window after an auxiliary window can cause a crash if the window closes. ([UUM-29982](https://issuetracker.unity3d.com/issues/editor-crash-on-guiview-oninputevent-when-calling-editorwindow-dot-createwindow-from-inside-ongui))
    
*   Editor: Fixed exception thrown when multiple generic methods with the \[HideInCallstack\] attribute have the same name.
    
*   Editor: Fixed issue where -nographics command line argument was not being forwarded to the Asset Import Workers. (UUM-29722)
    
*   Editor: Fixed issue where high-DPI mice can get the cursor stuck to the wrong icon. Now stable at 16000 DPI. ([UUM-26685](https://issuetracker.unity3d.com/issues/the-mouse-pointer-does-not-update-when-moving-it-between-two-windows))
    
*   Editor: Fixed preset save crash. ([UUM-29750](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset))
    
*   Editor: Fixed shortcut profile delete dialog message overflow in Shortcut Manager. ([UUM-28294](https://issuetracker.unity3d.com/issues/delete-shortcut-profile-window-does-not-fit-the-size-of-the-profile-title))
    
*   Editor: Fixed the EnumField updating the label when calling `SetValueWithoutNotify` and the value had not changed. ([UUM-28904](https://issuetracker.unity3d.com/issues/inconsistent-behavior-of-enumfield-initialization-when-an-enum-type-is-used-as-a-generic-type))
    
*   Editor: Fixed the project from freezing due to a faulty Raycast operation in the navigation system. (UUM-28701)
    
*   Editor: IL2CPP backup folder is no longer created if "Create Symbols.zip" build setting is set to Disabled on Android. (UUM-28355)
    
*   Editor: Prevent creation of .meta files in loadable plugin directories (.androidlib, .bundle, .framework, .plugin). ([UUM-9421](https://issuetracker.unity3d.com/issues/macos-meta-files-are-created-inside-a-bundle-when-its-imported-into-the-project))
    
*   GI: Fixed an issue with Light Explorer filtering when many lights are present. ([UUM-30672](https://issuetracker.unity3d.com/issues/light-explorer-search-loses-focus-when-typed-into))
    
*   Graphics: Blitting from RenderTexture.active to another RenderTexture with a shader sampling a texture at specific UV values causes visual artifacts. ([UUM-7994](https://issuetracker.unity3d.com/issues/blitting-from-rendertexture-dot-active-to-another-rendertexture-with-a-shader-sampling-a-texture-at-specific-uv-values-causes-visual-artifacts))
    
*   Graphics: Fixed bug with Streaming Virtual Texturing throwing a "The transcoded bitstream was invalid" error that was caused by build pipeline bug corrupting virtual texture regions located in virtual texture files larger than 2GB. When using SVT, it is recommended to rebuild your Player's build in order to get the corrected streaming files (GTS and GTP files) in the Streaming Assets folder. (UUM-30987)
    
*   HDRP: Fixed hard eges on volumetric clouds. ([UUM-3153](https://issuetracker.unity3d.com/issues/hdrp-harsh-edges-on-default-volumetric-clouds))
    
*   IL2CPP: Fixed a bug where IL2CPP returns an invalid pointer on P/Invoke methods that returns a non-blittable struct by reference. ([UUM-20790](https://issuetracker.unity3d.com/issues/il2cpp-returns-a-pointer-to-the-stack-value-which-points-to-invalid-memory-when-generating-code))
    
*   IL2CPP: Fixed a bug where referenced assets are unloaded by `Resources.UnloadUnusedAssets()`. ([UUM-26883](https://issuetracker.unity3d.com/issues/referenced-assets-are-unloaded-by-resources-dot-unloadunusedassets-when-used-in-il2cpp-build))
    
*   IL2CPP: Fixed a C++ compilation error when assigning to a ref parameter in shared generic code with constraints. (UUM-28821)
    
*   IL2CPP: Fixed a C++ compilation error when structs had static fields with circular type references. ([UUM-16351](https://issuetracker.unity3d.com/issues/build-fails-when-scripting-backend-is-il2cpp-and-threadstatic-attribute-is-applied-to-circular-structs))
    
*   IL2CPP: Fixed an intermittent crash on POSIX platforms which can happen when `Directory.GetFiles` is called while files in that directory are deleted on a different thread. ([UUM-29790](https://issuetracker.unity3d.com/issues/il2cpp-android-ios-player-crash-when-system-dot-io-dot-directory-dot-getfiles-is-called-during-file-deletion-on-another-thread))
    
*   IL2CPP: Marshalled a null value in a delegate field as a null delegate. ([UUM-29202](https://issuetracker.unity3d.com/issues/crashes-when-invoking-astruct-callback))
    
*   License: Fixed an issue where the Editor quits when activating ULF license and the license already exists. ([UUM-31031](https://issuetracker.unity3d.com/issues/editor-quits-during-license-activation-serial-mismatch))
    
*   Linux: Fixed memory corruption caused crash from libstdc++ basic\_string due to symbol conflicts from different '.so'. ([UUM-21782](https://issuetracker.unity3d.com/issues/linux-stringbuilder-marshalling-causes-runtime-free-invalid-pointer-abort-signal-crash-on-il2cpp-build))
    
*   Mono: Removed throw from attribute setters generated by profile stubber. ([UUM-18689](https://issuetracker.unity3d.com/issues/il2cpp-using-a-service-locator-to-retrieve-a-static-list-of-classes-doesnt-work-with-il2cpp-in-a-built-player))
    
*   Mono: Removed `!sig->is_inflated` assert from icall wrapper generator. ([UUM-27888](https://issuetracker.unity3d.com/issues/crash-on-condition-sig-is-inflated-and-and-sig-has-type-parameters-not-met-when-a-function-pointer-is-used-in-a-generic-method))
    
*   Package Manager: Fixed all delayed fields when editing a package in the inspector. ([UUM-19658](https://issuetracker.unity3d.com/issues/the-error-invalid-expected-a-semver-compatible-value-is-thrown-when-adding-a-dependency-in-the-inspector-with-letters-in-the-version-name))
    
*   Shadergraph: Addressed error feedback on import of graphs with invalid or missing targets, allowing them to be modified and saved. \[SGB-166\]\[SGB-167\]
    
*   Shadergraph: Addressed issue where duplicate serialized blackboard category children would in subgraphs would brick the ShaderGraph editor. \[SGB-378\]
    
*   Shadergraph: Addressed issue where missing targets were not handled on import. \[SGB-1\]
    
*   Shadergraph: Addressed various issues with the Swizzle node. \[SGB-159\]
    
*   Shadergraph: Fixed issue where custom interpolator previews would provide erroneous results when connecting through a reroute node. \[SGB-89\]
    
*   Shadergraph: Fixed issue where reroute node would sometimes show the wrong color for its appropriate inputs. \[SGB-17\]
    
*   Shadergraph: Fixed issue where subgraph gradient blackboard properties could have naming conflicts with parent graphs. \[SGB-310\]
    
*   Shadergraph: Fixed issue where the Gradient Noise Node was causing implicit truncation warnings. \[SGB-469\]
    
*   Shadergraph: Fixed issue where the view position of the graph editor would sometimes be forgotten when swapping between two open shadergraph editor windows. \[SGB-377\]
    
*   Shaders: Added a profiler marker for dynamic variant loading. (UUM-31878)
    
*   Shaders: Added macros for passing textures (Cube, 2DArray, and CubeArray) around without samplers. ([UUM-31858](https://issuetracker.unity3d.com/issues/unity-args-tex2darray-nosampler-doesnt-exist))
    
*   Shaders: Disabled shader compilation with debug symbols from using a non-existent file name. (UUM-31851)
    
*   Shaders: Enabled using real pass names when compiling shaders for mesh data optimisation. (UUM-15298)
    
*   Shaders: Fixed a rare crash when destroying shaders. (UUM-27361)
    
*   SRP Core: Fixed Decal Projector Editor fields so they are now saved when editing a prefab. ([UUM-29105](https://issuetracker.unity3d.com/issues/changes-made-to-decal-project-prefab-in-the-inspector-are-not-saved))
    
*   Universal RP: Fixed an issue where instantiating and destroying cameras, with Volume Update Mode set to ViaScripting, would allocate each time. ([UUM-22213](https://issuetracker.unity3d.com/issues/urp-instantiating-and-destroying-camera-with-update-mode-set-to-via-scripting-causes-memory-leak))
    
*   Version Control: - Fixed blurry icons in the Unity Version Control window and toolbar button  
    
    *   Fixed Pending Changes tab not always opening its selected item's location in Project window  
        
    *   Fixed "Checked-out (changed)" status icon not showing up on Pending Changes tab  
        
    *   Fixed issue that prevented new packages from being installed unless user enters play mode.
*   VFX Graph: Exposure weight slider was not hidden when a shadergraph was assigned to an output context. (UUM-4753)
    
*   VFX Graph: Fixed an error raised in the console when undoing shader assignment in the Mesh output node. ([UUM-16367](https://issuetracker.unity3d.com/issues/undoing-actions-when-sahder-is-assigned-to-output-mesh-results-in-errrors-thrown-to-the-console))
    
*   VFX Graph: Fixed an issue that read alive from source attribute was always returning true. ([UUM-8698](https://issuetracker.unity3d.com/issues/cant-inherit-the-alive-value-from-the-spawner-context))
    
*   VFX Graph: Fixed errors in the console when undoing changes from gizmo in some specific conditions. ([UUM-21929](https://issuetracker.unity3d.com/issues/vfx-errors-are-thrown-to-the-console-when-undoing-operation-after-editing-exposed-gizmos))
    
*   VFX Graph: The VFX component inspector had an unpaired `EditorGUI.BeginChangeCheck` that was breaking the state of `GUI.changed` ([UUM-15919](https://issuetracker.unity3d.com/issues/vfx-editorgui-dot-beginchangecheck-and-editorgui-dot-endchangecheck-not-working-with-visual-effect-editor))
    
*   Windows: Fixed quoting of the command line arguments. ([UUM-21600](https://issuetracker.unity3d.com/issues/commandline-receives-different-commands-when-passing-through-system-dot-environment-dot-commandline-method))

### Known Issues in 2021.3.22f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   iOS: Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Linux: Crash on GUIView::IsVSyncEnabled when saving a preset ([UUM-29750](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on \_\_cxxabiv1::\_\_aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Scene Management: Crash on Transform::CheckStructure when manually opening a scene ([UUM-31129](https://issuetracker.unity3d.com/issues/crash-on-transform-checkstructure-when-manually-opening-a-scene))
    

### 2021.3.22f1 Release Notes

#### Fixes

*   2D: - Fixed an issue where in large Sprite Libraries the inspector would fail to load Sprite previews. ([DANB-367](https://issuetracker.unity3d.com/issues/sprites-start-to-flicker-in-the-inspector-of-the-sprite-library-asset-when-expanding-the-inspector))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where "System.ArgumentException" thrown when opening sprite Prefab with Script. ([DANB-335](https://issuetracker.unity3d.com/issues/system-dot-argumentexception-thrown-when-opening-sprite-prefab-with-script))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where IKEditorManager updates even when there are no active IK Manager 2Ds in the Scene. ([DANB-344](https://issuetracker.unity3d.com/issues/ikeditormanager-dot-initialize-is-called-when-the-editorapplication-dot-hierarchychanged-event-is-invoked))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where IKGizmos will throw an exception in the editor when IKSolver has an unassigned Solver in its list. (DANB-370)
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where undo the addition of a Sprite Skin component would crash the editor. ([DANB-201](https://issuetracker.unity3d.com/issues/crash-on-transform-gettransformaccess-when-undoing-the-action-of-adding-sprite-skin-to-an-object))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where undoing vertex painting results in a displaced mesh. ([DANB-309](https://issuetracker.unity3d.com/issues/2d-using-undo-in-the-skinning-editor-after-moving-bones-and-geometry-with-the-weight-brush-disfigures-the-sprite))
    
*   2D: - \[com.unity.2d.animation\] Fixed SpriteResolver does not animation with animation clip when upgrading from 2020.3. (DANB-374)
    
*   2D: - \[com.unity.2d.spriteshape\] Fix case where Error "A Native Collection has not been disposed, resulting in a memory leak" occurs in Play Mode. ([DANB-296](https://issuetracker.unity3d.com/issues/error-a-native-collection-has-not-been-disposed-resulting-in-a-memory-leak-occurs-in-play-mode-when-a-gameobject-has-the-sprite-shape-controller-component-and-is-a-child-of-an-inactive-parent))
    
*   2D: - \[com.unity.2d.spriteshape\] Fix case where BezierUtility.BezierPoint function parameters are not in the right order. ([DANB-239](https://issuetracker.unity3d.com/issues/bezierutility-dot-bezierpoint-function-parameters-are-not-in-the-right-order))
    
*   2D: - \[com.unity.2d.tilemap.extras\]\[GameObjectBrush\] Align rotation and flip to 2D View in Editor.
    
*   2D: - \[com.unity.2d.tilemap.extras\]\[GameObjectBrush\] Fix placement of GameObjects for Hexagon Layouts with Anchor.
    
*   2D: - \[com.unity.2d.tilemap.extras\]\[RandomBrush\] Use default color and transform when painting over with RandomBrush.
    
*   2D: Fixed a crash when a user loads a Tilemap with a TilemapCollider2D and CompositeCollider2D with an invalid Sprite. ([UUM-29132](https://issuetracker.unity3d.com/issues/crash-on-tilemapcollider2d-generatepathsfromsprite-when-opening-specific-project))
    
*   Apple TV: Fixed a crash when closing the hardware keyboard. ([UUM-26712](https://issuetracker.unity3d.com/issues/tvos-crash-when-closing-the-on-screen-keyboard-with-tvos-version-15-dot-0))
    
*   Asset Pipeline: Fixed a case of Missing Script errors that could occur after leaving safe mode.
    
*   Asset Pipeline: Removed use of auto keyword in LMDB library. (UUM-29394)
    
*   DX12: Fixed a crash due to copying sampler descriptors. (UUM-29343)
    
*   Editor: Detect asset corruption before uploading to accelerator. ([UUM-26502](https://issuetracker.unity3d.com/issues/asset-corruption-when-using-the-accelerator-cache-server))
    
*   Editor: Disabled depth resolve if the camera doesn't have a depth buffer. (UUM-22019)
    
*   Editor: Enabled Gradle file search to use RegEx when looking for Play library dependencies, which identifies dependencies included with both double or single quotes. (UUM-29110)
    
*   Editor: Enabled shader global values to be taken into account when deciding what to rebake. (UUM-27392)
    
*   Editor: Fixed "Target minimum iOS Version" requirement. ([UUM-29044](https://issuetracker.unity3d.com/issues/wrong-target-minimum-ios-version-is-set-in-a-newly-created-project-if-the-required-version-is-12))
    
*   Editor: Fixed a rare Editor crash when using accelerator for shader cache. ([UUM-27645](https://issuetracker.unity3d.com/issues/crash-during-project-build-when-accessing-remote-shader-cache))
    
*   Editor: Fixed an OS key binding exception in ShortcutManager. ([UUM-4125](https://issuetracker.unity3d.com/issues/windows-keys-show-up-with-incorrect-keycodes-and-throw-errors-when-attempting-to-reassign-shortcuts-to-them))
    
*   Editor: Fixed freeform light tessellation for Light2D. ([UUM-9674](https://issuetracker.unity3d.com/issues/freeform-light2d-lighting-is-incorrect-when-moving-around-nodes))
    
*   Editor: Fixed handling msaa resolve in Frame Debugger when connected to Meta Quest over display link. ([UUM-1552](https://issuetracker.unity3d.com/issues/xr-quest-2-using-the-frame-debugger-camera-dot-render-commands-are-displayed-in-red-and-black-when-msaa-is-activated))
    
*   Editor: Fixed issue when importing FBX files where memory usage grows exponentially with the amount of clips present in the file. ([UUM-22047](https://issuetracker.unity3d.com/issues/unity-editor-not-responding-and-uses-up-all-the-memory-while-opening-project))
    
*   Editor: Fixed ReorderableList element culling when drawing with GUI rotation or scaling applied. ([UUM-10761](https://issuetracker.unity3d.com/issues/ui-doesnt-render-list-contents-when-using-guiutility-dot-scalearoundpivot))
    
*   Editor: Fixed the editor crash while switching avatar from generic to humanoid. ([UUM-22716](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-sendlayoutevent-guistate-and-when-changing-animation-type-to-humanoid))
    
*   Editor: GameObjects from 31st layer are rendered when Camera.cullingMask is set to 'Everything'. ([UUM-2698](https://issuetracker.unity3d.com/issues/gameobjects-from-31st-layer-are-not-rendered-when-camera-dot-cullingmask-is-set-to-everything))
    
*   Editor: Only change file status flags with chflags on OSX if the requested flags differ from actual. (UUM-26616)
    
*   Editor: The color picker can now select the proper color on a secondary monitor on macOS ([UUM-2501](https://issuetracker.unity3d.com/issues/cant-select-color-from-editor-with-color-picker-when-unity-editor-is-on-secondary-monitor))
    
*   GI: Fixed corrupted probes on scenes without a lighting data asset when running the editor with -nographics. ([UUM-16874](https://issuetracker.unity3d.com/issues/linear-color-space-always-renders-fullbright-when-target-platform-is-uwp))
    
*   Graphics: Fixed failing editor mode test on M1 trying to create a PVRTC texture smaller than the minimum required size. (UUM-3791)
    
*   Graphics: Product name will now be used as application name when creating Vulkan instance. ([UUM-25486](https://issuetracker.unity3d.com/issues/there-is-no-option-to-change-the-string-being-passed-when-unity-passes-the-string-to-the-vkcreateinstance-function))
    
*   Graphics: VSync doesn't turn off when changing the quality in the Player from "High Fidelity" to "Performant". ([UUM-17522](https://issuetracker.unity3d.com/issues/vsync-doesnt-turn-off-when-changing-the-quality-in-the-player-from-high-fidelity-to-performant))
    
*   Linux: Fixed the Mouse position so it is now correct when playing the build on a multiple monitor setup in full screen mode. ([UUM-26497](https://issuetracker.unity3d.com/issues/linux-mouse-position-is-incorrect-when-playing-build-on-a-multiple-monitor-setup-in-full-screen-mode))
    
*   Networking: Fixed an issue that could prevent UDP sockets from being created on Windows when TDI filters were installed.
    
*   Scene/Game View: Fixed selected child GameObjects not rendering gizmos when the root GameObject is not also selected. ([UUM-22208](https://issuetracker.unity3d.com/issues/collider-gizmos-are-not-visible-when-a-child-gameobject-is-selected-and-parent-gameobject-is-outside-the-view))
    
*   Shaders: Fix material keywords cleared when setting the exact same list of keywords ([UUM-27639](https://issuetracker.unity3d.com/issues/setting-the-material-dot-shaderkeywords-field-causes-the-field-to-become-empty-when-the-new-shader-keywords-are-the-same-as-the-existing-ones))
    
*   TLS: Cumulative TLS update.  
    Fixed invalid verification results reported in some cases when there is a TLS handshake failure.  
    Fixed an issue where opening multiple TLS connections with different lifetimes might affect the ability to produce log output after one of the first connections is closed.  
    Improved TLS errors reported by Unity Web Request.
    
*   uGUI: "NullReferenceException" error is thrown when entering the Play Mode with >=2 open Inspectors and Canvas GameObject is selected. ([UUM-1510](https://issuetracker.unity3d.com/issues/nullreferenceexception-error-is-thrown-when-entering-the-play-mode-with-equals-2-open-inspectors-and-canvas-gameobject-is-selected))
    
*   uGUI: Instantiating a Selectable under a CanvasGroup sets the correct interactable state. ([UUM-27611](https://issuetracker.unity3d.com/issues/the-button-is-interactable-when-instantiated-into-a-non-interactable-canvas-group))
    
*   UI Elements: Added "-unity-slice-scale" USS property to UI Builder and updated drag step for some style fields  
    Also updated dragger manipulators for the following UI Builder property inspectors (default drag step updated from 1.0px (old value) to 0.1px (new value):  
    
    *   TextShadow's Blur Radius, Offset X and Y fields  
        
    *   Slice Scale field. ([UUM-15680](https://issuetracker.unity3d.com/issues/ui-builder-the-border-of-visualelement-is-not-created-when-slicing-a-pixel-art-sprite))
*   UI Toolkit: Users can set the ScrollView's mouse wheel scroll size (thus its speed) with the Mouse Wheel Scroll Size attribute, regardless of its vertical and horizontal page sizes. ([UUM-18554](https://issuetracker.unity3d.com/issues/slow-scroll-view-scrolling-when-entering-play-mode-and-in-builds))
    
*   Universal RP: Fixed soft shadow filtering quality when using large empty shadow atlas. Use allocated atlas size instead of requested size. ([UUM-10520](https://issuetracker.unity3d.com/issues/urp-shadows-are-jagged-when-shadow-atlas-resolution-is-set-to-4096))
    
*   URP: Fixed incorrect Depth for Camera Stacks. ([UUM-24943](https://issuetracker.unity3d.com/issues/ios-ui-camera-stacking-is-not-working-on-some-ios-devices))
    
*   VFX Graph: Added support for multiple subgraphs drag&drop. ([UUM-15236](https://issuetracker.unity3d.com/issues/multiple-subgraphs-cannot-be-dragged-to-the-system))
    
*   VFX Graph: Fixed a crash when drag & dropping a vfx on another vfx with a circular dependency. ([UUM-14670](https://issuetracker.unity3d.com/issues/vfx-crash-on-serializablemanagedref-getscripttype-when-drag-and-dropping-subgraph-to-the-system))
    
*   VFX Graph: Fixed the `Dispose()` method of `MeshToSDFBaker` leading to memory leaks ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    
*   VFX Graph: GPU Event weren't always safe. (UUM-25065)
    
*   WebGL: Fixed FMOD console errors when a scene is reloaded. (UUM-19241)
    
*   WebGL: Fixed playback of mp3 audio files loaded via UnityWebRequest on Safari ([UUM-25389](https://issuetracker.unity3d.com/issues/webgl-audio-source-has-no-sound-if-the-audio-clip-was-downloaded-via-webrequest-on-ios-devices))
    
*   Windows: Fixed IME text input not being reported appropriately when users clicks away while using an IME, with the input system. The characters would be reported multiple times. (UUM-24734)

### Known Issues in 2021.3.21f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   Linux: Crash on GUIView::IsVSyncEnabled when saving a preset ([UUM-29750](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on \_\_cxxabiv1::\_\_aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Visual Effects: SDF Baking causes memory to be allocated that isn't deallocated when in Play Mode and in Builds ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    

### 2021.3.21f1 Release Notes

#### Improvements

*   2D: Improved the performance of creating a large number of Tile assets with the Tile Palette window.
    
*   2D: Improved the performance of opening the Tile Palette window when the Tile Palette references a large number of Tile assets. (UUM-26849)
    
*   Package Manager: Extended support for specifying optional path and revision to Git URLs in SCP format.
    

#### Changes

*   Package Manager: Renamed Web3 category filter in Package Manager Window for My Assets to Decentralization.

#### Fixes

*   2D: Fixed the Tile Palette repainting a position when doing a mouse drag at the same position. (UUM-27588)
    
*   AI: Fixed the inaccurate shape of NavMeshObstacles that prevent agents from avoiding them properly. This only applies to Windows builds. ([UUM-9814](https://issuetracker.unity3d.com/issues/windows-agent-moves-into-obstacles-when-moving-towards-the-destination-in-builds))
    
*   Android: Fixed Screen.SetResolution when using split-screen and Screen.orientation changes. ([UUM-19019](https://issuetracker.unity3d.com/issues/android-screen-dot-setresolution-doesnt-work-in-split-view-when-setting-screen-orientation-different-from-the-orientation-of-the-device))
    
*   Android: Unity will no longer wrap native crashes into java exceptions on Android, as has been the case, and will correctly forward signals to the previous handlers.
    
*   Asset Bundles: Fixed issue where empty folders remain in the cache when the max storage space is exceeded. ([UUM-27439](https://issuetracker.unity3d.com/issues/cache-folders-remain-empty-after-discarding-the-cached-bundle))
    
*   Core: Fixed Transform.GetLossyScale() returning inaccurate results (only in Windows player non developpement builds). (UUM-25239)
    
*   DX12: Fixed for crash when RenderDoc is attached to a scene with an invalid pipeline state. ([UUM-22222](https://issuetracker.unity3d.com/issues/crash-on-d3d12getinterface-when-opening-the-project))
    
*   Editor: Avoid breaking SRP Batcher shadow batch when different "per material" texture. ([UUM-11166](https://issuetracker.unity3d.com/issues/srp-batcher-cant-batch-draw-calls-during-mainlightshadow-pass-when-readtexturealpha-is-enabled))
    
*   Editor: Fixed a crash where destroying a component's GameObject in the Awake function of a script with ExecuteInEditMode would incorrectly try to apply serialized object changes. ([UUM-21915](https://issuetracker.unity3d.com/issues/crash-on-modulemetadatabindings-getmoduleincludesettingforobject-when-enabling-gameobject))
    
*   Editor: Fixed an issue so that Light Probes are affected by back-facing triangles when baking with the GPU Lightmapper. (UUM-7699)
    
*   Editor: Fixed an issue with the initialization of raytracing which could fail during certain frames. (UUM-26885)
    
*   GI: Fixed an issue where lightmaps would be swapped when entering playmode when the "Reload Scene" option is disabled. ([UUM-21437](https://issuetracker.unity3d.com/issues/multiscene-lightmaps-are-swapped-when-entering-the-play-mode-for-the-first-time-after-loading-a-scene-when-reload-scene-is-disabled))
    
*   Graphics: Added error message when enabling restricted keywords on a Material. ([UUM-3576](https://issuetracker.unity3d.com/issues/crash-on-vkgetinstanceprocaddr-and-drawbuffersbatchmodeenabling-with-keyword-instancing-on-when-using-vulkan-opengles-and-metal))
    
*   Graphics: Added GetVisiblePositions to TrailRenderer. ([UUM-21893](https://issuetracker.unity3d.com/issues/trailrenderer-dot-getpositions-returns-invisible-points))
    
*   Graphics: Fixed a Particle System rendering corruption. ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Graphics: Fixed glitches on macOS when the rendering path is set to deferred. ([UUM-21567](https://issuetracker.unity3d.com/issues/m1-glitches-and-graphical-artifacts-are-appearing-when-rendering-path-is-set-to-deferred-using-the-built-in-render-pipeline))
    
*   IL2CPP: Enabled display of the name of each thread in native and third party profilers. (UUM-21136)
    
*   IL2CPP: Fixed a potential .cpp file name collision when two assembly names differ only by a number at the end of their name. ([UUM-27951](https://issuetracker.unity3d.com/issues/il2cpp-build-can-fail-when-2-assembly-definitions-have-similar-names))
    
*   IL2CPP: Fixed a race condition when creating generic class metadata. (UUM-26516)
    
*   IL2CPP: Fixed IL2CPP build failure when using Unbox instruction with generic by reference return type. ([UUM-5942](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-an-assembly-renamed-via-sentrys-assembly-alias-tool))
    
*   IL2CPP: Projects created prior to 2021.3 and opened in 2021.3 or newer could have their Managed Stripping Level incorrectly migrated to the new default value of Minimal when the old default of Low should have been retained. (UUM-19512)
    
*   Linux: Fixed the Linux Editor so it no longer ignores a SIGTERM signal. ([UUM-24705](https://issuetracker.unity3d.com/issues/linux-editor-ignores-sigterm-signal-when-using-command-kill))
    
*   macOS: The macOS Player no longer contains an empty area gap on each screen vertical side when rendering fullscreen on Macs with a notch. (UUM-12632)
    
*   Mobile: Shaders with normals are rendered correctly when sampling pixels with mixed shader evaluation on iOS and Android builds. ([UUM-22766](https://issuetracker.unity3d.com/issues/material-is-displayed-incorrectly-when-it-uses-a-normal-map-with-a-mobile-build-target))
    
*   Networking: UnityWebRequest: Fixed a possible crash when texture download receives bogus data that does not decode. ([UUM-28816](https://issuetracker.unity3d.com/issues/downloadhandlertexture-crashes-if-it-downloads-invalid-texture-data))
    
*   Package Manager: Fixed an issue where a project with a large number of git dependencies would have resolution errors with error code 429 (Too Many Requests). The number of concurrent requests is six by default, but it can be changed by setting the `UPM_GIT_MAX_CONCURRENT_COMMANDS` environment variable. ([UUM-6049](https://issuetracker.unity3d.com/issues/rpc-failed-http-429-curl-22-the-requested-url-returned-error-429-error-message-appears-when-executing-git-commands))
    
*   Package Manager: Fixed an issue which prevented starting UPM when a `package.json` file containing `"type": "module"` was present on any of the ancestor directories. (UUM-18512)
    
*   Package Manager: Fixed the issue where local and git packages are not visible in `Unity Registry` and `My Registries`. ([UUM-20549](https://issuetracker.unity3d.com/issues/package-is-removed-from-the-scoped-registry-when-installing-the-same-package-from-a-local-disk))
    
*   Prefabs: Fixed prefab mode not sorting renderer components accordingly. ([UUM-3458](https://issuetracker.unity3d.com/issues/order-in-layer-does-not-work-when-previewing-in-prefab-mode))
    
*   Scene/Game View: Fixed Gizmo Icons not showing. ([UUM-27823](https://issuetracker.unity3d.com/issues/icon-of-empty-gameobject-disappears-when-selected))
    
*   Scene/Game View: Fixed Grid Size field snapping to minimum grid size when trying to enter a value below one. ([UUM-24640](https://issuetracker.unity3d.com/issues/grid-size-field-snapping-to-lowest-possible-value-when-the-number-begins-with-zero))
    
*   Serialization: Enabled `SerializedObject.Update` to now change the cache for `hasMultipleDifferentValues` if the first C# object has changed in memory in a multi-object selection scenario. (UUM-19688)
    
*   Shaders: Fixed multi\_compile\_particles to work together with built-in lighting variants. Requires shader re-import. (UUM-6037)
    
*   uGUI: Fixed "MissingReferenceException" when disabling and enabling "Send Navigation Events" through the EventSystem component Properties window. ([UUM-27822](https://issuetracker.unity3d.com/issues/missingreferenceexception-thrown-when-disabling-and-enabling-send-navigation-events-through-component-properties-window))
    
*   uGUI: Fixed imprecision when rotating using the Rect tool. ([UUM-3386](https://issuetracker.unity3d.com/issues/large-ish-float-error-margins-when-using-the-rect-tool-to-rotate-a-3d-object))
    
*   UI Toolkit: Fixed PanelRaycaster NullReferenceException when active in a scene with no EventSystem or BaseInputModule components. ([UUM-19168](https://issuetracker.unity3d.com/issues/forma-render-nullreferenceexception-in-unityengine-dot-uielements-dot-panelraycaster-dot-raycast-during-runtime))
    
*   UI Toolkit: UI Builder: Exception is no longer thrown when the user tries to enter a negative value for the Fixed Item Height attribute of a ListView, TreeView, etc. ([UUM-11324](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-value-needs-to-be-positive-for-virtualization-is-thrown-when-adjusting-fixed-item-height-into-the-negatives))
    
*   URP: Fixed XR vsync is disabled when focus is lost. (UUM-16846)
    
*   VFX Graph: Added missing DepthNormal pass for Unlit & Unify SSAO integration with Unlit for URP. ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    
*   VFX Graph: Fixed an unsafe deletion of VFXParticleSystem which can lead to a crash while deleting VisualEffect. (UUM-9851)
    
*   VFX Graph: Fixed NRE when the Vector2 is configured as a range, it was preventing Decal output context creation. ([UUM-27114](https://issuetracker.unity3d.com/issues/vfx-graph-does-not-open-when-it-contains-the-output-particle-hdrp-lit-decal-node))
    
*   Video: Fixed crashes when changing the source URL on some specific devices. ([UUM-29011](https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android-v2))
    
*   Video: Fixed error when adding file:// to point at a local file in the VideoPlayer on Android. ([UUM-16166](https://issuetracker.unity3d.com/issues/videoplayer-dot-url-on-android-does-not-work-with-file-uri-scheme-when-using-vp8-slash-webm-file))
    
*   Video: Multi-display rendering is displaying the first camera's view on both displays instead of displaying both camera's views when used with a mobile device. ([UUM-13587](https://issuetracker.unity3d.com/issues/multi-display-rendering-is-displaying-the-first-cameras-view-on-both-displays-instead-of-displaying-both-cameras-views-when-used-with-a-mobile-device))

### Known Issues in 2021.3.20f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on \_\_cxxabiv1::\_\_aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: Crash during project build when accessing Remote Shader Cache ([UUM-27645](https://issuetracker.unity3d.com/issues/crash-during-project-build-when-accessing-remote-shader-cache))
    
*   Visual Effects: SDF Baking causes memory to be allocated that isn't deallocated when in Play Mode and in Builds ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    

### 2021.3.20f1 Release Notes

#### Improvements

*   Editor: Improved performance of Transform.Find() API especially when working with large numbers of children.

#### Changes

*   Version Control: Updated branding from "Plastic SCM" to "Unity Version Control"  
    Improved offline experience by disabling the plugin when there is no internet connection

#### Fixes

*   2D: Store directory path instead of file path as the last used asset path when doing a drag and drop to create a Tile Asset ([UUM-25250](https://issuetracker.unity3d.com/issues/tile-palette-drag-and-dropping-multiple-sprites-to-tile-palette-auto-selects-last-asset-to-create-tile-assets))
    
*   Android: Build will fail, if custom asset pack does not have a valid structure. ([UUM-25501](https://issuetracker.unity3d.com/issues/android-aab-build-fails-when-using-asset-bundles))
    
*   Android: Fixed an issue where `Network.OperationalStatus` would always return Unknown for Android. ([UUM-19683](https://issuetracker.unity3d.com/issues/android-network-dot-operationalstatus-method-returns-unknown-status-for-all-network-interfaces-when-observing-their-operational-state))
    
*   Android: Fixed the Time.deltaTime values so they are now stable on Android devices. ([UUM-10244](https://issuetracker.unity3d.com/issues/android-time-dot-deltatime-values-arent-stable-on-specific-devices))
    
*   Asset Pipeline: Fixed indeterministic output for any asset containing script types. ([UUM-22077](https://issuetracker.unity3d.com/issues/inconsistent-assetdatabase-dot-getdependencyhash-value-returned-for-unchanged-source-files-when-using-a-custom-scriptedimporter))
    
*   Build System: Fixed a BuildPipeline issue for the Android platform and MacStandalone builds which asks for a name and directory, despite having the last saved location details. This is triggered by using Ctrl+B (Windows) or Cmd+B (macOS). ([UUM-19897](https://issuetracker.unity3d.com/issues/build-and-run-asks-for-a-name-and-directory-when-it-was-previously-provided))
    
*   Editor: Fixed a regression that changed the default behaviour of animators on disabled. (UUM-27229)
    
*   Editor: Fixed an issue copying hideflags to the cloned object when instantiating a GameObject. (UUM-22863)
    
*   Editor: Fixed component added twice when dragging script asset on inspector window from project window ([UUM-26276](https://issuetracker.unity3d.com/issues/monobehaviour-dragged-and-dropped-to-the-gameobject-ends-up-adding-twice))
    
*   Editor: Fixed Crash on GUIView::ProcessInputEvent when switching Editor layout ([UUM-12892](https://issuetracker.unity3d.com/issues/crash-on-guiview-processinputevent-when-switching-editor-layout-after-luna-package-import))
    
*   Editor: Fixed drag and drop crashes the editor if the window is docked. ([UUM-23241](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-gdk-window-get-frame-extents-when-dragging-and-dropping-an-asset-in-a-custom-editor-window))
    
*   Editor: Fixed error when opening the "Select Preset" window while having a user defined Preset class assets ([UUM-11334](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-opening-the-input-manager-select-preset-window))
    
*   Editor: Fixed Overlays not preserving enabled state through domain reloads. ([UUM-20070](https://issuetracker.unity3d.com/issues/hidden-overlays-are-reappearing-after-relaunching-the-unity-editor))
    
*   Editor: Fixed Slowdown spikes when moving an object in the scene caused by the PropertyDatabase. ([UUM-22631](https://issuetracker.unity3d.com/issues/search-slowdown-spikes-when-moving-an-object-in-the-scene-caused-by-the-propertydatabase))
    
*   Editor: Fixed the size of the editor window being smaller than the wrongly set default ([UUM-24686](https://issuetracker.unity3d.com/issues/linux-editorwindow-is-empty-when-created-with-the-utility-set-to-true))
    
*   Editor: Fixed Unity Event callback list calculating its height incorrectly ([UUM-9380](https://issuetracker.unity3d.com/issues/crash-on-serializedproperty-isvalid-when-selecting-multiple-scriptableobjects))
    
*   Editor: The Focused Inspector window cannot be opened for multiple different Assets via the Inspector window ([UUM-19504](https://issuetracker.unity3d.com/issues/the-focused-inspector-window-cannot-be-opened-for-multiple-different-assets-via-the-inspector-window))
    
*   Editor: Unsaved changes made to assets are now preserved when renaming an asset while using Perforce ([UUM-17896](https://issuetracker.unity3d.com/issues/changes-made-to-assets-are-not-saved-when-renaming-the-asset-while-using-perforce-2))
    
*   Editor: Using "Synchronous" flag with search expressions hangs Unity (UUM-14546)
    
*   GI: Fixed the help link at the top of the Lighting Window. ([UUM-25787](https://issuetracker.unity3d.com/issues/the-wrong-documentation-page-is-opened-when-clicking-the-help-icon-in-the-lighting-window))
    
*   IL2CPP: Emitted code that compiles for array element access from null in a non-development player build. ([UUM-597](https://issuetracker.unity3d.com/issues/il2cpp-unity-fails-to-build-when-using-faulty-function-with-an-element-being-called-from-null-array))
    
*   IL2CPP: Enabled proper handling of the unbox opcode when the result is used across IL basic blocks. ([UUM-21101](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-a-project-is-using-ikvm-dot-dll-files))
    
*   IL2CPP: Fixed a compile error when you enable bitcode for an Android build. ([UUM-25113](https://issuetracker.unity3d.com/issues/an-undefined-symbol-error-is-thrown-when-building-with-the-fembed-bitcode-flag))
    
*   IL2CPP: Fixed the InvalidCastException being thrown when you serialize jagged arrays using BinaryFormatter. ([UUM-23156](https://issuetracker.unity3d.com/issues/il2cpp-invalidcastexception-is-thrown-when-serializing-jagged-arrays-using-binaryformatter))
    
*   IL2CPP: Fixed UnintializedDataAccessException when processing a function pointer that has a function pointer as a parameter. ([UUM-9030](https://issuetracker.unity3d.com/issues/il2cpp-not-correctly-handling-function-pointers-that-have-function-pointer-parameters-leads-to-build-failure))
    
*   Kernel: Fixed broken RECORD\_ALLOCATION\_SITES functionalit. (UUM-26702)
    
*   Kernel: Fixed crash resulting from UnityDefaultAllocator not tracking all allocations. (UUM-23090)
    
*   Kernel: Fixed potential crash at app shutdown. (UUM-26528)
    
*   macOS: Fixed Display systemWidth and systemHeight being wrong until window is moved to another display ([UUM-501](https://issuetracker.unity3d.com/issues/macos-returned-systemwidth-and-systemheight-are-half-of-the-correct-values-when-using-display-dot-main))
    
*   Mono: Enabled proper handling of the unbox opcode when the result is used across IL basic blocks. ([UUM-21101](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-a-project-is-using-ikvm-dot-dll-files))
    
*   Mono: Fixed a crash when using ConditionalWeakTable. ([UUM-25411](https://issuetracker.unity3d.com/issues/crashes-on-garbagecollector-collectincremental-when-entering-the-play-mode))
    
*   Package Manager: Packages are deleted after changing the **My Assets** cache location to non-default when the asset is updated in Package Manager. ([UUM-25376](https://issuetracker.unity3d.com/issues/packages-are-deleted-after-changing-the-my-assets-cache-location-to-non-default-when-the-asset-is-updated-in-package-manager))
    
*   Prefabs: Disabled IMGUI ReorderableList elements when previewing overridden values PrefabMode InContext. ([UUM-13618](https://issuetracker.unity3d.com/issues/prefab-list-contains-the-wrong-number-of-elements-when-opening-it-through-a-prefab-variant))
    
*   Scripting: Fixed possible Editor hang while it waits for AssemblyUpdater when importing assemblies ([UUM-7944](https://issuetracker.unity3d.com/issues/apiupdater-reaches-a-timeout-while-updating-assemblies))
    
*   Shaders: Fixed asset bundle backwards compatibility regression on material keywords. (UUM-26498)
    
*   SRP Core: Fixed a Render Graph bug where culled passes would be delegated to releasing a resource, resulting in unwanted leaking. (UUM-20800)
    
*   uGUI: Fixed CanvasRenderer color reset on Clear ([UUM-3527](https://issuetracker.unity3d.com/issues/color-set-through-canvasrenderer-dot-setcolor-is-reset-when-canvasrenderer-becomes-inactive))
    
*   UI Toolkit: Fixed the ListView itemsRemoved event being invoked after the items were removed from the serializedObjectList. They are now removed after the callback. ([UUM-10786](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-errors-in-the-console-when-removing-items-from-a-scriptableobjects-listview))
    
*   Universal RP: Fixed a missing keyword in ParticlesSimpleLit for Lightmap shadow mixing. ([UUM-26403](https://issuetracker.unity3d.com/issues/urp-particle-simplelit-is-missing-number-pragma-multi-compile-lightmap-shadow-mixing))
    
*   Universal RP: Fixed an issue so that deferred rendering now works correctly in builds with Accurate GBuffer Normals enabled. ([UUM-25112](https://issuetracker.unity3d.com/issues/nothing-is-rendered-in-the-built-urp-project-when-deferred-rendering-is-selected-and-accurate-g-buffer-normals-are-enabled))
    
*   URP: 2D - Fixes 2D Sprite Light & Freeform Light fast normal map quality setting to correctly use normal map (UUM-4613)
    
*   URP: 2D - Fixes a bug with ShadowCaster2D's shadow mesh bounds which was causing shadows to disappear ([UUM-19090](https://issuetracker.unity3d.com/issues/urp-2d-shadow-disappears-even-though-light-is-in-range-of-the-sprite-when-using-light-2d))
    
*   VFX Graph: Fixed enum fields could be cropped when text is too long (UUM-4420)
    
*   Windows: Fixed a potential crash during Windows Player cleanup. ([UUM-25383](https://issuetracker.unity3d.com/issues/crash-on-screenmanagerwin-recommitcursorlock-when-screenmanager-pointer-is-used))
    
*   Windows: Fixed Build to source folder when the project build dir is deleted. (UUM-25240)

### Known Issues in 2021.3.19f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on \_\_cxxabiv1::\_\_aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Profiling: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Universal RP: Nothing is rendered in the built URP project when Deferred rendering is selected and Accurate G-buffer normals are enabled ([UUM-25112](https://issuetracker.unity3d.com/issues/nothing-is-rendered-in-the-built-urp-project-when-deferred-rendering-is-selected-and-accurate-g-buffer-normals-are-enabled))
    
*   Visual Effects: SDF Baking causes memory to be allocated that isn't deallocated when in Play Mode and in Builds ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    

### 2021.3.19f1 Release Notes

#### Features

*   Package Manager: Added Web3 as a Filter Category in My Assets.

#### Improvements

*   IL2CPP: Improved error message when the GenericSharingVisitor encounters an opcode that it cannot handle.
    
*   Shadergraph: The asset postprocessor for shader graph now only performs the majority of its work when a shader-related asset has been changed.
    

#### API Changes

*   Apple TV: Added: Identifier for 3rd generation Apple TV 4K.
    
*   iOS: Added: Identifiers for iPad models released in 2022.
    

#### Changes

*   Editor: Updated the documentation for AudioClip.GetData. Clarified the usage of the API for all streamed clips and made a note on the return value of AudioClip.GetData which is currently undocumented. ([UUM-363](https://issuetracker.unity3d.com/issues/cannot-get-data-from-streamed-samples-when-using-pcm-read-callbacks))

#### Fixes

*   2D: Fixed an issue where the Name/FileIds in a Sprite meta file would get reordered when an importer setting is changed. ([UUM-22494](https://issuetracker.unity3d.com/issues/texture-version-control-importing-certain-textures-with-multiple-sprites-cause-arbitrary-changes-in-namefileidtable-mapping-in-meta-file))
    
*   2D: Fixed issue where Tiles are "double painted" when a user does a mouse drag when painting on a Tilemap. (UUM-25164)
    
*   Android: Fixed crash if Java proxy is invoked at the same time as Unity is quit. (UUM-15968)
    
*   Android: Fixed permissions request hang in pre-marshmellow (Android 6).
    
*   Asset Bundles: Fixed issue where "Failed to decompress data" error occurs when loading bundle. (UUM-22990)
    
*   Asset Bundles: Fixed issue where "Failed to decompress data" error occurs when loading bundle. ([UUM-6639](https://issuetracker.unity3d.com/issues/assetbundle-is-invalid-and-failed-to-decompress-data-errors-appear-after-exporting-and-importing-specific-asset-bundles))
    
*   Build Pipeline: Improved error message, and remove possibility of crash, when a MonoBehaviour or ScriptableObject is being built that does not have a MonoScript. ([UUM-21886](https://issuetracker.unity3d.com/issues/unity-editor-crashes-on-collectallserializereferencetypesandpersistentcalltargets-when-building-a-project-for-standalone-player))
    
*   Build Pipeline: Switching between Desktop Standalone and Dedicated Server platforms in the Build Settings window should now cause scripts to recompile. (UUM-22125)
    
*   Core: Asset import workers will not inherit open handles from the main editor causing trouble rebinding network sockets. (UUM-939)
    
*   DX12: Fixed a crash observed in e.g. HDRP sample project. ([UUM-20176](https://issuetracker.unity3d.com/issues/hdrp-template-standalone-player-crashes-after-a-few-seconds))
    
*   Editor: Dragging a component to the bottom of the inspector will now properly move that component to the end. ([UUM-18711](https://issuetracker.unity3d.com/issues/inspector-component-isnt-placed-at-the-bottom-when-releasing-mouse-outside-of-the-blue-highlight))
    
*   Editor: Dropped warning about mismatching mipmap limits when using a region-based CopyTexture. ([UUM-21771](https://issuetracker.unity3d.com/issues/unnecessary-amounts-of-warnings-are-logged-when-using-graphics-dot-copytexture))
    
*   Editor: Enabled the **New Scene** window to now show proper search results when a scene template is pinned. ([UUM-15393](https://issuetracker.unity3d.com/issues/search-results-become-incorrect-after-pin-slash-unpin-functionality-use-in-new-scene-window))
    
*   Editor: Extracted potential Editor-only dependencies and marked those as Reference instead of Clone. ([UUM-3666](https://issuetracker.unity3d.com/issues/scene-templates-script-gizmos-are-added-as-dependencies-and-are-cloned-by-default-1))
    
*   Editor: Fixed a build performance regression caused by shader variant prefiltering overhead. ([UUM-23173](https://issuetracker.unity3d.com/issues/shader-prefiltering-takes-a-long-time-to-query-mono-attributes-on-hdrp))
    
*   Editor: Fixed an Editor crash when rendering with UsePass or Fallback via SRP batcher. ([UUM-19898](https://issuetracker.unity3d.com/issues/unity-editor-crashes-on-scriptablebatchrenderer-applyshaderpass-after-editing-shaders-and-entering-play-mode))
    
*   Editor: Fixed an Editor crash when you try to build a project with corrupt compute shaders. ([UUM-25488](https://issuetracker.unity3d.com/issues/crash-on-the-unknown-line-when-building-a-specific-project))
    
*   Editor: Fixed Camera.stereoEnabled when SRP is used and fixed the Camera.stereoSeparation value.
    
*   Editor: Fixed case where SetParent allowed setting transforms as parents when they are persistent. ([UUM-12399](https://issuetracker.unity3d.com/issues/crash-on-rebuildtransformhierarchy-when-setting-a-transform-parent-to-assetbundle))
    
*   Editor: Fixed Mac Editor crash on sprite Drag & Drop. ([UUM-20950](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view))
    
*   Editor: Fixed multi select + click so it now works in dependency list. (UUM-20649)
    
*   Editor: Fixed pin position. ([UUM-15301](https://issuetracker.unity3d.com/issues/pin-in-new-scene-dialog-option-position-migrates-with-inspector-window-resizing))
    
*   Editor: Fixed potential crash when a scene with a component without a GameObject is loaded. ([UUM-1291](https://issuetracker.unity3d.com/issues/crash-when-opening-a-specific-scene))
    
*   Editor: Fixed shader graph's preview window when using deferred rendering in URP. ([UUM-11582](https://issuetracker.unity3d.com/issues/shader-graph-preview-window-is-empty-when-using-deferred-rendering-path))
    
*   Editor: Fixed showing the dependencies of scene template when there is a single dependency. ([UUM-2524](https://issuetracker.unity3d.com/issues/scene-templates-dependencies-are-not-shown-if-theres-only-one-dependency))
    
*   Editor: Fixed the scrollbar in the Description field in the new scene dialog. ([UUM-15359](https://issuetracker.unity3d.com/issues/new-scene-template-details-section-misses-a-scrollbar))
    
*   Editor: Fixed the URL for the Scene Template documentation. ([UUM-15355](https://issuetracker.unity3d.com/issues/documentation-page-is-not-displayed-for-the-user-when-he-clicks-on-open-reference-for-scenetemplateasset-question-mark))
    
*   Editor: Fixed the URL for the Scene Template pipeline documentation. ([UUM-15399](https://issuetracker.unity3d.com/issues/wrong-documentation-page-is-displayed-for-the-scene-template-pipeline-help-icon))
    
*   Editor: Fixed typo in error message on SkinnedMeshRenderer. ([UUM-13268](https://issuetracker.unity3d.com/issues/mesh-error-message-about-mesh-is-missing-useful-info))
    
*   Editor: Fixed UsePass and Fallback rendering sometimes broken in Editor when using SRP batcher. ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Editor: Gradient's location value could not be edited for rgb swatches using the keyboard. (UUM-6350)
    
*   Editor: Removed the ability to apply components marked with HideFlags.DontSaveInEditor to Prefab. ([UUM-21110](https://issuetracker.unity3d.com/issues/hideflags-dot-dontsave-hideflags-dot-noteditable-component-on-a-gameobject-still-allows-applying-that-component-to-a-prefab-when-there-is-a-check-if-it-is-already-on-the-gameobject))
    
*   Editor: Video: Fixed crash when changing the source URL of a video player in Android. ([UUM-20661](https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android))
    
*   Editor: \[SpeedTree\]: Fixed crash on UpdateSharedDataSubMeshVertexRange when importing a SpeedTree file. ([UUM-25371](https://issuetracker.unity3d.com/issues/crash-on-updateshareddatasubmeshvertexrange-when-importing-a-speedtree-file))
    
*   GI: Added support for GPU lightmapper on Intel Arc 750 GPUs. (UUM-21746)
    
*   GI: Fixed only one GPU being available to select as the "GPU Baking Device" when multiple identical GPUs are installed. ([UUM-15155](https://issuetracker.unity3d.com/issues/only-one-gpu-is-available-to-select-as-the-gpu-baking-device-when-two-identical-gpus-are-installed-on-a-computer))
    
*   Graphics: Enabled `Mesh.RecalculateTangents()` to ensure that the tangent attribute has the correct format (Float32) and dimension (4) when called. ([UUM-19137](https://issuetracker.unity3d.com/issues/crash-on-mesh-recalculatetangents-when-recalculating-tangents))
    
*   Graphics: Fixed editor crash when entering play mode with Oculus Link using Vulkan. ([UUM-19728](https://issuetracker.unity3d.com/issues/vulkan-quest-editor-crashes-when-entering-play-mode-with-oculus-link))
    
*   Graphics: Fixed micro splat terrain texture cannot be loaded. ([UUM-3571](https://issuetracker.unity3d.com/issues/using-graphics-dot-copytexture-or-setpixeldata-with-pvrtc-texture-array-as-the-destination-will-fail-on-3-lowest-mipmap-levels))
    
*   Graphics: Throw an ArgumentNullException if null is passed in as a parameter to Unwrapping.GeneratePerTriangleUV. ([UUM-4614](https://issuetracker.unity3d.com/issues/crash-on-unwrapping-custom-generatepertriangleuvimpl-injected-when-passing-null-to-unwrapping-dot-generatesecondaryuvset))
    
*   IL2CPP: Fixed an issue that did not allow access to special folders in Windows Store apps. ([UUM-17611](https://issuetracker.unity3d.com/issues/unable-to-access-knownfolders-dot-objects3d-folder-using-system-dot-io-api-when-deployed-on-hololens-2))
    
*   IL2CPP: Fixed `Monitor.IsEntered` returning true when the monitor is entered on a different thread from the current thread. ([UUM-22329](https://issuetracker.unity3d.com/issues/monitor-dot-isentered-checks-if-any-thread-holds-the-lock-when-using-il2cpp))
    
*   IL2CPP: Improved performance of awaiting async operations on Windows. (UUM-20917)
    
*   iOS: Fixed iOS wrong orientation output when in split view mode. ([UUM-17545](https://issuetracker.unity3d.com/issues/ios-screen-dot-orientation-reports-wrong-device-orientation-when-rotating-a-split-view-supported-ios-device-multiple-times))
    
*   iOS: Restored the possibility for ViewController to control status bar appearance. ([UUM-6389](https://issuetracker.unity3d.com/issues/ios-disabling-status-bar-hidden-on-devices-without-a-notch-is-not-working))
    
*   macOS: Enabled VSync now works correctly when moving the Editor window between screens with different refresh rates. ([UUM-9097](https://issuetracker.unity3d.com/issues/apple-silicon-editor-game-view-still-running-with-120-fps-with-promotion-when-vsync-is-turned-on-external-60hz-monitor))
    
*   Mobile: Fixed the touch reset in device simulator when unity remote is disconnected. ([UUM-6667](https://issuetracker.unity3d.com/issues/touch-input-is-reset-in-device-simulator-when-unity-remote-is-killed))
    
*   Package Manager: Added security anchor to the Scoped Registry's "Read more" link in project Settings. (UUM-25262)
    
*   Package Manager: Fixed a bug where importing .unitypackage with project settings into a new project would show an error in the console. (UUM-20736)
    
*   Particles: Removed erroneous grabpass when using Particle Standard Surface Shader. It should only be triggered when using the Distortion effect. (UUM-12916)
    
*   Physics: Fixed a rare crash resizing the array of kinematic ccd contact managers when many kinematic ccd bodies were exiting the overlapping state. ([UUM-23140](https://issuetracker.unity3d.com/issues/physics-build-crashes-in-unityengine-dot-physics-simulate-internal-injected))
    
*   Scripting: Fixed a crash triggered when AssemblyHelper.ExtractAllClassesThatAreUserExtendedScripts failed to retrieve MovedFromAttribute data. ([UUM-21911](https://issuetracker.unity3d.com/issues/crash-on-scripting-cpp-string-for-when-opening-the-project))
    
*   Scripting: Fixed an issue where the API updater was not able to apply changes to internal packages when the project controlled by Perforce. (UUM-16373)
    
*   Shaders: Fixed an issue that shaders will now reimport correctly when installing a package that only has shader include files. (UUM-16415)
    
*   Shaders: Shaders will now reimport correctly when adding a missing include file. ([UUM-26017](https://issuetracker.unity3d.com/issues/adding-previously-missing-shader-include-does-not-reimport-dependent-shader-1))
    
*   Terrain: Fixed a crash on "QueryComponentByType" when entering Play Mode if setting "useInstancing" to true in "DetailPrototype". ([UUM-17546](https://issuetracker.unity3d.com/issues/crash-on-querycomponentbytype-when-entering-play-mode-if-setting-useinstancing-to-true-in-detailprototype))
    
*   uGUI: Added the slider's direction property not marking the scene dirty once this is changed when in prefab's isolation/context mode. ([UUM-20875](https://issuetracker.unity3d.com/issues/changes-made-to-direction-in-slider-controller-prefab-are-not-saved))
    
*   uGUI: Enabled Physics2DRaycast to now use SortingGroups when determining the sorted order of its results. ([UUM-19833](https://issuetracker.unity3d.com/issues/when-raycasting-with-the-physics2draycaster-function-on-overlapped-ui-elements-the-selection-order-is-not-determined-by-the-order-in-which-they-are-rendered))
    
*   UI Elements: Fixed an issue with the GenericDropdownMenu that prevented the items from receiving input when it's reused. ([UUM-21001](https://issuetracker.unity3d.com/issues/the-callbacks-for-attachtopanelevent-and-detachfrompanelevent-are-unregistered-when-the-ondetachfrompanel-is-called))
    
*   UI Toolkit: Fixed an issue where the UI Builder would export "none" instead of "initial" when setting a font to null. ([UUM-16426](https://issuetracker.unity3d.com/issues/warning-warning-expected-but-found-none-is-thrown-when-setting-font-asset-to-none-in-ui-builder-window))
    
*   UI Toolkit: Fixed bug caused by not rounding the computed text size correctly which caused newline character to appear in specific layout. ([UUM-4169](https://issuetracker.unity3d.com/issues/ui-toolkit-labels-width-is-not-extended-causing-additional-empty-lines-when-using-specific-resolutions))
    
*   UI Toolkit: Fixed long selectors names in UI Builder. ([UUM-17304](https://issuetracker.unity3d.com/issues/ui-builder-selector-names-that-contain-more-than-24-symbols-are-not-fully-visible-in-the-stylesheets-window-of-the-ui-builder))
    
*   UI Toolkit: Fixed PropertyField.BindProperty(SerializedProperty) fails to clear the previously bound property when a new one is bounded. ([UUM-4165](https://issuetracker.unity3d.com/issues/propertyfield-dot-bindproperty-serializedproperty-fails-to-clear-the-previously-bound-property-when-a-new-one-is-bounded))
    
*   UI Toolkit: Fixed ScrollView continuing to scroll after ScrollTo was called. ([UUM-12584](https://issuetracker.unity3d.com/issues/scrollview-keeps-scrolling-after-scrollto-method-triggers))
    
*   UI Toolkit: Fixed ScrollView scrollbar input issues when using touch. ([UUM-17804](https://issuetracker.unity3d.com/issues/mobile-the-scrollbar-jumps-around-and-reverses-scroll-direction-when-using-touch-input-and-interacting-with-a-dropdown))
    
*   UI Toolkit: Fixed stuck preview when right clicking and dragging in UI Builder. ([UUM-3465](https://issuetracker.unity3d.com/issues/ui-builder-right-clicking-while-dragging-a-visual-element-can-get-the-visual-element-stuck))
    
*   Universal RP: Fixed an issue where specular color was not matching behaviour in Legacy and HDRP. ([UUM-15867](https://issuetracker.unity3d.com/issues/urp-specular-color-behavior-does-not-match-legacy-or-hdrp-1))
    
*   VFX Graph: Fixed an exception while using Unlit ShaderGraph with VFX. (UUM-8053)
    
*   VFX Graph: Fixed an issue causing unexpected sorting on some VFX output while using the new SG integration. (UUM-12152)
    
*   VFX Graph: Fixed an issue where Alpha Clipping had an unexpected behavior in editor when used in MaterialOverride with SG integration, . (UUM-552)
    
*   Video: Enabled URLs without extensions to now better be supported by the VideoPlayer. ([UUM-15705](https://issuetracker.unity3d.com/issues/linux-crash-on-nss-database-lookup-when-connecting-to-video-source-url))
    
*   Windows: Fixed for incorrect display names of certain subset of keys. ([UUM-22694](https://issuetracker.unity3d.com/issues/input-system-arrow-keys-are-displayed-as-num-when-using-arrowkey-dot-displaynames))

### Known Issues in 2021.3.18f1

*   2D: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on \_\_cxxabiv1::\_\_aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Serialization: Serialized field values are lost when switching between branches using Git ([UUM-12454](https://issuetracker.unity3d.com/issues/serialized-field-values-are-lost-when-switching-between-branches-using-git))
    
*   Universal RP: Rendering artifacts with custom shader when using Vulkan for Android and DirectX for the Editor ([UUM-20624](https://issuetracker.unity3d.com/issues/rendering-artifacts-with-custom-shader-when-using-vulkan-for-android-and-directx-for-the-editor))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.18f1 Release Notes

#### Features

*   Android: Added build\_fingerprint information to android builds.

#### Improvements

*   Editor: Reduced time to rebuild the CreateAsset(...) menu during a domain reload, it previously was scaling badly for projects with many assemblies.
    
*   Multiplayer: Added Netcode for GameObjects 1.2.0.
    
*   Networking: Clarified error message in the logs when attempting to build a dedicated server player without having that platform's corresponding Dedicated Server Build support module installed. (UUM-22128)
    
*   Particles: Don't call OnParticleTrigger when there are no trigger module events to report. (Optimization). ([UUM-19111](https://issuetracker.unity3d.com/issues/onparticletrigger-is-called-every-frame-when-all-of-the-trigger-module-conditions-are-set-to-ignore-or-any-other-value))
    

#### API Changes

*   Scripting: Added: New Object.FindFirstObjectByType() and Object.FindAnyObjectByType() functions added as potentially faster alternatives to Object.FindObjectOfType(). These new functions let you decide whether you must have the first (lowest InstanceID) object found or if any instance is adequate. In the latter case the function can be many times faster as no internal sorting is required. See the scripting documentation for both functions for more details.
    
*   Scripting: Added: New Object.FindObjectsByType() function added as a potentially faster alternative to Object.FindObjectsOfType(). This new function gives users the choice whether or not to perform the expensive sorting by InstanceID on the returned collection of objects rather than having it always performed wasting time when unnecessary. See the scripting documentation for Object.FindObjectsByType() and Object.FindObjectsOfType() for more details.
    
*   Version Control: Removed: Removed Collab and its dependency from the package.
    

#### Changes

*   2D: Com.unity.template.2d - Remove com.unity.ide.vscode from template because it is deprecated.
    
*   2D: Com.unity.template.universal-2d - Remove com.unity.ide.vscode from template because it is deprecated.
    

#### Fixes

*   Android: Fixed build failing when app bundle option is enabled and output file has no extension. ([UUM-10941](https://issuetracker.unity3d.com/issues/android-build-fails-when-building-using-a-script-and-build-app-bundle-google-play-is-enabled))
    
*   Android: Fixed mapping file output failure when destination folder doesn't exist. ([UUM-9368](https://issuetracker.unity3d.com/issues/android-building-for-android-fails-on-processing-mapping-file-if-output-folder-did-not-exist-prior-to-build))
    
*   Android: Free persistent surface view when it's no longer used after activity resume. (UUM-2481)
    
*   Android: PermissionCallbacks.DeniedAndDontAskAgain is no longer invoked on Android 11 and later. Use Denied instead on all versions. ([UUM-20936](https://issuetracker.unity3d.com/issues/wrong-callback-after-swipe-away-the-permission-dialog))
    
*   Android: Warn user if both template file and disabled template file exists in project. ([UUM-19338](https://issuetracker.unity3d.com/issues/android-gradle-template-isnt-selectable-when-the-folder-contains-both-the-enabled-and-disabled-extensions-of-the-template))
    
*   Asset Pipeline: Asset Pipeline: Asset Import: Elided asset import paths using ellipsis on the import dialogue if the path length exceeds maximum text width. (UUM-3657)
    
*   Editor: Camera relative culling options have been added to the Graphics section in Project Settings. This will potentially alleviate light popping issues due to lack of precision when the objects or lights are far from the origin. Enabling the camera relative culling setting for lights will potentially introduces issues for objects or lights that are far from the camera origin. ([UUM-7551](https://issuetracker.unity3d.com/issues/spot-light-flickers-when-when-its-far-from-the-origin-point))
    
*   Editor: Fixed a memory leak which would manifest when loading then unloading scenes additively. ([UUM-18684](https://issuetracker.unity3d.com/issues/memory-usage-slowly-rises-overtime-when-lightprobes-dot-tetrahedralize-is-enabled))
    
*   Editor: Fixed a problem where a failed Unity Linker invocation may cause subsequent builds to fail with "Sequence contains no elements". (UUM-18372)
    
*   Editor: Fixed duplicate `EditorApplication.update` delegates being registered when changing editor layout. ([UUM-12847](https://issuetracker.unity3d.com/issues/the-reset-all-layouts-button-adds-3-duplicate-delegates-to-editorapplication-dot-update-when-reload-domain-is-disabled))
    
*   Editor: Fixed OnValidate callback is called twice when entering Prefab Mode in Context. ([UUM-17190](https://issuetracker.unity3d.com/issues/onvalidate-callback-is-called-twice-when-entering-prefab-mode))
    
*   Editor: Fixed Profiler samples in the VFX category to contribute towards the Rendering Category instead of Others. (UUM-2166)
    
*   Editor: SpeedTree: Materials selection GUI is now enabled for Mesh Renderer components in the Inspector window. (UUM-22569)
    
*   GI: Fixed issue where baking a single reflection probe could result in the wrong cubemap being associated with the wrong probe. ([UUM-20194](https://issuetracker.unity3d.com/issues/new-cubemap-is-inserted-at-the-end-of-the-array-when-baking-an-individual-probe))
    
*   Graphics: Avoid memory corruption when async readback destination NativeArray is too small. Instead the readback fails. ([UUM-12422](https://issuetracker.unity3d.com/issues/android-build-with-vulkan-crashes-when-trying-to-invoke-asyncgpureadback))
    
*   Graphics: Fixed Texture2D.UpdateExternalTexture not working on Vulkan. ([UUM-20405](https://issuetracker.unity3d.com/issues/windows-vulkan-scrambled-texture-objects-are-rendered-when-setting-one-with-texture2d-dot-updateexternaltexture))
    
*   HDRP: Enabled evaluation of stacked area lights in the path tracer. (UUM-18897)
    
*   HDRP: Fixed an issue where calling `HDCamera.Reset()` would not reset internal frame count of individual sky and cloud renderers. ([UUM-19077](https://issuetracker.unity3d.com/issues/hdrp-skybox-stops-updating-for-elapsed-time-when-hdcamera-dot-reset-is-called))
    
*   HDRP: Fixed an issue with new scene being created with bad directional light. (UUM-8321)
    
*   HDRP: Fixed enabling raytracing in the HDRP asset if resources are in a bad state. (UUM-18728)
    
*   HDRP: Fixed forward materials with motion vectors rendered twice.
    
*   HDRP: Fixed motion blur issues caused on fast movements. ([UUM-19339](https://issuetracker.unity3d.com/issues/hdrp-motion-blur-produces-artifacts-in-the-template))
    
*   HDRP: Fixed performance when using low quality shadows.
    
*   HDRP: Fixed stripping on shadergraph depth prepass. (UUM-17613)
    
*   HDRP: Fixed volumetric clouds disappearing. (UUM-20244)
    
*   IL2CPP: Enabled the marshaling offset to compute properly for the first field in an explicit layout type when that field has a non-zero offset. ([UUM-19622](https://issuetracker.unity3d.com/issues/marshal-dot-offsetof-returns-invalid-value-in-il2cpp-for-misaligned-fields-on-macos))
    
*   IL2CPP: Removed caching of assemblies when probing directories in the linker. (UUM-17887)
    
*   Mono: Added use of a relative path to the gdiplus dynamic library in the dllmap entry in the config file. ([UUM-20719](https://issuetracker.unity3d.com/issues/mono-the-gdiplus-dll-mapping-has-the-bokken-machine-path-in-monobleedingedge-slash-etc-slash-mono-slash-config))
    
*   Mono: Fixed an issue where the internal debugger would refuse connections after performing multiple switches between release and debug editor runtime optimizations. ([UUM-16704](https://issuetracker.unity3d.com/issues/unity-debugger-does-not-work-with-visual-studio-when-switching-between-debug-and-release-mode))
    
*   Particles: Fixed erroneous error message: "all(sheetIndexNormalized >= 0.0f) && all(sheetIndexNormalized <= 1.0f)". (UUM-23304)
    
*   Physics 2D: Fixed a bug where a Rigidbody2D without interpolation using MovePosition per-frame could result in a memory leak.
    
*   Profiler: Fixed saving and loading of Profiler Data when the frame range contains frames that have been gathered from different different targets (e.g. from Playmode and from a built Player). Previously saved .data files with such data are irreparably corrupted and will crash on opening. This fix only applies to data saved from this version onwards. ([UUM-14767](https://issuetracker.unity3d.com/issues/crash-on-recursiveadjustchartforgroupchange-when-loading-data-from-a-custom-module))
    
*   Scene/Game View: Fixed overlapped UI elements not being picked based on the order they are rendered. ([UUM-18939](https://issuetracker.unity3d.com/issues/parent-canvas-is-selected-when-clicking-on-the-child-ugui-element))
    
*   Serialization: Fixed issue where de-serializing Prefab containing a SerializeReference which has been refactored not handles MovedFrom. Improved AssetDatabase script type dependency so that if a missing SerializeReference instance type, re-appears importers depending on it will be trigerred. ([UUM-6733](https://issuetracker.unity3d.com/issues/movedfrom-attribute-doesnt-work-on-prefab-overrides))
    
*   Shaders: Fixed a crash when loading shaders that are incompatible with the current hardware due to resource limits. ([UUM-21964](https://issuetracker.unity3d.com/issues/ios-player-crashes-on-unitygfxdeviceworker-when-a-specific-prefab-is-in-the-scene))
    
*   Shaders: RenderingCommandBuffer.EnableKeyword(material, keyword) now properly affects rendering. (UUM-21676)
    
*   UI: Fixed a crash could occur when the inspector window is rendering the header in IMGUI (case 1359247).
    
*   UI Toolkit: Fixed dynamic-transform offset occurring at large coordinates. ([UUM-20442](https://issuetracker.unity3d.com/issues/handle-of-a-slider-is-misaligned-when-using-usagehints-dot-dynamictransform-if-the-select-platform-is-ios-or-android))
    
*   UI Toolkit: Fixed elements disappearing when changing both the border radius and padding at the same time. ([UUM-4160](https://issuetracker.unity3d.com/issues/uir-toggling-a-style-that-contains-border-radius-and-margin-slash-padding-causes-some-elements-to-disappear))
    
*   UI Toolkit: Fixed the UI Debugger text highlight when using the search field. ([UUM-1887](https://issuetracker.unity3d.com/issues/backport-search-results-not-highlighted-when-searching-in-ui-toolkit-debugger))
    
*   Universal RP: Added functionality to stop clearing depth when using Overlay Camera. (UUM-4967)
    
*   Universal RP: Disabled depth priming on GLES when MSAA is enabled. (UUM-2519)
    
*   Universal RP: Disabled depth priming when baking reflection probes. ([UUM-12397](https://issuetracker.unity3d.com/issues/shadows-get-messed-up-when-using-screen-space-shadows))
    
*   Universal RP: Fixed ComplexLit mixed lighting by matching ComplexLit shader keywords with the Lit shader. ([UUM-18553](https://issuetracker.unity3d.com/issues/directional-light-does-not-affect-game-objects-with-complex-lit-shaders-when-the-light-mode-is-set-to-mixed))
    
*   WebGL: Fixed Unity integration test PowerPreferenceTests.cs failing to build. (UUM-15704)
    
*   Windows: Fixed building to Windows using IL2CPP scripting backend when running on a Windows ARM64 machine.

### Known Issues in 2021.3.17f1

*   2D: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   IMGUI Framework: Array values aren't changed when altering them in a custom EditorWindow ([UUM-15645](https://issuetracker.unity3d.com/issues/array-values-arent-changed-when-altering-them-in-a-custom-editorwindow))
    
*   MacOS: Crash on \_\_pthread\_kill when dragging Sprites into the Scene view ([UUM-20950](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on \_\_cxxabiv1::\_\_aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Video: \[Android\] Application crashes when changing the source URL of a video player in Android ([UUM-20661](https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.17f1 Release Notes

#### Features

*   Visual Scripting: Added confirmation popup when resetting assemblies/types in project settings.
    
*   Visual Scripting: Added confirmation popup when resetting project settings and editor preferences.
    
*   Visual Scripting: Added Sticky Note for ScriptGraph and StateGraph.
    
*   Visual Scripting: Nodes may now have a button which triggers a custom action in their inspector description.
    
*   Visual Scripting: Nodes whose type cannot be found are now temporarily converted to dummy nodes until either their original type is defined again or the user replaces them.
    
*   Visual Scripting: Support for parameter renaming in code used by API nodes.
    

#### Improvements

*   Animation: Improved performance of AnimatorOverrideController.ApplyOverrides(). ([UUM-14753](https://issuetracker.unity3d.com/issues/significant-impact-on-performance-when-using-animator-override-controller))
    
*   Asset Import: Reduced the overhead of asset importing by limiting the number of copies of internal parameter structs.
    
*   GI: Added a toggle for automatic recalculation of environment lighting in the Workflow section of the Lighting window. (UUM-13907)
    
*   Package: Updated version of com.unity.learn.iet-framework to 3.1.1.
    
*   Package: Updated version of com.unity.learn.iet-framework.authoring to 1.2.1.
    
*   VFX Graph: Added a toggle in both VFX preferences in VFX Graph view to allow shader debug symbols with generated shaders. (UUM-19517)
    

#### API Changes

*   Core: Added: Use these methods for improved performance when operating on both positions and rotations at the same time.  
    Transform.GetLocalPositionAndRotation()  
    Transform.GetPositionAndRotation()  
    TransformAccess.GetLocalPositionAndRotation()  
    TransformAccess.GetPositionAndRotation()  
    TransformAccess.SetLocalPositionAndRotation()  
    TransformAccess.SetPositionAndRotation()

#### Changes

*   Editor: Updated the Unity FBX SDK bindings to version 4.1.2. which update Autodesk FBX SDK to 2020.3.2.
    
*   Visual Scripting: AOTStubs are now generated for all nodes regardless of whether they represent a runtime or editor member. ([UVSB-2381](https://issuetracker.unity3d.com/issues/aot-stub-generator-ignores-assemblies-that-reference-unity-editor))
    
*   Visual Scripting: Increased zoom out distance in graphs.
    
*   XR: Updated com.unity.xr.openxr package version to 1.6.0.
    
*   XR: Updated XR Core Utilities to 2.0.1.
    

#### Fixes

*   Fixed Autodesk FBX and SketchUp SDK vulnerabilities. ([UNITY-SEC-JAN-2023-1](https://unity.com/security/jan-2023-01))
    
*   2D: Added proper manual URL for GridSelection. ([UUM-20223](https://issuetracker.unity3d.com/issues/open-reference-for-grid-selection-help-button-opens-non-existing-page))
    
*   2D: Fixed Case where there is Sprite Atlas warning in console when loading sprite in playmode. ([UUM-18521](https://issuetracker.unity3d.com/issues/2d-sprite-atlas-sprite-atlas-warning-in-console-when-loading-sprite-in-playmode))
    
*   2D: Fixed collider shapes for a TilemapCollider2D when rotated Tiles are used with a collider offset.
    
*   2D: Fixed crash when there is an invalid Sprite on a Tilemap and a TilemapRenderer tries to bind the invalid Sprite to a Sprite Atlas. (UUM-19275)
    
*   2D: Fixed rendering of GameObjects in a Tile Palette window when a Scriptable Render Pipeline is used. ([UUM-22035](https://issuetracker.unity3d.com/issues/tile-palette-preview-window-shows-pink-material))
    
*   2D: Fixed sorting of Tiles in a TilemapRenderer when the Sprites of the Tiles in the TilemapRenderer come from different Texture sources and Sprites with large vertex/index counts are rendered first due to batching. (UUM-18345)
    
*   2D: Fixed Sprite Mode field is empty upon changing Texture Type to Sprite in TextureImporter. ([UUM-16278](https://issuetracker.unity3d.com/issues/default-texture-settings-are-not-set-when-importing-image))
    
*   2D: Removed hiding tint in Sprites/Default shader. ([UUM-19330](https://issuetracker.unity3d.com/issues/changing-the-color-for-material-is-not-available-if-shader-is-set-to-sprites-slash-default))
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where an error would be shown when selecting Import Mode: Merged.
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where the amount of alpha removed from layers would not be re-applied as final position offset of the layers.
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where the editor would crash when importing .psd/.psb files with their layers outside of the document canvas. ([DANB-285](https://issuetracker.unity3d.com/issues/crash-on-dualthreadallocator-trydeallocate-when-opening-the-project))
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where the generated GameObjects would be laid out differently from how they appear in the DCC tool. ([DANB-298](https://issuetracker.unity3d.com/issues/sprite-layout-is-incorrect-when-importing-a-psb-file))
    
*   2D: \[com.unity.2d.tilemap.extras\]\[GameObjectBrush\] Fix placement of GameObjects when Cell Gap is set.
    
*   2D: \[com.unity.2d.tilemap.extras\]\[GridInformation\] Implement IEquatable for GridInformationKey.
    
*   2D: \[com.unity.2d.tilemap.extras\]\[PrefabRandomBrush\] Fix possible NullReferenceException in PrefabRandomBrush.
    
*   AI: Fixed a blocked passage due to seemingly valid polygons after an obstacle carved the NavMesh nearby. ([UUM-8240](https://issuetracker.unity3d.com/issues/navmesh-navmeshobstacle-placed-near-the-edge-of-a-navmesh-causes-isolated-polygons-where-navmeshagents-can-get-stuck))
    
*   Android: Fixed error 'Source directory '....'. is not a directory when Symlink Sources option is on. ([UUM-884](https://issuetracker.unity3d.com/issues/backport-android-error-unitylibrary-compiledebugkotlin-in-the-android-studio-when-project-exported-with-symlink-sources-en))
    
*   Asset Pipeline: Fixed an issue where the standalone profiler could crash or emit errors when the script domain reloads in the editor. ([UUM-19179](https://issuetracker.unity3d.com/issues/edit-mode-recording-standalone-profiler-crashes-on-stopassetimportingv2internal-when-reloading-the-domain))
    
*   Audio: Updated FMOD's FLAC from version 1.2.1 to 1.3.4. This fixes an issue identified by our application security team. (UUM-400)
    
*   Build Pipeline: Fixed static batching sorting to ensure deterministic build results. (UUM-11427)
    
*   DX12: Fixed stalls in asynchronous scene loading with a large number of reflection probes. (UUM-20766)
    
*   Editor: Ensure scene view outline render uses the attributed main texture property name rather than the default name. ([UUM-20416](https://issuetracker.unity3d.com/issues/dot-dot-dot-doesnt-have-a-texture-property-maintex-error-when-using-gizmos-with-maintexture-attribute))
    
*   Editor: Fixed a bug on Chrome on iOS where the WebGL canvas cannot regain focus after losing it. ([UUM-1166](https://issuetracker.unity3d.com/issues/ios-chrome-ui-button-stops-working-after-opening-new-tab-and-going-back-to-unity-project-tab))
    
*   Editor: Fixed a crash when a window is closed during EditorWindow.OnLostFocus. ([UUM-12434](https://issuetracker.unity3d.com/issues/error-slash-crash-when-editorwindow-dot-close-is-called-in-editorwindow-dot-onlostfocus))
    
*   Editor: Fixed a deadlock that can occur when MasterTextureLimit is changed while a texture has an in-progress upload request. (UUM-16491)
    
*   Editor: Fixed API for users sending analytics as json formatted strings.
    
*   Editor: Fixed camera roll animations import. ([UUM-15444](https://issuetracker.unity3d.com/issues/camera-lookatconstraint-keyframes-are-not-imported-in-the-animation-when-importing-fbx-file-from-3ds-max))
    
*   Editor: Fixed character encoding for error messages in the Unity Accelerator. ([UUM-16372](https://issuetracker.unity3d.com/issues/tcpprotobufclient-error-is-displayed-in-random-symbols-when-the-os-is-set-to-use-a-non-latin-alphabet-language))
    
*   Editor: Fixed crash issue with very large project import when the amount of descriptors grows unusually high. ([UUM-20186](https://issuetracker.unity3d.com/issues/crash-on-gfxtaskexecutord3d12-addrequiredresourcebarriers-when-opening-the-project))
    
*   Editor: Fixed crash/validation error when loading old Vulkan shaders from asset bundles.
    
*   Editor: Fixed documentation links for Script Graph and State Graphs assets. ([UVSB-2422](https://issuetracker.unity3d.com/issues/documentation-page-is-not-displayed-for-the-user-when-he-clicks-on-scriptgraphasset-and-stategraphasset-question-marks))
    
*   Editor: Fixed Editor crash when calling API's to show modal dialogs while -drawRect is in progress. ([UUM-2293](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed))
    
*   Editor: Fixed EditorWindow maximum size calculations when using a display not at integer scaling. ([UUM-12808](https://issuetracker.unity3d.com/issues/windows-custom-editorwindow-height-is-6-pixels-longer-than-the-maxsize-slash-minsize-when-its-set-to-the-biggest-slash-smallest-size))
    
*   Editor: Fixed for scene hierarchy order change when entering Play mode in the Mobile Template. (UUM-13298)
    
*   Editor: Fixed Highlighter.Highlight does not disappear when the highlighted element disappears from view. ([UUM-3535](https://issuetracker.unity3d.com/issues/highlighter-dot-highlight-does-not-disappear-when-the-highlighted-element-disappears-from-view))
    
*   Editor: Fixed issue on Windows where modal dialogs can get the Editor stuck if they are launched from a window that closes itself. ([UUM-21096](https://issuetracker.unity3d.com/issues/the-unity-editor-becomes-unresponsive-when-a-modal-window-loses-focus-and-an-aux-window-exists))
    
*   Editor: Fixed issue where mouse up and mouse down events were reported twice in OnGUI when using the Device Simulator. ([UUM-14340](https://issuetracker.unity3d.com/issues/in-device-simulator-ongui-events-are-called-twice))
    
*   Editor: Fixed null reference exception in the FreeCamera component when there is no keyboard. (UUM-17801)
    
*   Editor: Fixed sub graphs being shown with broken connections on first load as of Unity 2021.2. ([UVSB-2345](https://issuetracker.unity3d.com/issues/visual-script-graph-with-non-embed-subgraph-gets-corrupted-node-links-when-reopening-project-after-removing-artifacts-folder))
    
*   Editor: Fixed t:prefab in AssetProvider only yields files ending in .prefab (no fbx or obj anymore). ([UUM-18200](https://issuetracker.unity3d.com/issues/advanced-search-hierarchy-window-doesnt-present-the-search-results-when-opening-a-scene-and-search-field-isnt-empty))
    
*   Editor: Fixed that on Mac when hovering over arrow in the Hierarchy to open Prefab in Prefab Mode the tooltip displays shortcut as "Alt" and not "Option". ([UUM-15760](https://issuetracker.unity3d.com/issues/macos-in-hierarchy-hovering-over-arrow-to-open-prefab-in-prefab-view-tooltip-displays-shortcut-to-alt-and-not-command))
    
*   Editor: Fixed unexpected rendering when Fragment Normal uses Object Space. (UUM-10045)
    
*   Editor: Metal no longer crash when using shader referencing POSITION with mesh missing this attr. ([UUM-20796](https://issuetracker.unity3d.com/issues/m1-silicon-crash-on-mtlgetenvcase-when-opening-the-project))
    
*   Editor: OpenSSL updated to 1.1.1s to address. (UUM-18983)
    
*   Editor: Some gamepad inputs were being mapped to keyboard keys on 2021.3 for Android, causing the input scheme to be keyboard when it should be gamepad. This mapping has been removed. ([UUM-20119](https://issuetracker.unity3d.com/issues/android-playerinput-dot-currentcontrolscheme-displays-keyboard-inputcontrolscheme-when-pressing-gamepads-rb-lb-or-view-buttons))
    
*   Graphics: Added error message when capturing a screenshot into a RenderTexture but passing null for argument. (UUM-7004)
    
*   Graphics: Fixed a ReadPixels issue. (UUM-2998)
    
*   Graphics: Fixed an issue so that entering playmode with disabled compositor no longer breaks all its layers. ([UUM-11633](https://issuetracker.unity3d.com/issues/hdrp-entering-playmode-with-disabled-compositor-breaks-all-its-layers))
    
*   Graphics: Fixed an issue with inspecting a RenderTexture with DepthAuto / ShadowMap as the Color Format so it no longer breaks the inspector. (UUM-11764)
    
*   Graphics: Fixed crash in depth resolve when using HDR render textures. ([UUM-2316](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-using-hdr-enabled-rendertextures))
    
*   Graphics: Fixed for incorrect values in ReadPixel for some graphics formats on DirectX. ([UUM-15344](https://issuetracker.unity3d.com/issues/incorrect-values-in-readpixel-for-some-16bit-graphicsformat-when-on-windows))
    
*   Graphics: Fixed problems with 16-bit floats on iOS with URP. (UUM-14877)
    
*   Graphics: Fixed ShaderUtil API to properly fetch data from the SerializedShader and the RuntimeShader. (UUM-10163)
    
*   Graphics: Fixed `GraphicsFenceType` so it is now set correctly from `CommandBuffer.CreateGraphicsFence`. ([UUM-11450](https://issuetracker.unity3d.com/issues/editor-can-not-determine-if-graphicsfence-has-passed-when-using-commandbuffer))
    
*   Graphics: Graphics: Fixed crash by preventing race condition when opening app from floating icon state on Android. ([UUM-576](https://issuetracker.unity3d.com/issues/android-crash-with-signal-11-when-opening-app-from-floating-icon-state))
    
*   HDRP: Added clarification on HDR Output not supporting Scene View. ([UUM-16184](https://issuetracker.unity3d.com/issues/hdrp-hdr-documentation-missing-info-about-supported-views))
    
*   HDRP: Fixed a black screen issue with master builds on HDRP. (UUM-17388)
    
*   HDRP: Fixed a number of outdated reference to "HDRP Default Settings" in the UI. (UUM-11494)
    
*   HDRP: Fixed ambient probe for volumetric clouds.
    
*   HDRP: Fixed an issue with Bloom and Depth of Field in game view when filtering in the hierarchy. (UUM-17739)
    
*   HDRP: Fixed an issue with low resolution depth of field producing a cropped result in some scenarios. ([UUM-11354](https://issuetracker.unity3d.com/issues/hdrp-dof-in-half-or-quarter-resolution-results-in-cropped-frame))
    
*   HDRP: Fixed black dots when clouds rendered in local mode. ([UUM-11651](https://issuetracker.unity3d.com/issues/flickering-black-pixels-in-the-game-view-when-volumetric-clouds-with-local-clouds-are-enabled-in-an-hdrp-project))
    
*   HDRP: Fixed black line in ray traced reflections. (UUM-11379)
    
*   HDRP: Fixed color grading so it no longer outputs negative colors. (UUM-11110)
    
*   HDRP: Fixed custom pass scaling issues with dynamic resolution. ([UUM-10882](https://issuetracker.unity3d.com/issues/dynamic-resolution-broken-with-custom-pass-3))
    
*   HDRP: Fixed decal material validation after saving. ([UUM-12750](https://issuetracker.unity3d.com/issues/decalmeshforwardemissive-and-decalprojectorforwardemissive-are-re-enabled-when-saving-project-for-the-first-time))
    
*   HDRP: Fixed embedding the config package when it's not a direct dependency. ([UUM-8012](https://issuetracker.unity3d.com/issues/hdrp-error-thrown-on-clicking-the-embed-configuration-editable-package-button-in-the-hdrp-wizard-window-1))
    
*   HDRP: Fixed exposure of recorded frames with path tracing and auto exposure. (UUM-14985)
    
*   HDRP: Fixed graphics issues with sky and fog in game view when filtering objects in the hierarchy. ([UUM-11952](https://issuetracker.unity3d.com/issues/hdrp-visual-glitching-appear-in-game-view-after-selecting-a-gameobject-from-hierarchy-searching-results-whilst-fog-volume-override-is-enabled))
    
*   HDRP: Fixed Layer List is not duplicated when duplicating a LayeredLit Material. ([UUM-11123](https://issuetracker.unity3d.com/issues/layer-list-is-not-duplicated-when-duplicating-a-layeredlit-material))
    
*   HDRP: Fixed minor bug in the shadow ray culling for the cone spot light. (UUM-9708)
    
*   HDRP: Fixed missing limitation in path tracing documentation regarding Local Volumetric Fog. (UUM-13354)
    
*   HDRP: Fixed missing tag on decal shader properties.
    
*   HDRP: Fixed Missing tooltip for Screen Weight Distance in Screen Space Refraction Override. (UUM-16930)
    
*   HDRP: Fixed mouse position in debug menu with scaled screens in editor. (UUM-16880)
    
*   HDRP: Fixed null reference error in the rendering debugger when no camera is available. (UUM-18189)
    
*   HDRP: Fixed performance when volumetric fog is disabled. (UUM-14318)
    
*   HDRP: Fixed range of spill removal parameter in graphics compositor UI. ([UUM-11634](https://issuetracker.unity3d.com/issues/hdrp-compositors-chroma-spill-rmoval-spills-magenta-over-the-layer))
    
*   HDRP: Fixed Ray Tracing Mixed Mode Collisions. (UUM-14613)
    
*   HDRP: Fixed scene depth node not working in the Decal ShaderGraph material type. ([UUM-8237](https://issuetracker.unity3d.com/issues/scene-depth-node-doesnt-return-a-proper-depth-value-when-used-in-a-decal-shadergraph))
    
*   HDRP: Fixed shadergraph using derivatives and Raytracing Quality keyword. ([UUM-8358](https://issuetracker.unity3d.com/issues/nodes-using-derivatives-are-not-stripped-out-in-raytracing-even-when-using-the-raytracing-quality-keyword))
    
*   HDRP: Fixed shadows in transparent unlit shadow matte. (UUM-12284)
    
*   HDRP: Fixed slight change of color in background when changing scene hierarchy. (UUM-14324)
    
*   HDRP: Fixed Text alignment in Transparency Inputs section. (UUM-17208)
    
*   HDRP: Fixed texture wrapping of cloud layer. ([UUM-15591](https://issuetracker.unity3d.com/issues/lowering-cloud-layer-channel-opacity-beyond-a-certain-threshold-results-in-graphical-artifact))
    
*   HDRP: Fixed the fallback section so it now disappears when hiding the additional data. (UUM-16780)
    
*   HDRP: Fixed the indirect diffuse lighting in ray tracing so it now always works properly. (UUM-14083)
    
*   HDRP: Fixed the ray tracing reflection denoiser being partially broken. ([UUM-10443](https://issuetracker.unity3d.com/issues/ray-tracing-reflection-denoiser-is-partially-broken))
    
*   HDRP: Fixed the ray tracing shadow denoiser s it no longer produces leaks at the edge of spotlight shadows. (UUM-17794)
    
*   HDRP: Fixed transmission on directional lights. ([UUM-15003](https://issuetracker.unity3d.com/issues/hdrp-transmission-from-directional-light-on-thick-object-mode-is-rendered-even-when-object-is-in-shadow))
    
*   HDRP: Fixed unnecessary loss of precision when all post processing are disabled. ([UUM-13277](https://issuetracker.unity3d.com/issues/different-results-when-disabling-post-processing-effects-individually-and-disabling-post-processing-completely-on-the-camera-1))
    
*   HDRP: Fixed volumetric cloud incorrectly display in lighting debug mode.
    
*   HDRP: Fixed zfighting artifacts for ray tracing. (UUM-7668)
    
*   HDRP: Improved the motion and receiver rejection tooltips for RTGI and RTAO. ([UUM-13152](https://issuetracker.unity3d.com/issues/hdrp-receiver-motion-rejection-raytraced-ssgi-tooltip-improvement))
    
*   HDRP: Removed misleading part of a LensFlare tooltip. (UUM-13946)
    
*   HDRP: Removed unused voluimetric clouds volume component on new scenes templates. ([UUM-11451](https://issuetracker.unity3d.com/issues/hdrp-new-scene-templates-created-with-unused-volumetric-clouds-component))
    
*   HDRP: Removed unwanted RTAO effect on indirect specular lighting. (UUM-8772)
    
*   HDRP: Renamed IOR output in Eye shadergraph for clarification. ([UUM-15849](https://issuetracker.unity3d.com/issues/hdrp-rename-ior-input-port))
    
*   HDRP: Worked around exception when enabling raytracing when resources for raytracing have not been built. (UUM-9570)
    
*   IL2CPP: Enabled properly forwarding declare generic value type pointer arguments. (UUM-19689)
    
*   IMGUI: Removed **Resolve of invalid GC handle** error occurring when exiting Play mode. ([UUM-14969](https://issuetracker.unity3d.com/issues/2020-dot-3-resolve-of-invalid-gc-handle-error-occurs-when-exiting-play-mode-after-creating-a-tilemap))
    
*   iOS: Fixed a hang on startup on iOS 16 when linking to UnityFramework. ([UUM-16259](https://issuetracker.unity3d.com/issues/ios-player-crashes-on-ios-16-devices-when-unityframework-dot-framework-is-added-in-link-binary-with-libraries))
    
*   Linux: Fixed `SystemInfo.batteryStatus` and `SystemInfo.batteryLevel` so that they now work on Linux. ([UUM-16083](https://issuetracker.unity3d.com/issues/linux-systeminfo-dot-batterystatus-slash-systeminfo-dot-batterylevel-doesnt-work-on-a-linux-laptop))
    
*   Mono: Updated the Brotli compression library to version 1.0.9 to correct https://github.com/advisories/GHSA-5v8v-66v8-mwm7. (UUM-15721)
    
*   Networking: Fixed race condition between DownloadHandlerTexture and Resources.UnloadUnusedAssets, sometimes cause premature destruction of the texture. (UUM-18044)
    
*   Package Manager: Package documentation links pointing to private Github URLs can now be opened in browser for non-Unity packages. Additionally, for all packages in general, opening local documentation will fall back on the README file if a documentation.md file cannot be found. ([UUM-8337](https://issuetracker.unity3d.com/issues/documentationurl-and-changelogurl-is-ignored-when-package-is-located-in-private-repositorie))
    
*   Particles: Fixed crash caused by Particle EmissionModule::Transfer handling of bursts array. (UUM-8886)
    
*   Physics 2D: Fixed an issue so that RelativeJoint2D angularOffset uses Degrees and not Radians. ([UUM-19333](https://issuetracker.unity3d.com/issues/angular-offset-for-relative-joint-2d-displays-degrees-despite-utilizing-radians-in-the-inspector-after-altering-angular-offset-in-a-script))
    
*   Physics 2D: Fixed an issue when using the 2D Physics Multithreaded solver so that contact processing time no longer increases over time under certain circumstances. (D2D-4284)
    
*   Physics 2D: Fixed an issue where a contact normal would be inversed leading to Collider2D.IsTouching incorrectly filtering the collision normal angle. ([UUM-15726](https://issuetracker.unity3d.com/issues/wrong-collision-normals-with-composite-tillemap-collider))
    
*   Prefabs: Fixed the import process so that only transform remains after importing a broken file, if a Prefab file is found to contain multiple transforms due to external merge tool or manual edit error. **Note:** Import prioritization of `RectTransform` over `Transform` remains unchanged. ([UUM-14898](https://issuetracker.unity3d.com/issues/crash-on-gameobjecthierarchyproperty-getcolorcode-when-dragging-prefab-with-tmp-script-to-hierarchy-or-scene-window))
    
*   Profiler: Fixed profiler connection allocations tracking under the ProfilerConnection entry in Memory Profiler. ([UUM-16465](https://issuetracker.unity3d.com/issues/android-progressive-memory-consumption-on-android-when-application-is-left-to-idle))
    
*   Profiler: Fixed rendering of certain character sets in CPU Profiler Timeline view. ([UUM-16513](https://issuetracker.unity3d.com/issues/profiler-does-not-support-characters-when-utf8-encoding-is-used))
    
*   Profiler: GPU module's sample hierarchy no longer uses CPU data after a recompilation when there is an active selection. ([UUM-20083](https://issuetracker.unity3d.com/issues/gpu-usage-hierarchy-columns-in-the-profiler-window-change-when-scripts-are-recompiled))
    
*   Profiler: Restore Defaults will now also re-enable all default modules and reset chart preferences. ([UUM-11329](https://issuetracker.unity3d.com/issues/profilers-restore-defaults-button-doesnt-reset-the-list-of-modules-back-to-default))
    
*   Scripting: Removed warning for obsolete platforms when added plugins to plugin folders that contains both obsolete and non-obsolete platforms. ([UUM-12246](https://issuetracker.unity3d.com/issues/cannot-set-deprecated-build-target-osxintel-warning-appears-when-setting-pluginimporters-compatible-platform-to-osx))
    
*   Shadergraph: Fixed Shader Graph BiRP Target so it now works correctly with point lights and transparent objects. ([UUM-9823](https://issuetracker.unity3d.com/issues/an-object-does-not-receive-lighting-from-point-light-when-shader-graph-material-is-applied))
    
*   Shaders: Fixed a crash in Shader Prefiltering when the Render Pipeline assets contain circular data references. ([UUM-19976](https://issuetracker.unity3d.com/issues/crash-during-build-process-shaderkeywordfilter-dot-settingsnode-dot-gatherfilterdata))
    
*   Shaders: Fixed a crash when building variants when a package is unloaded and re-loaded. ([UUM-20693](https://issuetracker.unity3d.com/issues/crash-on-joinimpl-core-basic-string-char-core-stringstoragedefault-when-installing-hdrp-package-after-removing-it))
    
*   Shaders: Fixed an incorrect error message when using instanced rendering and replacement shaders. (UUM-20961)
    
*   Shaders: Fixed shader graph incorrectly stripping variants for BiRP shaders that weren't built with shader graph. ([UUM-14800](https://issuetracker.unity3d.com/issues/standard-shader-with-cutout-mode-doesnt-work-in-the-player-when-shader-graph-is-installed-with-built-in-render-pipeline))
    
*   Shaders: Preparing variants for compilation dialog now shows the name of the shader being processed. ([UUM-22015](https://issuetracker.unity3d.com/issues/variant-preparation-does-not-show-the-name-of-the-shader))
    
*   SRP Core: Fixed ColorCurves volume leaking Texture2D objects under certain circumstances. (UUM-16602)
    
*   Terrain: Terrain is not affected by Environmental Lighting when Draw Instanced is turned on. ([UUM-11754](https://issuetracker.unity3d.com/issues/terrain-is-not-affected-by-environmental-lighting-when-draw-instanced-is-turned-on))
    
*   UI: Fixed missing tooltip for "Screen Weight Distance" in Screen Space Refraction override. (UUM-12116)
    
*   UI Toolkit: Fixed :active default style overwritten by :hover:enabled. ([UUM-19845](https://issuetracker.unity3d.com/issues/button-in-the-ui-toolkit-samples-window-doesnt-change-the-color-when-being-pressed))
    
*   UI Toolkit: Fixed an issue where the Progress Bar's title attribute would not reset inside the UI Builder. ([UUM-21345](https://issuetracker.unity3d.com/issues/ui-builder-progressbar-title-field-isnt-updated-when-setting-the-value-to-an-empty-string))
    
*   UI Toolkit: Fixed an issue where the UI Builder would log a cryptic error when trying to save a uxml document outside of the project. It will now inform the user that the operation failed. ([UUM-20711](https://issuetracker.unity3d.com/issues/improve-error-message-when-saving-out-side-of-project))
    
*   UI Toolkit: Fixed image element so it no longer ignores UV rect when a sprite was used. ([UUM-18362](https://issuetracker.unity3d.com/issues/image-ignores-the-uv-rect-parameter-when-a-sprite-is-used))
    
*   UI Toolkit: Fixed incorrect width calculated for Labels with style tags. (UUM-8428)
    
*   UI Toolkit: Fixed layout of Image element so it now works with a flipped UV rect. ([UUM-17729](https://issuetracker.unity3d.com/issues/an-image-is-not-displayed-upside-down-when-width-and-height-are-not-specified))
    
*   UI Toolkit: Fixed support for compound assignment operators for UI Toolkit numeric fields (IntegerField, LongField, FloatField, DoubleField). ([UUM-3471](https://issuetracker.unity3d.com/issues/uitoolkit-math-assignment-operators-done-in-a-numeric-field-dont-return-the-expression-result))
    
*   UI Toolkit: Improved UI Toolkit so that flipped UVs are now properly handled by scale modes of the Image element. ([UUM-17136](https://issuetracker.unity3d.com/issues/the-image-is-not-displayed-in-a-window-when-the-image-y-axis-is-flipped))
    
*   Universal RP: Fixed a missing keyword in ParticleLit for Lightmap shadow mixing. ([UUM-18601](https://issuetracker.unity3d.com/issues/urp-particle-lit-is-missing-number-pragma-multi-compile-lightmap-shadow-mixing))
    
*   Universal RP: Fixed projection flip inversion. ([UUM-13634](https://issuetracker.unity3d.com/issues/gameobject-light-reflection-is-inverted-when-in-play-mode-or-player))
    
*   Universal Windows Platform: Fixed mouse wheel events on UWP. ([UUM-19092](https://issuetracker.unity3d.com/issues/scrolling-with-the-mouse-is-logged-as-a-mousedown-event-when-the-project-is-deployed-on-uwp))
    
*   URP: Fixed 2D game view flickering when using URP Pixel Perfect and Cinemachine Pixel Perfect Extension. (UUM-20343)
    
*   URP: Fixed errors related to the lack of support of native shadow maps on WebGL1. (UUM-2270)
    
*   VFX Graph: Fixed an issue that vertex Color was black while using new shader graph integration on planar primitive output. ([UUM-12866](https://issuetracker.unity3d.com/issues/vfx-graph-missing-vertexcolor-initialization-with-output-quad))
    
*   VFX Graph: Fixed an issue with the out of range exception on GPU when multiple spawn context are plugged to the same initialize system. ([UUM-8351](https://issuetracker.unity3d.com/issues/vfx-oom-on-gpu-causing-unexpected-behavior-with-multiple-spawner))
    
*   VFX Graph: Forbid drag and drop of material from project browser to VFX component in scene. ([UUM-14790](https://issuetracker.unity3d.com/issues/vfx-dragging-regular-material-onto-a-vfx-graph-will-override-its-own-material))
    
*   Video: Fixed Video Player crash/malfunction on Android versions less than 9. ([UUM-1843](https://issuetracker.unity3d.com/issues/backport-android-videoplayer-videos-are-not-played-from-url-on-specific-devices))
    
*   Video: VideoPlayer.width and height return 0 instead of expected values. ([UUM-1899](https://issuetracker.unity3d.com/issues/backport-macos-videoplayer-dot-width-and-height-returns-0-when-videoplayer-dot-texture-dot-width-and-height-returns-expected-values))
    
*   Visual Scripting: Detected and fixed parameter renames for nodes that support a default parameter for each of their inputs. ([UVSB-1885](https://issuetracker.unity3d.com/issues/bolt-update-random-range-node-set-users-values-to-min0-and-max0))
    
*   Visual Scripting: Fixed a problem that was preventing link.xml creation when building for Mono backend. ([UVSB-2348](https://issuetracker.unity3d.com/issues/serialization-errors-are-thrown-in-the-player-when-managed-stripping-level-is-set-to-high))
    
*   Visual Scripting: Fixed graphs being corrupted on deserialization if containing a node whose type cannot be found. ([UVSB-2332](https://issuetracker.unity3d.com/issues/script-graph-cannot-be-opened-and-failed-to-deserialize-behaviour-dot-error-is-logged-after-deleting-a-custom-node-script))
    
*   Visual Scripting: Fixed Visual Scripting settings now only save to disk when modified.
    
*   Visual Scripting: Fixed `Gradient.mode` serialization. This fix is available for Unity 2021.3.9f1 or newer. ([UVSB-2356](https://issuetracker.unity3d.com/issues/blend-gradient-mode-is-changed-to-fixed-if-using-visual-scripting-serializer-when-entering-play-mode))
    
*   Visual Scripting: Moved Events/MessageListeners files to a Listeners folder to avoid to exceed some OS path limit.
    
*   WebGL: Fixed a bug where Firefox would hang at 90% while loading. ([UUM-1155](https://issuetracker.unity3d.com/issues/webgl-player-stops-loading-at-90-percent-in-firefox-when-browser-loses-focus))
    
*   WebGL: Fixed error handling of AudioContext.resume(). (UUM-17803)
    
*   XR: Fixed crash on Quest when using MSAA and moving out of the guardian during startup. (UUM-20525)
    
*   XR: Updated XR Interaction Toolkit to 2.2.0.

### Known Issues in 2021.3.16f1

*   Asset - Database: Crash on GameObject::ActivateAwakeRecursivelyInternal when opening project ([UUM-17633](https://issuetracker.unity3d.com/issues/crash-on-gameobject-activateawakerecursivelyinternal-when-opening-project))
    
*   IMGUI Framework: Array values aren't changed when altering them in a custom EditorWindow ([UUM-15645](https://issuetracker.unity3d.com/issues/array-values-arent-changed-when-altering-them-in-a-custom-editorwindow))
    
*   MacOS: Crash on \_\_pthread\_kill when dragging Sprites into the Scene view ([UUM-20950](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view))
    
*   MacOS: Crash on \_\_pthread\_kill when EditorUtility.OpenFolderPanel is executed ([UUM-2293](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: GameObjects doesn't get rendered when using "Unlit.Unlit\_UsePass" Shader ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Universal RP: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.16f1 Release Notes

#### Features

*   TextMeshPro: Added support for Color Glyphs and extracting OpenType font features.

#### Improvements

*   2D: Improved performance of TilemapCollider2D. (UUM-6046)
    
*   Animation: Reduced the time required to load AnimationClip instances.
    
*   Editor: Improved performance of Handles.DrawAAPolyLine.
    
*   Editor: Improved performance of rendering the Project Settings. It would previously repeatedly query all objects loaded into the editor, which meant that operations that load assets into memory (entering playmode) would make the Project Settings unusable slow.
    
*   Graphics: Increased the maximum Async Upload Buffer Size to 2047 MB and updated docs.
    
*   Profiler: Reduced the performance cost of drawing charts in the profiler.
    
*   Shaders: Improved performance of ShaderKeywordSet.IsEnabled(LocalKeyword) and ShaderUtil.PassHasKeyword(...).
    
*   Video: Report error only when the user uses MediaFoundation directly.
    

#### Changes

*   Text: Upgraded freetype to 2.12.1. (UUM-6502)
    
*   Universal RP: Shader parameters used by additional lights are now removed when additional lights are disabled in URP Assets.
    

#### Fixes

*   2D: Fixed Stencil so it now works when rendering sprites with GPU instancing on. ([UUM-15295](https://issuetracker.unity3d.com/issues/sprite-is-not-clipped-using-the-stencil-when-the-material-has-enable-gpu-instancing-enabled))
    
*   Android: Fixed issue where "Multithreaded Rendering" is getting disabled after a few Player builds when it should be enabled according to Player Settings. (UUM-18385)
    
*   Animation: Fixed issue where, for some playable graphs, the animated displacement of the animated game object would keep accumulating when the game object was disabled and enabled. The original behaviour can be restored with the keepAnimatorStateOnDisable variable. ([UUM-3486](https://issuetracker.unity3d.com/issues/playables-lose-the-animator-state-when-disabling-a-gameobject-with-playables-attached-to-an-animator))
    
*   Editor: Fix serious Editor performance issue when running on macOS Ventura. (UUM-19011)
    
*   Editor: Fixed a crash that sometimes occurs when the Windows Editor is closed. ([UUM-19899](https://issuetracker.unity3d.com/issues/crash-on-mainmessageloop-when-changing-input-systems))
    
*   Editor: Fixed exception incorrectly reporting object already in pool when equal instances of classes implementing IEquatable<T> are released to ObjectPool. (UUM-8083)
    
*   Editor: Fixed for special characters not displaying as expected in built application names on Android. ([UUM-12251](https://issuetracker.unity3d.com/issues/some-special-characters-in-product-name-arent-displayed-after-building-app-to-the-android-device))
    
*   Editor: Fixed SystemInfo.batteryStatus and SystemInfo.batteryLevel does not work on Linux Laptops ([UUM-16083](https://issuetracker.unity3d.com/issues/linux-systeminfo-dot-batterystatus-slash-systeminfo-dot-batterylevel-doesnt-work-on-a-linux-laptop))
    
*   Editor: Making sure context view context can't be duplicated, copied or cut. ([UUM-2655](https://issuetracker.unity3d.com/issues/prefab-opened-in-context-can-have-its-root-duplicated-creating-uninteractable-gameobjects-that-dont-get-saved-with-the-prefab-1))
    
*   Editor: Prevent too many open files error when uploading to Accelerator. ([UUM-19028](https://issuetracker.unity3d.com/issues/case-1389792-too-many-files-open))
    
*   Editor: Prevent user errors in when using WorldToLocal after setting Itransform.Scale with a z scale of 0. (UUM-18782)
    
*   Editor: Removed Exported define from SearchService to avoid domain reload. (UUM-18922)
    
*   GI: Added the range property to the Light Explorer window.
    
*   GI: Fixed an issue where Enlighten RTGI schedules material updates indefinitely when animating the emission color of an emissive mesh renderer. ([UUM-10037](https://issuetracker.unity3d.com/issues/enlighten-rtgi-ticks-indefinitely-after-the-emissive-color-of-a-renderer-has-been-updated-via-animation))
    
*   GI: Fixed lightprobes getting direct lighting in subtractive mode. ([UUM-1344](https://issuetracker.unity3d.com/issues/mixed-point-slash-spot-lights-with-shadows-disabled-are-baking-direct-light-into-light-probes-on-subtractive-lighting))
    
*   Graphics: Added safe-guards to prevent GetPixels / GetPixels32 crashes in cases where C# array creation would fail.
    
*   Graphics: Ensure LineRenderers and TrailRenderers with only 2 points don't vanish, if the points are close together. ([UUM-887](https://issuetracker.unity3d.com/issues/backport-linerenderer-is-not-drawn-if-the-length-is-0-dot-003162-or-less))
    
*   Graphics: Fixed a bug where ReadPixels would fail for textures larger than 2 GB.
    
*   Graphics: Fixed Async SSR on D3D12. (UUM-3342)
    
*   Graphics: Fixed cubemap uploads failing on Vulkan, D3D11 and D3D12 for cubemaps larger than 2 GB.
    
*   Graphics: Fixed GetPixelData / SetPixelData failing for textures larger than 2 GB. Added safe-guards to prevent NativeArray length overflows for the former API.
    
*   Graphics: Fixed LoadRawTextureData failing when the input NativeArray contained more than 2 GB of data. Added safe-guards to GetRawTextureData. (prevent NativeArray length overflow and C# array creation failure).
    
*   Graphics: Fixed RenderTexture assets not accepting texture dimensions greater than 20000 in UI, even though they currently can already go up to 32768 in script if the graphics capabilities allow for it.
    
*   Graphics: Fixed the Read/Write texture import setting becoming grayed out when "Max Size" was greater than 8192, regardless of actual texture dimensions or size. Replaced with an info box when enabling "Read/Write" that triggers if Unity detects a >512MB texture.
    
*   Graphics: Fixed Unity Graphics Buffer interface for Vulkan for non-compute targets.
    
*   Graphics: Fixed Vulkan validation error when using DrawProcedural with quad primitives. (UUM-18502)
    
*   Graphics: Texture 3D Preview (Volume / SDF mode) now becomes disabled if Unity detects a potential driver hang risk. Fixed an assert incorrectly being triggered when inspecting external Texture 3Ds.
    
*   HDRP: Fixed scalarization issues on Gamecore.
    
*   IL2CPP: Avoid a possible race condition when the garbage collector is enabled or disabled that could cause it to become permanently disabled. (UUM-16300)
    
*   IL2CPP: Enabled constrained calls on stackalloc'd buffers. (UUM-14341)
    
*   IL2CPP: Fixed crash on startup when scripting debugging is enabled. ([UUM-18685](https://issuetracker.unity3d.com/issues/build-crashes-on-il2cpp-vm-class-getvirtualmethod-when-building-and-running-a-project-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed handling of numeric conversion IL opcodes in generic code when **Faster (smaller) builds** is enabled. ([UUM-15402](https://issuetracker.unity3d.com/issues/treeview-is-infinitely-populating-items-when-using-il2cpp-build))
    
*   IL2CPP: Fixed Monitor.Wait with zero timeout so it now returns false. ([UUM-18188](https://issuetracker.unity3d.com/issues/monitor-dot-wait-returns-false-when-running-tests-with-il2cpp))
    
*   IL2CPP: Fixed occasional missing stack traces in Debug.Log on Windows 10. ([UUM-12672](https://issuetracker.unity3d.com/issues/multithreaded-builds-sometimes-dont-print-the-stack-trace-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed stackalloc to return null for zero length requests. ([UUM-15533](https://issuetracker.unity3d.com/issues/stackalloc-int-0-returns-incorrect-result-when-the-project-is-built-with-il2cpp))
    
*   IL2CPP: Removed an uncommon parameter name collision in generated C++ code. ([UUM-14587](https://issuetracker.unity3d.com/issues/il2cpp-generates-parameters-with-the-same-name-when-building-on-android))
    
*   IL2CPP: Support casts from arrays to interfaces of their reduced type (e.g. int\[\] -> IEnumerable<uint>). (UUM-16304)
    
*   Linux: Fixed **Shift+alpha** keys so that they are now recognized on certain keyboard layouts. ([UUM-19010](https://issuetracker.unity3d.com/issues/input-dot-getkey-doesnt-read-all-shift-plus-alpha-keys-non-us-keyboard-layouts))
    
*   Mono: Fixed JIT assert on arm with large return structs. (UUM-18498)
    
*   Particles: Fixed errors when baking a particle mesh after calling mesh->Clear(false). ([UUM-8489](https://issuetracker.unity3d.com/issues/particlesystemrenderer-bakemesh-method-throws-out-of-bounds-arguments-error-when-invoked))
    
*   Particles: Fixed SetParticles API sometimes failing to emit the correct number of particles. ([UUM-17027](https://issuetracker.unity3d.com/issues/particlesystem-does-not-add-all-particles-when-a-large-number-of-particle-systems-exist-in-a-scene))
    
*   Particles: Orbital velocity curves must all use the same mode. Display an error and don't crash, if this is not the case. ([UUM-8679](https://issuetracker.unity3d.com/issues/crash-on-evaluateslow-when-running-particle-system))
    
*   Scripting: When switching to UWP it doesn't add NET\_STANDARD\_2\_0 define, it adds NET\_4\_6 instead. ([UUM-1694](https://issuetracker.unity3d.com/issues/backport-uwp-not-adding-net-standard-2-0-define))
    
*   Serialization: When performing an undo on an object that uses SerializeReference reuse existing C# objects, instead of recreating them. ([UUM-651](https://issuetracker.unity3d.com/issues/serialized-references-are-recreated-when-modifiying-any-field-and-then-doing-ctrl-plus-z))
    
*   Services: Marking UserInfo apis as obsolete.
    
*   SRP Core: Fixed Volume component UI layout issue for TextureParameter. ([UUM-13801](https://issuetracker.unity3d.com/issues/the-dirt-texture-property-text-has-a-lot-of-padding-and-causes-difficulties-when-trying-to-access-its-texture-select-field-in-the-volume-components-bloom-section))
    
*   Terrain: Added support for ASTC 4x4 and BC7, and warning to the Terrain inspector when details atlas is uncompressed. (UUM-19973)
    
*   UI Toolkit: Fixed an exception when searching in the Debugger and UI element has a null name. ([UUM-18683](https://issuetracker.unity3d.com/issues/uitoolkit-nullreferenceexception-is-thrown-when-searching-in-the-debugger-and-ui-element-has-a-null-name))
    
*   UI Toolkit: Fixed display issue when resizing parent of Visual Element with negative scale. ([UUM-18196](https://issuetracker.unity3d.com/issues/y-flipped-visual-element-has-a-gap-between-its-parent-when-its-resized))
    
*   UI Toolkit: Fixed for 2021.3.X: "Double-click to create a new USS selector" text appears if hovering on Style Class List selectors of Controls internal elements. ([UUM-3469](https://issuetracker.unity3d.com/issues/double-click-to-create-a-new-uss-selector-text-appears-if-hovering-on-style-class-list-selectors-of-controls-internal-elements))
    
*   UI Toolkit: Fixed objects in UI Builder are changing their actual size when zooming in and out. ([UUM-15833](https://issuetracker.unity3d.com/issues/objects-in-ui-builder-are-changing-their-actual-size-when-zooming-in-and-out))
    
*   UI Toolkit: Fixed playmode tint not applied to text color. ([UUM-7215](https://issuetracker.unity3d.com/issues/label-with-dynamic-color-is-not-getting-playmode-tint-in-the-ui-builder-window))
    
*   UI Toolkit: Fixed scale 0 to 1 transition bug. ([UUM-4171](https://issuetracker.unity3d.com/issues/ui-toolkit-child-buttons-and-text-fields-background-disappear-when-parent-has-transition-to-scale-toggled-between-1-and-0))
    
*   UI Toolkit: Fixed TextValueField allocation when setting the same value. ([UUM-8156](https://issuetracker.unity3d.com/issues/this-dot-valuetostring-this-dot-rawvalue-is-called-every-time-when-setting-floatfield-dot-value-to-the-same-value))
    
*   UI Toolkit: Fixed the old theme not being removed from the list of documentElement's stylesheet when changing the current theme. ([UUM-11196](https://issuetracker.unity3d.com/issues/ui-builder-leaks-defaultcommondark-inter-dot-uss-stylesheet-into-ui-documents))
    
*   Universal RP: Fixed an issue with slower build-times caused by large Additional Light Shadows arrays in URP Shaders. ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   URP: Fixed a bug where lights with different blend styles may have missing shadows. ([UUM-1872](https://issuetracker.unity3d.com/issues/shadows-are-rendered-from-one-light-source-when-using-two-2d-lights-with-different-blend-styles))
    
*   VFX Graph: Fixed an issue to avoid unnessary allocations in the SDF Baker by using Mesh Buffer API. ([UUM-2285](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-usage-to-continually-rise-when-entering-play-mode-1))
    
*   VFX Graph: Fixed bounds padding being ignored. ([UUM-15655](https://issuetracker.unity3d.com/issues/vfx-graph-bounds-padding-not-working))
    
*   VFX Graph: Fixed robustness issues with Collision with SDF. (UUM-4803)
    
*   VFX Graph: Fixed the **Preserve Specular Lighting** mode on non-Shader Graph lit outputs. ([UUM-13778](https://issuetracker.unity3d.com/issues/hdrp-vfx-pixels-removed-by-alpha-still-receive-specular-when-preserve-specular-lighting-is-enabled))
    
*   VFX Graph: Removed unexpected GC.Alloc while accessing to `state.vfxEventAttribute` in \[VFXSpawnerCallbacks\](https://docs.unity3d.com/ScriptReference/VFX.VFXSpawnerCallbacks.OnUpdate.html). ([UUM-14769](https://issuetracker.unity3d.com/issues/vfx-unexpected-garbage-from-spawnoverdistance))
    
*   VFX Graph: Removed unneeded nodes in Ribbon template. ([UUM-15443](https://issuetracker.unity3d.com/issues/vfx-graph-ribbon-system-contains-extra-nodes-and-contexts))
    
*   Video: Video is displayed with one frame delay when videoPlayer.Play() is called. ([UUM-15543](https://issuetracker.unity3d.com/issues/video-is-displayed-with-one-frame-delay-when-videoplayer-dot-play-is-called-1))
    
*   Web: Added missing file to WebGL build. ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR: Fixed VR run in background focus issue.

### Known Issues in 2021.3.15f1

*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: Crash on \_\_pthread\_kill when EditorUtility.OpenFolderPanel is executed ([UUM-2293](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: \[M1\]\[Rosseta\] Editor crashes on mono\_arch\_patch\_callsite when entering the Play Mode ([UUM-10411](https://issuetracker.unity3d.com/issues/m1-rosseta-editor-crashes-on-mono-arch-patch-callsite-when-entering-the-play-mode))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: GameObjects doesn't get rendered when using "Unlit.Unlit\_UsePass" Shader ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Universal RP: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.15f1 Release Notes

#### Features

*   Editor: Added Enable PlayMode Tooltips toggle to preferences.

#### Improvements

*   2D: \[com.unity.2d.animation\] Improved the Auto Geometry generation speed.
    
*   2D: \[com.unity.2d.pixelperfect\] Added URP Pixel Perfect Camera converter.
    
*   2D: \[com.unity.2d.pixelperfect\] Hide duplicate Pixel Perfect menus if URP Package is installed.
    
*   Animation: Optimized AnimationClip size calculation reducing asset load time in the Editor.
    
*   Graphics: Added support for late latch debug mode to help verify late latch functionality. ([UUM-16844](https://issuetracker.unity3d.com/issues/late-latch-debug-mode-functionality-is-missing))
    
*   Tests: Improved stability of Selecting\_Deleted\_ParticleSystemForceField\_Preset\_In\_PlayMode\_Doesnot\_Throw\_Exception test.
    
*   Version Control: Added offline mode toggle for smoother offline experience.
    

#### API Changes

*   UI Toolkit: Added: Added 2 Value constructor for TransformOrigin. (UUM-903)

#### Changes

*   XR: The Oculus XR Plugin package has been updated to 3.2.2.
    
*   XR: Updated the verified version of AR Foundation related packages to 4.2.7.
    

#### Fixes

*   2D: Fixed error when a Tile asset with an instanced GameObject is removed from the Tilemap during a Collider2D.OnCollision\*\*\*2D event. (UUM-15455)
    
*   2D: \[com.unity.2d.animation\] Fixed a case where new bones are not selected after pasting them in the Skinning Editor and an exception is thrown.
    
*   2D: \[com.unity.2d.animation\] Fixed a case where the auto weight generation would associate incorrect bones to vertices. ([DANB-22](https://issuetracker.unity3d.com/issues/automatic-weight-generation-for-2d-rigs-in-the-skinning-editor-assigns-weights-to-the-incorrect-bones-in-unity-2021))
    
*   2D: \[com.unity.2d.animation\] Fixed an issue where the Sprite Skin editor would throw an exception if Sprite Renderer doesn't have a Sprite assigned to it.
    
*   2D: \[com.unity.2d.animation\] Fixed IK Manager 2D's inspector slow downs.
    
*   2D: \[com.unity.2d.animation\] The visibility tab now scrolls to the selected bone in the Skinning editor.
    
*   Android: Do not move files in custom asset packs to src/main/assets, preserve the directory structure as it is. (UUM-15109)
    
*   Asset Bundles: Fixed issue where empty folders remain in the cache. ([UUM-15702](https://issuetracker.unity3d.com/issues/empty-folders-are-left-when-the-cache-is-cleaned))
    
*   Asset Pipeline: Fixed spritesheet and other previews not being updated in project browser sometimes. (UUM-2811)
    
*   Editor: Enabling shader keyword pre-filtering so that build process does not have to enumerate through full shader variant space. This fixes the issue of URP builds even with warm shader cache taking really long time. This fix does not reduce the time spent on actually compiling shaders. ([UUM-3711](https://issuetracker.unity3d.com/issues/shader-variant-build-preparation-does-not-scale))
    
*   Editor: Fixed "SerializedProperty m\_Enabled has disappeared!" error arpeared in console while undoying switching scripts in debug inspector. ([UUM-4170](https://issuetracker.unity3d.com/issues/serializedproperty-m-enabled-has-disappeared-error-arpeared-in-console-while-undoying-switching-scripts-in-debug-inspector))
    
*   Editor: Fixed a crash due to an integer overflow when calculating the required buffer size to store compressed mesh index data. ([UUM-1036](https://issuetracker.unity3d.com/issues/crash-when-changing-large-assets-mesh-compression))
    
*   Editor: Fixed a Crash/Freeze when using Handles.DrawGizmos in OnDrawGizmos. ([UUM-15008](https://issuetracker.unity3d.com/issues/crash-slash-freeze-when-using-handles-dot-drawgizmos-in-ondrawgizmos))
    
*   Editor: Fixed an issue where AssetDatabase.FindAssets would return invalid results when specifying multiple search folders. ([UUM-19314](https://issuetracker.unity3d.com/issues/probuilder-srp-wrong-material-assigned-to-probuilder-shape-upon-creation))
    
*   Editor: Fixed ArgumentOutOfRangeException errors in the ModelImporter Inspector when the imported FBX file contains objects with empty names. ([UUM-3177](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-startindex-cannot-be-less-than-zero-is-thrown-when-importing-the-fbx-model))
    
*   Editor: Fixed colorpicker functionality. (UUM-17499)
    
*   Editor: Fixed issue where textures are not generated when Naming option in Import Settings of an FBX file is changed to "From Model's Material". ([UUM-3640](https://issuetracker.unity3d.com/issues/textures-are-not-generated-when-naming-option-in-import-settings-of-an-fbx-file-is-changed-to-from-models-material-1))
    
*   Editor: Fixed issue with Selection Wire not rendering. ([UUM-19139](https://issuetracker.unity3d.com/issues/wire-is-not-visible-on-a-selected-gameobject-in-scene-view-when-selection-wire-is-enabled))
    
*   Editor: Fixed material copy/paste so it now copies all properties. ([UUM-6041](https://issuetracker.unity3d.com/issues/the-actions-copy-slash-paste-material-properties-do-not-copy-texture-tiling-and-offset-properties))
    
*   Editor: Fixed near planeSize.y in CameraEditorUtils. ([UUM-7797](https://issuetracker.unity3d.com/issues/incorrect-near-planesize-dot-y-calculation-at-cameraeditorutils-dot-cs))
    
*   Editor: Fixed tile palette drop-down flickering (UUM-8307)
    
*   Editor: Fixed undo bug. Enabled fixed unstable test. Disabled calling dynamic\_pptr\_cast with pointer to pointer - this caused a hard to find runtime error which could have been caught at compile time. (UUM-19070)
    
*   Graphics: Bug in mip bias setting on DX11 fixed. ([UUM-879](https://issuetracker.unity3d.com/issues/backport-repeat-texture-wrap-mode-set-through-textureimporter-in-assetpostprocessor-behaves-like-clamp-when-mipmapbias-is-set))
    
*   Graphics: Fixed closesthit, anyhit or intersection shaders in .raytrace files causing a GPU hang. Log an error when these shader types are present in a .raytrace file since they are not currently supported. ([UUM-10113](https://issuetracker.unity3d.com/issues/editor-crashes-when-ray-tracing-shaders-are-not-compiled-properly))
    
*   Graphics: Fixed DrawMeshNow with Metal when changing mesh vertex data. ([UUM-9782](https://issuetracker.unity3d.com/issues/drawmeshnow-is-not-drawing-mesh-immediately))
    
*   Graphics: Fixed for depth submission crash when no MSAA is enabled (Quest 2). ([UUM-13249](https://issuetracker.unity3d.com/issues/graphics-crash-when-submitting-depth-with-no-msaa))
    
*   Graphics: Fixed mapped index debug error when rendering null geometry. (UUM-11997)
    
*   Graphics: Improved use of ClearUnsupportedSettings for the depth texture of a RenderTexture  
    https://jira.unity3d.com/browse/UUM-16758. ([UUM-16533](https://issuetracker.unity3d.com/issues/android-depth-texture-isnt-rendered-when-using-opengles3-graphics-api))
    
*   Graphics: Prevented a crash on some platforms when the mesh buffers do not exist on a MeshRenderer. ([UUM-4150](https://issuetracker.unity3d.com/issues/android-instantiating-a-mesh-with-r-slash-w-disabled-causes-crash))
    
*   HDRP: Re-enabled XR tests for 004-CloudsFlaresDecals and 005-DistortCloudsParallax. ([UUM-1894](https://issuetracker.unity3d.com/issues/hdrp-xr-unity-crashes-when-entering-play-mode-while-openxr-render-mode-is-set-to-multi-pass-and-there-is-terrain-in-the-scene))
    
*   iOS: Added support for the Swift Remote Packages in XCode project API. Added PBXProject API to add to references to them, namely AddRemotePackageReferenceAtBranch, AddRemotePackageReferenceAtRevision, AddRemotePackageReferenceAtVersion, AddRemotePackageReferenceAtVersionUpToNextMajor, AddRemotePackageReferenceAtVersionUpToNextMinor, AddRemotePackageReferenceWithVersionRange. Also added way to add framework from the remote package with AddRemotePackageFrameworkToProject. (UUM-15082)
    
*   iOS: Fixed crash on warming up shader variants with procedural instancing. (UUM-10114)
    
*   Kernel: Fixed issue with establishing adb forwarding on android 10,11,12 (used to direct connect editor with device thru USB cable). (UUM-13304)
    
*   Kernel: Moved "Sending message header failed (0)" into internal logs to not spams developers. ([UUM-2612](https://issuetracker.unity3d.com/issues/android-profiler-sending-message-header-failed-0-warning-message-outputted-when-switching-profiler-connections))
    
*   License: Make Unity build deterministic when using floating licenses. ([UUM-18489](https://issuetracker.unity3d.com/issues/unity-builds-not-deterministic-when-using-a-different-machine-or-a-floating-license))
    
*   Linux: Fixed Multi Display mouse/touch input so it now correctly registers on Linux Standalone player. (UUM-1569)
    
*   macOS: Fixed new InputSystem mouse position not being updated after resolution change. ([UUM-10519](https://issuetracker.unity3d.com/issues/mouse-position-is-not-updated-when-screen-resolution-is-changed))
    
*   macOS: Removed developer placeholder text from progress dialog. (UUM-18221)
    
*   Particles: Fixed cycles and frame over time to work together correctly in the Texture Sheet Animation module. ([UUM-2192](https://issuetracker.unity3d.com/issues/backport-texturesheetanimation-loops-through-all-frames-when-cycles-is-set-to-2-or-more-and-frameovertime-upper-frame-limit-is))
    
*   Particles: Fixed particle bounds issue. ([UUM-869](https://issuetracker.unity3d.com/issues/backport-particle-system-flickers-slash-disappears-when-using-custom-simulation-space))
    
*   Physics: Fixed a crash that happened when resetting the mass properties of a disabled articulation body. ([UUM-13188](https://issuetracker.unity3d.com/issues/unity-crashes-on-articulationbody-custom-resetcenterofmass-when-disabling-an-articulation-body))
    
*   Profiler: Fixed ProfilerMarker initialization and usage in Release players. (UUM-9541)
    
*   Scene/Game View: Fixed "Auto-hide Gizmos" preference not remember state on application restart. ([UUM-7848](https://issuetracker.unity3d.com/issues/auto-hide-gizmos-preference-is-not-saved-when-reopening-the-project))
    
*   Scene/Game View: Fixed an issue where `Handles.DrawAAPolyLine` would throw an error if the passed colors array and points array were of differing lengths. ([UUM-19287](https://issuetracker.unity3d.com/issues/handles-dot-dodrawaapolyline-throws-an-error-number-of-colors-and-number-of-points-must-be-the-same-when-evaluating-positions))
    
*   Scene/Game View: Fixed Material Validation colors in the Scene View not updating when preference is modified. ([UUM-5087](https://issuetracker.unity3d.com/issues/colors-in-global-illumination-and-material-validation-scene-view-draw-mode-panels-are-not-updated-when-changed-in-preferences))
    
*   Scene/Game View: Fixed the Rect Tool center handle not drawing in the correct position during a resize event. ([UUM-17618](https://issuetracker.unity3d.com/issues/gameobject-center-indicator-is-offset-whilst-resizing-gameobject-to-the-point-where-center-indicator-is-no-longer-visible))
    
*   Scripting: Editor could crash when going out of SafeMode, when DomainReloadTimings was enabled. ([UUM-18885](https://issuetracker.unity3d.com/issues/crash-after-fixing-the-cause-of-the-safe-mode-and-returning-to-the-editor))
    
*   Shaders: Fixed a null pointer dereference with `ShaderVariantCollection` API. ([UUM-16058](https://issuetracker.unity3d.com/issues/unity-editor-crashes-on-keywords-localkeywordstate-localkeywordstate-when-a-shader-is-null))
    
*   Shaders: Fixed a warning log error when calling EnableKeyword on RenderingCommandBuffer. (UUM-16918)
    
*   Shaders: Fixed asset bundles with shaders not loading correctly on newer versions of Unity. ([UUM-17421](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-m-bufferstobind-shadertype-bind-dot-buffer-equals-equals-null-is-thrown-when-entering-the-play-mode))
    
*   Shaders: Fixed reflection probe rendering silently being skipped when the required shader is not found in the player. ([UUM-12628](https://issuetracker.unity3d.com/issues/realtime-reflections-silently-fail-when-hidden-slash-cube-star-shaders-arent-included))
    
*   Shaders: Fixed Texture and Vector material properties not supporting displaying tooltips. ([UUM-5691](https://issuetracker.unity3d.com/issues/tooltip-doesnt-appear-when-hovering-over-a-materials-property-in-the-inspector))
    
*   Terrain: Mixed light baking with Shadowmask on URP with TerrainLit shader doesn't work as intended when using Deferred rendering. ([UUM-3897](https://issuetracker.unity3d.com/issues/terrain-slash-urp-mixed-light-baking-with-shadowmask-on-urp-with-terrainlit-shader-doesnt-work-as-intended-when-using-deferred-rendering))
    
*   Terrain: Terrain shadows are not rendered when zooming out in Scene/Game View with Deferred Rendering enabled. ([UUM-1860](https://issuetracker.unity3d.com/issues/terrain-shadows-are-not-rendered-when-zooming-out-in-scene-slash-game-view-with-deferred-rendering-enabled))
    
*   UI Toolkit: Fixed an issue where the UI Builder would export asset references with `resource()` instead of `url()` when the asset path contained a folder with Resources in its name. ([UUM-14889](https://issuetracker.unity3d.com/issues/ui-toolkit-cant-use-image-store-in-gameresources-folder))
    
*   UI Toolkit: Fixed an issued where a bound EnumField was not created properly if the associated Enum type did not have a value of 0. ([UUM-11706](https://issuetracker.unity3d.com/issues/enumfield-throws-nullreferenceexception-error-when-the-enum-doesnt-have-the-default-value-of-0))
    
*   UI Toolkit: Fixed scale 0 to 1 transition bug. ([UUM-4171](https://issuetracker.unity3d.com/issues/ui-toolkit-child-buttons-and-text-fields-background-disappear-when-parent-has-transition-to-scale-toggled-between-1-and-0))
    
*   UI Toolkit: Fixed shader bug observable on macOS Ventura with AMD gpus that was causing Graphview (e.g. Shader Graph, VFX Editor) edges to be missing. ([UUM-19016](https://issuetracker.unity3d.com/issues/ventura-intel-shader-graph-nodes-connections-are-not-visible-when-using-macos-13-dot-0-ventura))
    
*   UI Toolkit: Fixed shader bug observable on macOS Ventura with AMD gpus that was causing UIToolkit elements to be missing, clipped or to display incorrectly. ([UUM-18978](https://issuetracker.unity3d.com/issues/labels-and-icons-are-missing-when-using-macos-13-dot-0-ventura))
    
*   UI Toolkit: Fixed VisualElement alignment issue in non-standard DPIs. ([UUM-11741](https://issuetracker.unity3d.com/issues/ui-toolkit-gaps-between-visualelements-with-grow-1-when-scaled-with-scale-with-screen-size))
    
*   UI Toolkit: Make sure clickable is not invoked when target VisualElement is not enabled. ([UUM-16476](https://issuetracker.unity3d.com/issues/button-still-processes-clicks-after-being-disabled-by-the-script))
    
*   UI Toolkit: The behavior when a dropdown is removed from the hierarchy is updated to prevent any visual element left in the hierarchy. ([UUM-11117](https://issuetracker.unity3d.com/issues/ui-toolkit-dropdown-menu-overlay-is-visible-after-exiting-play-mode))
    
*   UI Toolkit: UI Toolkit: Optimized the UI Builder to reduce overhead when dragging/resizing elements in the canvas. (UI Builder). (UUM-844)
    
*   Universal RP: Set default contribution to 0 for ColorLookup VolumeComponent, which makes the interpolation with the implicit default global volume behave as expected. ([UUM-12321](https://issuetracker.unity3d.com/issues/colors-majorly-change-when-the-volume-components-weight-property-value-changes-from-0-to-any-small-value))
    
*   Version Control: Fixed performance issue with FindWorkspaceForPath method called multiple times every frame  
    Fixed performance issue with UI.CooldownWindowDelayer.OnUpdate running on project without Plastic SCM workspace.
    
*   VFX Graph: Added a Visual Effect Graph to the scene did not take the default parent into account. ([UUM-11362](https://issuetracker.unity3d.com/issues/certain-gameobjects-ignore-the-default-parent-when-they-are-created))
    
*   VFX Graph: Fixed an issue that VisualEffect spawned behind the camera were always updated until visible and culled. ([UUM-6379](https://issuetracker.unity3d.com/issues/vfx-vfx-is-updated-if-spawned-behind-the-camera))
    
*   Video: Fixed getting buffer overflow warning when increasing playback speed on the VideoPlayer. ([UUM-1891](https://issuetracker.unity3d.com/issues/backport-videoplayer-buffer-overflow-warnings-when-we-start-playing-vp8-video-with-increased-playback-speed))
    
*   WebGL: Added streaming download of response body in UnityWebRequest. ([UUM-1149](https://issuetracker.unity3d.com/issues/unitywebrequest-buffers-http-response-in-webgl-player-and-sends-all-elements-at-once-instead-of-one-at-the-time))
    
*   Windows: Modified full stack traces so that when they are enabled on Windows, Unity will no longer try to resolve symbols from the symbol server. This prevents a potential stall the first time a stack trace is printed. ([UUM-11802](https://issuetracker.unity3d.com/issues/stackwalker-is-misconfigured-to-downloads-symbols-from-symbol-servers))
    
*   XR: Updated XR Interaction Toolkit to 2.0.4.

### Known Issues in 2021.3.14f1

*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: \[M1\]\[Rosseta\] Editor crashes on mono\_arch\_patch\_callsite when entering the Play Mode ([UUM-10411](https://issuetracker.unity3d.com/issues/m1-rosseta-editor-crashes-on-mono-arch-patch-callsite-when-entering-the-play-mode))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: GameObjects doesn't get rendered when using "Unlit.Unlit\_UsePass" Shader ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Universal RP: Shader compilation time is higher in 2021.3 than in 2020.3 ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    

### 2021.3.14f1 Release Notes

#### Improvements

*   Animation: Further improvements to animation job performance (esp. some forms of IK).
    
*   Asset Import: Improved performance of asset imports in large projects.
    
*   Editor: Reduced the time taken by AssetDatabase.FindAssets when used with a custom filter, speeding up domain reloads and other editor operations that made the poor choice of calling this function in the first place.
    
*   Multiplayer: Added Netcode for GameObjects 1.1.0.
    
*   Profiler: Improved performance of rendering the CPU timeline view when viewing large captures.
    
*   Scripting: Always inline the Mathf Sign() script API function.
    
*   Scripting: Does not discard AssemblyUpdater output when no updates have been applied.
    
*   VFX Graph: Reduced the time taken by VFXGraph.CheckCompilationVersion that would previously potentially query all assets on every domain reload.
    

#### API Changes

*   Graphics: Added: Added SystemInfo.computeSubGroupSize API, allows users to query the size of the compute thread group that supports efficient memory sharing on the GPU.
    
*   Graphics: Added: Added SystemInfo.maxTexture3DSize API, allows users to query the largest 3D Texture size that the graphics hardware supports.
    
*   Graphics: Added: Added SystemInfo.maxTextureArraySlices API, allows users to query the maximum number of slices in a Texture array that the graphics hardware supports.
    

#### Changes

*   Graphics: Changed Graphics packages version from 12.1.7 to 12.1.8.
    
*   URP: Avoid using Depth32Stencil8 format on Android.
    

#### Fixes

*   2D: Fixed result of the Tilemap.GetCellCenterLocal/World API for a Hexagonal Grid and a large Tile Anchor offset.
    
*   Android: Fixed infinite loop when requesting for runtime permission that is automatically rejected by the OS. (UUM-15923)
    
*   Android: Fixed stacktrace on Chrome OS x86\_64. ([UUM-781](https://issuetracker.unity3d.com/issues/chromeos-only-a-few-frames-are-reported-in-logcats-stack-trace-when-using-x86-64-or-armv7-architectures-on-pixelbook))
    
*   Android: InputView is not clickable when isInputFieldHidden AND !mConsumeOutsideTouches. ([UUM-16292](https://issuetracker.unity3d.com/issues/android-keyboard-gets-hidden-when-the-input-field-area-is-clicked-and-touchscreenkeyboard-dot-hideinput-is-set-to-true))
    
*   DX12: Fixed single frame flicker which can occur when streaming textures. (UUM-15646)
    
*   Editor: Added iPhone 13 Pro, iPhone 13 Pro Max and Samsung Galaxy Z Flip3 to the device simulator. (UUM-655)
    
*   Editor: Don't remove full symbols from build location when making Linux installer package. (UUM-1828)
    
*   Editor: Fixed an issue where TextureImporter.GetPlatformTextureSettings would not perform fix-up on the platform string argument correctly. ([UUM-15361](https://issuetracker.unity3d.com/issues/unable-to-get-textureoverridesettings-from-buildpipeline-dot-getbuildtargetname-when-trying-to-pass-in-the-platform-string))
    
*   Editor: Fixed crash when using URP on some Adreno 6xx devices with shaders that use clip(). ([UUM-4367](https://issuetracker.unity3d.com/issues/crash-on-adreno-630-devices-when-using-shader-with-mixed-stencil))
    
*   Editor: Fixed crash while pausing progress if in playmode. ([UUM-14845](https://issuetracker.unity3d.com/issues/2021-dot-3-macos-crash-when-calling-progress-dot-pause-from-a-script))
    
*   Editor: Fixed debug canvas open in random user input key combinations. ([UUM-17026](https://issuetracker.unity3d.com/issues/linux-debug-canvas-gameobject-gets-added-to-the-scene-when-shift-plus-w-is-pressed-while-in-play-mode))
    
*   Editor: Fixed editor crashing when entering into play mode in LEGO tutorial. ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Editor: Fixed EditorUtility.DisplayDialog layout after showing dialog with a long text. ([UUM-9447](https://issuetracker.unity3d.com/issues/macos-editorutility-dot-displaydialog-dialog-layout-gets-corrupted-after-displaying-a-17-plus-lines-477-plus-non-broken-characters-long-message))
    
*   Editor: Fixed inspector window black out after addComponent action from menu dropdown or shortcut. (UUM-1565)
    
*   Editor: Fixed issue where Camera and Lights animations are transferred to the wrong animation clip when importing a FBX file with multiple takes. ([UUM-13001](https://issuetracker.unity3d.com/issues/animations-attributes-get-corrupted-in-the-animation-window-when-opening-the-project-in-a-newer-version-of-unity))
    
*   Editor: Fixed scripted importer registration errors, when changing platform. ([UUM-14062](https://issuetracker.unity3d.com/issues/switching-target-platform-in-build-settings-throws-assetimporters-dot-scriptedimporter-errors))
    
*   Editor: Fixed Unity crashes in batch mode when using -vcsMode Perforce. ([UUM-17597](https://issuetracker.unity3d.com/issues/crash-when-running-editor-with-batch-mode-and-vcsmode-flags-1))
    
*   Editor: Fixed yamato test on 2021.3 by backporting a missing fix.
    
*   Editor: Re-introduce the recompile-after-finished-playing option. ([UUM-16168](https://issuetracker.unity3d.com/issues/recompile-after-finish-playmode-option-is-gone))
    
*   Editor: \[SpeedTree\] ExtraTexture texture is no longer marked sRGB (Color Data) when imported with a SpeedTree asset. (UUM-10912)
    
*   GI: Avoid unnecessary gfx fence when Enlighten Realtime GI is not enabled. (UUM-8035)
    
*   Graphics: Fixed BatchRendererGroup TempJob memory leak in special rendering situations like HDRP AOV rendering. ([UUM-16733](https://issuetracker.unity3d.com/issues/jobtempalloc-has-allocations-that-are-more-than-4-frames-old-warnings-are-thrown-when-using-aovrequest-and-batchrenderergroup))
    
*   Graphics: Fixed crash when creating a RenderTexture with dimensions exceeding the capabilities of the current graphics device. ([UUM-5459](https://issuetracker.unity3d.com/issues/backport-macos-crash-on-pthread-kill-when-render-texture-has-no-depth-buffer-and-dimension-is-3d))
    
*   Graphics: Fixed crash when loading a specific window layout on the Mac editor. ([UUM-11907](https://issuetracker.unity3d.com/issues/unity-2021-dot-3-slash-arf-5-dot-0-pre-dot-12-layout-specific-graphics-driver-crash-on-intel-macbook-pro))
    
*   Graphics: Fixed depth-only rendering to Texture2DArray not working on Metal. ([UUM-14488](https://issuetracker.unity3d.com/issues/texture2darray-depth-format-does-not-work-when-using-macos-with-an-m1-macbook))
    
*   Graphics: Fixed metal shader compilation error when using bit-shift operations to create the destination vector from the scalar source. ([UUM-16113](https://issuetracker.unity3d.com/issues/ios-macos-assertion-failed-errors-appear-when-using-bit-shift-operations))
    
*   IL2CPP: Corrected handle enums declared inside a generic type. (UUM-612)
    
*   IL2CPP: Corrected the behavior of the System.IO.Compression.ZipArchive API. ([UUM-14582](https://issuetracker.unity3d.com/issues/il2cpp-test-fails-when-writing-a-ziparchive-into-a-ziparchiveentry-within-a-parent-ziparchive))
    
*   IL2CPP: Fixed compilation error that occurred when a enum was passed by reference in a marshalling definition. ([UUM-11353](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-enum-marshaling))
    
*   IL2CPP: Fixed crash in IL2CPP metadata code when loading a field RVA value. (UUM-17473)
    
*   IL2CPP: Fixed exception when calling Enum.CompareTo on enum with a System.Uint16 underling type. ([UUM-11944](https://issuetracker.unity3d.com/issues/il2cpp-object-must-be-the-same-type-as-the-enum-exception-is-thrown-when-using-sorteddictionary))
    
*   IL2CPP: Fixed sporadic ArgumentOutOfRangeException during code conversion. ([UUM-10403](https://issuetracker.unity3d.com/issues/error-il2cpp-error-for-type-system-dot-net-dot-webheadercollection-slash-rfcchar-is-thrown-when-building-on-webgl-platform))
    
*   IL2CPP: Fixed syntax error: ')' " when "Faster (smaller) builds" is selected on function pointer call with a return type but no parameters. ([UUM-14778](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-with-error-c2059-syntax-error-when-faster-smaller-builds-is-selected))
    
*   IL2CPP: Implement the Assembly.Location property. (UUM-15152)
    
*   IL2CPP: Improved error messages for unsupported Process API methods. ([UUM-11147](https://issuetracker.unity3d.com/issues/player-crashes-when-processs-priority-is-set-to-high-and-using-il2cpp-scripting-backend))
    
*   iOS: Fixed unity view behavior when in "split view". ([UUM-9081](https://issuetracker.unity3d.com/issues/ios-players-resolution-changes-when-opening-a-scene-with-a-different-orientation-if-using-split-view))
    
*   Kernel: Fixed AssertOnRecursiveCall with tests. ([UUM-13234](https://issuetracker.unity3d.com/issues/assertonrecursivecall-dot-does-not-works))
    
*   Linux: Fixed CinemachineVirtualCamera Component's body's "ScreenY" and "ScreenX" values move towards 1.5 while pressing and moving the mouse. ([UUM-14611](https://issuetracker.unity3d.com/issues/linux-cinemachinevirtualcamera-components-bodys-screeny-and-screenx-values-move-towards-1-dot-5-while-pressing-and-moving-the-mouse))
    
*   Linux: Fixed crash on Linux inside profiler memory sampling function. ([UUM-11011](https://issuetracker.unity3d.com/issues/linux-memory-leak-in-play-mode-with-profiler-window-open))
    
*   Linux: Fixed diagnostic switches can not be set using command line arguments. (UUM-10269)
    
*   Linux: Fixed right mouse button pasting in packman. ([UUM-2304](https://issuetracker.unity3d.com/issues/linux-package-manager-doesnt-let-paste-text-when-using-right-click-paste))
    
*   Linux: Fixed Scene view Flythrough mode does not work when using a non-lating alphabet based keyboard layout. ([UUM-5302](https://issuetracker.unity3d.com/issues/linux-scene-view-flythrough-mode-doesnt-work-when-using-a-non-latin-alphabet-based-keyboard-layout))
    
*   Linux: Fixed scrolling with the scroll wheel is slower on builds when using the New Input System package on Linux Standalone. ([UUM-12564](https://issuetracker.unity3d.com/issues/linux-scrolling-with-the-scroll-wheel-is-slower-on-builds-when-using-the-new-input-system-package))
    
*   Linux: Fixed second cursor appearing when toggling between hardware and software cursor modes on Standalone player and Play Mode on Editor. ([UUM-1594](https://issuetracker.unity3d.com/issues/linux-second-cursor-appears-in-build-after-setting-cursor-visibility-to-false-and-true-while-using-cursormode-dot-forcesoftware))
    
*   Linux: Updated Simple DirectMedia Layer to 2.0.22. (UUM-6773)
    
*   Mono: Fixed Editor liveness crash when processing RealProxy classes. ([UUM-13031](https://issuetracker.unity3d.com/issues/crash-on-mono-traverse-objects-when-using-appdomain-dot-unload-and-trying-to-load-dll-file))
    
*   Mono: Fixed issue where DeflateStream would swallow exceptions instead of throwing them. ([UUM-17185](https://issuetracker.unity3d.com/issues/decompressing-deflatestream-swallows-exceptions-when-they-are-thrown-by-the-wrapped-stream))
    
*   Particles: Fixed invert culling api when used with Particle Systems. ([UUM-890](https://issuetracker.unity3d.com/issues/particle-system-effects-are-not-flipped-inside-out-when-using-the-gl-dot-invertculling-function))
    
*   Physics: Fixed ArticulationBody SetDriveTargets and SetDriveTargetVelocities methods checking List capacity instead of count and improved the error message. ([UUM-12713](https://issuetracker.unity3d.com/issues/supplied-list-capacity-is-being-checked-instead-of-count-when-calling-articulationbody-dot-setdrivertargets-slash-setdrivetargetvelocities))
    
*   Prefabs: Fixed Rect tool is enabled for root Prefab in Context mode. Now it behaves similar to the other Transform tools. ([UUM-16728](https://issuetracker.unity3d.com/issues/position-rotation-and-scale-of-prefabs-can-be-manipulated-in-context-using-the-rect-transform-tool))
    
*   Profiler: Fixed freeze caused when opening profiler data recorded on Editor versions 2019.4.28f1 and prior. ([UUM-2234](https://issuetracker.unity3d.com/issues/profiler-freezes-when-loading-profiler-data-that-was-saved-in-unity-2019-dot-4-28f1-or-earlier))
    
*   PS4: Fixed the Param File Package Category Setting not being correctly overridden when a custom param file override was set in the Player Settings. (UUM-17357)
    
*   Scripting: ApiUpdater could corrupt sources when updating attributes with parameters.
    
*   Serialization: Avoid crash and log error message when struct assigned to SerializeReference field. ([UUM-661](https://issuetracker.unity3d.com/issues/crash-on-mono-class-is-subclass-of-internal-when-having-iserializationcallbackreceivers-on-a-specific-struct))
    
*   Serialization: Fixed performance regression reading yaml objects containing large number of SerializeReference instances which were created prior to 2021.2. ([UUM-15130](https://issuetracker.unity3d.com/issues/serializereference-content-in-yaml-from-prior-to-2021-dot-2-takes-much-longer-to-load))
    
*   Serialization: Fixed regression where if a mesh was used in VFX and included in an AssetBundle there could be indeterminism in its streaming info offset field. ([UUM-12721](https://issuetracker.unity3d.com/issues/assetbundle-indeterminism-caused-by-mesh-streaming-info))
    
*   Shaders: Fixed a rare crash when opening a project with compute shaders. ([UUM-10259](https://issuetracker.unity3d.com/issues/crash-on-setcurrentmemoryowner-when-opening-the-project))
    
*   Shaders: Fixed an incorrect error when drawing an instanced mesh and async shader compilation was enabled. ([UUM-13174](https://issuetracker.unity3d.com/issues/drawmeshinstanced-does-not-support-dot-dot-dot-error-in-the-console-pops-up-when-the-shader-does-support-instanced-rendering))
    
*   Shaders: Fixed metal code generation for shaders using IBFE opcode. (UUM-2292)
    
*   Shaders: Fixed Shader Variant Collection UI not working correctly with shaders with stage-specific keywords. ([UUM-12220](https://issuetracker.unity3d.com/issues/some-shader-variants-dont-show-up-when-vertex-is-added-to-shader-code))
    
*   Shaders: Material.SetOverrideTag will now warn when trying to override LightMode. ([UUM-11988](https://issuetracker.unity3d.com/issues/material-dot-setoverridetag-setting-lightmode-tag-has-no-effect))
    
*   uGUI: Updated the Raycast Target property at runtime even if started as disabled. ([UUM-2221](https://issuetracker.unity3d.com/issues/backport-animated-image-property-raycast-target-does-not-function-when-disabled-before-entering-play-mode))
    
*   UI Toolkit: Fixed an issue where the dragger of a slider would become visually corrupted after toggling the showMixedValue property. ([UUM-13013](https://issuetracker.unity3d.com/issues/slider-handle-position-is-offset-when-sliders-showmixedvalue-value-is-changed))
    
*   UI Toolkit: Fixed invalid vertex count shown for UIToolkit draw calls in the frame debugger and the game view statistics. ([UUM-2725](https://issuetracker.unity3d.com/issues/uitoolkit-uitoolkit-accumulating-total-extra-vertices-and-draw-calls-when-objects-made-hidden-slash-visible))
    
*   UI Toolkit: Fixed rendering glitch on circles caused by incorrect geometry. (UUM-10297)
    
*   UI Toolkit: Fixed UI Toolkit throwing InvalidOperationExceptions when Input Manager isn't accessible. ([UUM-6611](https://issuetracker.unity3d.com/issues/backport-invalidoperationexception-gets-thrown-in-the-console-when-using-the-new-input-system))
    
*   UI Toolkit: Fixed visual artifact when border width is larger than border radius. (UUM-10298)
    
*   UI Toolkit: Fixed yoga bug when calculating margin in percentage to be relative to parent instead of current item. ([UUM-12999](https://issuetracker.unity3d.com/issues/a-button-gets-expanded-when-its-margins-are-set-in-percentage))
    
*   UI Toolkit: \[UI Builder\] ProgressBar Component is missing a field for setting the current value. ([UUM-496](https://issuetracker.unity3d.com/issues/ui-builder-progressbar-component-is-missing-a-field-for-setting-the-current-value-1))
    
*   Universal RP: Broken setters which could cause infinite loop in URP pipeline asset. ([UUM-18025](https://issuetracker.unity3d.com/issues/multiple-c4717-errors-in-unity-dot-renderpipelines-dot-universal-dot-runtime2-dot-cpp-when-deploying-the-uwp-solution))
    
*   Video: Fixed virtual camera not playing due to DevicePath missing. ([UUM-3367](https://issuetracker.unity3d.com/issues/could-not-find-specified-video-device-error-when-using-webcamtexture-with-obs-virtual-camera))
    
*   Video: VP8 Video Encoder bitrate corrected to use bps instead of kbps. (UUM-12918)
    
*   Video: \[WebGL\] Video Player updates to a previously sought frame when seeking a paused video. ([UUM-11808](https://issuetracker.unity3d.com/issues/webgl-video-player-updates-to-a-previously-sought-frame-when-seeking-a-paused-video))
    
*   Web: Updated UglifyJS from 2.7.5 to 3.17.0. (UUM-6914)
    
*   WebGL: Added warning that WebGL builds with the Linux Editor require glibc 2.27 or later (i.e. Ubuntu 18+). ([UUM-1156](https://issuetracker.unity3d.com/issues/give-error-when-building-webgl-on-centos7))
    
*   WebGL: Use glGetBufferSubData in AsyncGPUReadback Request for WebGL builds. ([UUM-7112](https://issuetracker.unity3d.com/issues/webgl-runtime-error-appeared-when-asyncgpureadback-dot-request-dot-dot-dot-is-called))
    
*   Windows: Fixed IL2CPP runtime compilation failing when building C++ code using Visual Studio 2022 17.4 or newer. ([UUM-17921](https://issuetracker.unity3d.com/issues/il2cpp-windows-builds-fails-when-using-vs-2022-17-dot-4-0-preview))

### Known Issues in 2021.3.13f1

*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Hierarchy: Undo action is not registered when undoing GameObjects list order in the Hierarchy window ([UUM-16576](https://issuetracker.unity3d.com/issues/undo-action-is-not-registered-when-undoing-gameobjects-list-order-in-the-hierarchy-window))
    
*   Shader System: "Assertion failed on expression: 'm\_BuffersToBind\[shaderType\]\[bind\].buffer == NULL'" is thrown when entering the play mode ([UUM-17421](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-m-bufferstobind-shadertype-bind-dot-buffer-equals-equals-null-is-thrown-when-entering-the-play-mode))
    
*   Universal RP: Shader compilation time is higher in 2021.3 than in 2020.3 ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR SRP: Meta Quest performance loss between URP versions when built ([UUM-15608](https://issuetracker.unity3d.com/issues/meta-quest-performance-loss-between-urp-versions-when-built))
    

### 2021.3.13f1 Release Notes

#### Features

*   Input System: Backport for Windows Gaming Input implementation allowing 5+ xbox controllers at the time.

#### Improvements

*   Graphics: Improved AlphaIsTransparency API docs and tooltip. ([UUM-2364](https://issuetracker.unity3d.com/issues/color-artifacts-in-imported-textures-when-alpha-source-is-set-to-input-texture-alpha))
    
*   Multiplayer: Added Netcode for GameObjects 1.0.2.
    
*   Undo System: The Undo history now records the name of changed properties ("Modified Intensity") instead of just showing "Modified Property".
    

#### API Changes

*   URP: Added: Added public api and updated docs for Light2D shape properties.

#### Changes

*   Universal RP: Messages regarding reducing resolution for additional punctual lights are now only displayed in debug builds. ([UUM-10166](https://issuetracker.unity3d.com/issues/urp-reduced-additional-punctual-light-shadows-resolution-warnings-are-being-thrown-on-playmode-enter-slash-exit-1))
    
*   Version Control: Changed the "Go back to changeset" option in Changesets tab to "Revert to changeset"  
    Improved notification banner appearance.
    
*   XR: The Oculus XR Plugin package has been updated to 3.1.1.
    
*   XR: The Oculus XR Plugin package has been updated to 3.2.1 with support for Quest Pro.
    

#### Fixes

*   2D: Fixed Sprite Editor causes error when editing sprites in playmode. (UUM-12181)
    
*   2D: Updated API docs to reflect the behaviour of setting SpriteRenderer.size property. ([UUM-13795](https://issuetracker.unity3d.com/issues/targetrenderer-dot-size-returns-wrong-value-when-setting-targetrenderer-dot-sprite-to-null))
    
*   AI: Colliders set as trigger are excluded from NavMesh generation. ([UUM-10109](https://issuetracker.unity3d.com/issues/trigger-volumes-are-included-in-nav-mesh-generation-for-navmeshsurface-when-geometry-is-set-to-physics-colliders))
    
*   AI: Patches of the generated NavMesh were sometimes getting the area type from distant objects below due to their connection through a sloped wall. ([UUM-3457](https://issuetracker.unity3d.com/issues/navmesh-modifiers-influence-navmesh-areas-far-above-them-on-asset-edges-when-using-notwalkable-or-water-modifier))
    
*   Android: Fixed crash if Java proxy is invoked at the same time as Unity is quit. (UUM-15968)
    
*   Android: New Input System's Keyboard class will treat DPad Center button clicks as Key.Enter. Since that's hold the old input was treating them. ([UUM-882](https://issuetracker.unity3d.com/issues/backport-input-system-unity-does-not-register-amazon-fire-tv-remotes-d-pad-center-button-press))
    
*   Android: Used fixed instancing batch size on PowerVR GPUs on Android with OpenGL ES to avoid long compile times in shader warmup. ([UUM-739](https://issuetracker.unity3d.com/issues/shader-variants-causes-freeze-on-android-devices-with-powervr-gpu-when-gpu-instancing-is-enabled))
    
*   Asset Import: Fixed out of bounds exception on empty array access when importing SpeedTree billboards with no mesh data. (UUM-8950)
    
*   Audio: Fixed audio mixer groups not visible from the packages. ([UUM-369](https://issuetracker.unity3d.com/issues/audio-mixer-groups-are-not-displayed-in-object-picker-when-located-in-a-package))
    
*   Audio: Made preLoadAudioData a per platform setting instead of a global default setting. ([UUM-362](https://issuetracker.unity3d.com/issues/audioimporter-preload-audio-data-setting-is-showing-up-in-per-platform-settings-but-is-changed-for-every-platform))
    
*   Burst: Alongside update burst packages, burst will now correctly handle projects whose paths contain ;'s. (UUM-8322)
    
*   Editor: Ensure that only the manifest version and patches of that version are tagged as Release in Package Manager. (UUM-8938)
    
*   Editor: Ensured PropertyDatabase doesn't stay lock even if Unity crashes. (UUM-14553)
    
*   Editor: Fixed a case where `OnBecameVisible` could be invoked multiple times without a corresponding `OnBecameInvisible`. ([UUM-12133](https://issuetracker.unity3d.com/issues/duplicate-delegates-are-added-to-editorapplication-dot-update-after-maximizing-then-minimizing-the-game-or-scene-view))
    
*   Editor: Fixed a crash when stop a playable director and evaluating at the same time in a notification output. ([UUM-14640](https://issuetracker.unity3d.com/issues/crash-sigsev-in-playabledirector-dot-stop-nativecode-slash-directormanager-initializeclass))
    
*   Editor: Fixed deadlock scenario in shader compiler. (UUM-14040)
    
*   Editor: Fixed for dragging window across boundaries of multiple monitors. (UUM-8701)
    
*   Editor: Fixed gizmo rendering of a selected area in a Hexagonal Grid with a non-zero Z position.
    
*   Editor: Fixed lost references to AnimationClips when the ModelImporter clips settings are modified for the first time. ([UUM-2203](https://issuetracker.unity3d.com/issues/backport-assetimporter-updating-existing-animationclip-import-setting-results-in-a-new-internalid-and-lost-references-to-the-clip))
    
*   Editor: Fixed Mac Editor crash that happened in multi-scene builds that were using BuildOptions.DetailedBuildReport. ([UUM-1964](https://issuetracker.unity3d.com/issues/android-segmentation-fault-11-error-is-thrown-when-project-is-built-using-batch-mode))
    
*   Editor: Fixed the 'texture scheduled for reimport during Refresh Loop' error when importing SpeedTree assets with color textures. (UUM-9835)
    
*   Editor: Frame Debugger: Fixed an issue where the window would constantly refresh when debugging a remote device. ([UUM-4096](https://issuetracker.unity3d.com/issues/mobile-frame-debugger-constantly-refreshes-when-making-a-ui-update-for-frame-debug-window))
    
*   Editor: Motion blur now works with multiple cameras. (UUM-10155)
    
*   GI: Added proper clamping of Lightmap Streaming Priority in Player Settings window. ([UUM-10016](https://issuetracker.unity3d.com/issues/lightmap-streaming-priority-fields-value-doesnt-change-when-an-unacceptable-value-is-entered))
    
*   GI: Fixed failing assert by relaxing precision requirement in Ray's IsNormalized check. ([UUM-2787](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-isnormalized-on-guiutility-processevent-when-the-directional-light-is-positioned-particularly))
    
*   Graphics: Fixed ShadowMaps resolving AA when not necessary. (UUM-13371)
    
*   HDRP: Fixed compilation errors (ambiguous call to 'clamp') on ps5 shaders related to Raytracing. (UUM-16232)
    
*   iOS: Fixed orientation handling on startup (when the phone is rotated between starting up and showing unity itself). ([UUM-7461](https://issuetracker.unity3d.com/issues/input-dot-gyro-dot-gravity-inverted-sign-on-x-and-y-axis-depending-on-ios-device-orientation-when-app-starts))
    
*   Linux: Fixed "ExternalProcess::OnExitedMainThread" logged in the Console window when closing Profiler (Standalone Process) window. ([UUM-5888](https://issuetracker.unity3d.com/issues/profiler-linux-rocky-externalprocess-onexitedmainthread-logged-in-the-console-window-when-closing-profiler-standalone-process-window))
    
*   Package Manager: Confusing package type in the inspector must be removed. ([UUM-1837](https://issuetracker.unity3d.com/issues/backport-remove-confusing-message-from-package-inspector-window-this-package-and-all-its-assets-will-be-dot-dot-dot))
    
*   Package Manager: Fixed an issue where .unitypackage dependencies exported from an older editor were not updated when importing in a newer editor. ([UUM-15081](https://issuetracker.unity3d.com/issues/importing-a-unitypackage-does-not-upgrade-its-dependencies-using-the-editor-manifest-based-upgrade-logic))
    
*   Particles: Ensured GetTriggerParticles always returns the correct results. ([UUM-14581](https://issuetracker.unity3d.com/issues/gettriggerparticles-returns-0-every-few-frames-when-getting-a-number-of-particles-inside))
    
*   Physics: Fixed Physics.CapsuleCast extremely rarely finding a false hit against a non-convex mesh. ([UUM-7402](https://issuetracker.unity3d.com/issues/capsulecastall-returns-a-false-hit-in-a-specific-location-of-a-concave-meshcollider-when-use-fast-midphase-is-enabled))
    
*   Prefabs: Handle ManagedReferences that cannot be applied or reverted in Prefab instances. Also make sure the root of the Managed Reference can be applied to apply sub fields that are overriden. ([UUM-5961](https://issuetracker.unity3d.com/issues/managedreferences-on-a-prefab-instance-that-cannot-be-applied-or-reverted-to-the-prefab-asset-needs-to-be-handled))
    
*   Scene/Game View: Fixed `HandleUtility.WorldPointToSizedRect` incorrectly calculating contents rect when applying `TextAnchor`. ([UUM-16503](https://issuetracker.unity3d.com/issues/a-label-changes-its-size-when-changing-the-text-anchor-using-handles-dot-label-function))
    
*   Scene/Game View: Fixed `SceneView` incorrectly subscribing to `EditorApplication.update` multiple times when maximizing and un-maximizing window. ([UUM-12133](https://issuetracker.unity3d.com/issues/duplicate-delegates-are-added-to-editorapplication-dot-update-after-maximizing-then-minimizing-the-game-or-scene-view))
    
*   Scripting: Fixed Scripting Defines Symbols not being shown correctly in the Player Settings for platforms that aren't the default platform (usually the Editor's platform). ([UUM-15556](https://issuetracker.unity3d.com/issues/scripting-define-symbols-list-is-overwritten-on-all-platforms-when-changes-have-not-yet-been-applied-on-one-platform))
    
*   Scripting: When using ObjectFactory.CreateInstance with a custom type deriving directly from UnityEngine.Object, a clearer exception message is thrown. ([UUM-7896](https://issuetracker.unity3d.com/issues/argumentexception-thrown-when-calling-objectfactory-dot-createinstance-with-a-custom-class-inheriting-from-unityengine-dot-object-1))
    
*   SRP Core: Fixed shadow cascade editor. (UUM-12585)
    
*   uGUI: Fixed the NullReferenceException when using Tile image types with a sprite atlas being omitted from build. ([UUM-4340](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-on-ui-dot-image-dot-generatetiledsprite-when-image-type-is-set-to-tiled))
    
*   uGUI: Fixed various issues with Canvas. ([UUM-15518](https://issuetracker.unity3d.com/issues/canvas-is-still-receiving-input-after-the-canvas-was-disabled))
    
*   UI Toolkit: Fixed a bug in play mode where ScrollView offset would reset to zero when doing drag operations on controls inside it. ([UUM-10441](https://issuetracker.unity3d.com/issues/ui-panel-position-resets-when-sliders-are-scrolled-in-play-mode))
    
*   UI Toolkit: Fixed an issue where a ListView with a single item would not display correctly on different dpi scales. ([UUM-3643](https://issuetracker.unity3d.com/issues/a-listview-containing-a-single-item-does-not-show-the-item))
    
*   UI Toolkit: Fixed an issue where creating a UI Document would re-generate the UXML schema files every time. ([UUM-3985](https://issuetracker.unity3d.com/issues/creating-a-ui-document-takes-too-much-time))
    
*   UI Toolkit: Fixed backspace support on linux. ([UUM-3695](https://issuetracker.unity3d.com/issues/linux-backspace-has-no-effect-on-ui-toolkit-text-fields-when-an-event-system-is-present-in-the-scene))
    
*   UI Toolkit: Fixed UxmlValueBounds setting invalid facet value for undefined bound. ([UUM-5696](https://issuetracker.unity3d.com/issues/xmlschemaexception-error-appears-when-creating-uidocument-in-ui-toolkit-1))
    
*   Universal RP: Fixed a resource leak when switching between scenes with different pipeline assets. (UUM-14239)
    
*   Universal RP: Fixed artifacts on mobile targets by changing some halfs to floats in Normals logic. ([UUM-11325](https://issuetracker.unity3d.com/issues/urp-mobile-precision-related-noise-appears-around-specular-highlights-when-using-android-or-ios-platform))
    
*   Universal RP: Fixed disappearing UI when changing Render Scale. ([UUM-14751](https://issuetracker.unity3d.com/issues/ui-disappears-when-changing-the-render-scale-value))
    
*   Universal RP: Fixed graphics stereo tests.
    
*   URP: Fixed URP Deferred Fog pass does not work in XR singlepass. ([UUM-9229](https://issuetracker.unity3d.com/issues/backport-xr-urp-fog-is-shifted-in-the-right-eye-when-deferred-rendering-path-is-used-with-single-pass-instanced-render-mode))
    
*   URP: Materials that use Autodesk Interactive shader are now converted correctly. ([UUM-5501](https://issuetracker.unity3d.com/issues/urp-render-pipeline-converter-converts-and-assigns-shader-to-internalerrorshader-when-the-shader-is-broken-before-converting-1))
    
*   Version Control: Fixed editor refresh triggering when a workspace update is in progress.  
    Fixed pending changes show global ignored as private.  
    Removed encryption checkbox from create organization dialog.
    
*   WebGL: Added fallback configuration for company name, product name and product version to ensure the web cache is always enabled. (UUM-3944)
    
*   WebGL: Fixed a bug where WebGL would run in low power mode in some browsers. ([UUM-7962](https://issuetracker.unity3d.com/issues/webgl-context-powerpreference-should-default-to-high-performance))
    
*   WebGL: Fixed brotli compressed webgl builds on Mac/Linux editors. (UUM-1145)
    
*   WebGL: Fixed bug where the cursor would transition back to the system cursor rather than the Unity default cursor. ([UUM-1158](https://issuetracker.unity3d.com/issues/in-webgl-player-default-cursor-resets-to-system-default-cursor-when-leaving-ui-document-which-sets-a-custom-cursor))
    
*   WebGL: Fixed bug where the old input system wasn't recognizing stationary touch input. ([UUM-1137](https://issuetracker.unity3d.com/issues/webgl-touchphase-dot-stationary-not-working-on-webgl-build))
    
*   Windows: Fixed cursor position not updated when using pen tablet with Windows Ink enabled. ([UUM-10258](https://issuetracker.unity3d.com/issues/cursor-position-does-not-update-when-using-pen-tablet-with-windows-ink-enabled))
    
*   Windows: Fixed Input.mousePosition not updated when using a tablet. ([UUM-11989](https://issuetracker.unity3d.com/issues/input-dot-mouseposition-does-not-update-when-using-a-tablet-1))
    
*   Windows: Windows player executable no longer contains "Unity playback engine" text in its property sheets. ([UUM-15330](https://issuetracker.unity3d.com/issues/windows-player-exe-contains-unwanted-properties-causing-text-unity-playback-engine-to-appear-in-task-bar-when-mousing-over-it))

### Known Issues in 2021.3.12f1

*   Asset Importers: Textures are not generated when Naming option in Import Settings of an FBX file is changed to "From Model's Material" ([UUM-3640](https://issuetracker.unity3d.com/issues/textures-are-not-generated-when-naming-option-in-import-settings-of-an-fbx-file-is-changed-to-from-models-material-1))
    
*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Optimization: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Progress Window: \[2021.3\]\[MacOS\] Crash when calling "Progress.Pause" from a script ([UUM-14845](https://issuetracker.unity3d.com/issues/2021-dot-3-macos-crash-when-calling-progress-dot-pause-from-a-script))
    
*   Scene Hierarchy: Undo action is not registered when undoing GameObjects list order in the Hierarchy window ([UUM-16576](https://issuetracker.unity3d.com/issues/undo-action-is-not-registered-when-undoing-gameobjects-list-order-in-the-hierarchy-window))
    
*   Universal RP: Shader compilation time is higher in 2021.3 than in 2020.3 ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR SRP: Meta Quest performance loss between URP versions when built ([UUM-15608](https://issuetracker.unity3d.com/issues/meta-quest-performance-loss-between-urp-versions-when-built))
    

### 2021.3.12f1 Release Notes

#### Improvements

*   Animation: Improved animation performance across the board
    
*   Editor: Reduced the time taken to open inspectors by avoiding a pointless copy of a big thing behind the scenes
    
*   Shadergraph: Reduced time taken by code generation when a shader graph asset is imported
    
*   VFX Graph: Reduced time taken by code generation when a VFX asset is imported
    

#### API Changes

*   iOS: Added: Added identifiers for iPhone 14 models.
    
*   Shaders: Added: Added an API to control shader memory usage at runtime. ([UUM-5583](https://issuetracker.unity3d.com/issues/unlit-shader-uses-more-than-100mb-of-memory-when-in-player))
    

#### Changes

*   Editor: Update com.xr.sdk.openxr package version to 1.5.3
    
*   Editor: Updated manifest.json to use com.unity.inputsystem package version 1.4.3
    
*   XR: Updated the verified version of AR Foundation related packages to 4.2.6.
    

#### Fixes

*   2D: Fixed regression where GameObjects are not instantiated by Tiles when the Tilemap is not active. ([UUM-14293](https://issuetracker.unity3d.com/issues/tilemap-dot-settiles-doesnt-work-when-the-gameobject-is-deactivated))
    
*   Android: Fixed exporting the Android Studio project to a non-existing folder using Editor API. ([UUM-1886](https://issuetracker.unity3d.com/issues/backport-buildpipeline-dot-buildplayer-throws-the-build-cannot-be-appended-exception-when-using-acceptexternalmodificationstopla))
    
*   Android: Interaction with PS4 touchpad won't cause navigational movement when using UGUI together with input system package. ([UUM-881](https://issuetracker.unity3d.com/issues/backport-android-ugui-newinputsystem-controller-touchpad-keyboard-is-opened-after-clicking-button-when-using-touchpad))
    
*   Animation: Added back old method signature for backward compatibility. ([UUM-1812](https://issuetracker.unity3d.com/issues/backport-animancer-is-throwing-missingmethodexception-errors-when-entering-play-mode-in-the-animancer-scenes))
    
*   Asset Import: Fixed editor crash when importing a folder with an FBX file where its optimizeBones is set to 0. ([UUM-9463](https://issuetracker.unity3d.com/issues/backport-mac-editor-crashes-when-importing-a-folder-with-an-fbx-file-and-its-meta-file-where-optimizebones-is-set-to-0))
    
*   Asset Import: Fixed import of some meshes with Blend Shape Normals set to Calculate. ([UUM-7867](https://issuetracker.unity3d.com/issues/fbx-model-breaks-when-normals-and-blend-shape-normals-properties-under-model-tab-are-set-to-calculate))
    
*   Audio: Fixed unexpected output from OnAudioFilterRead when the audio source is stopped and the 'spatialize' property is enabled. ([UUM-6318](https://issuetracker.unity3d.com/issues/stopped-audio-souce-outputs-audio-when-the-spatialize-property-is-enabled))
    
*   Build Pipeline: Fixed edge case where isDebugBuild would not revert to true after the build. ([UUM-12064](https://issuetracker.unity3d.com/issues/isdebugbuild-returns-false-in-the-editor-when-its-value-is-checked-after-a-build-1))
    
*   Editor: Add warning log when the size of a Sprite in a Secondary Texture used in a Sprite Atlas does not match its size in the Main Texture. ([UUM-11164](https://issuetracker.unity3d.com/issues/the-normal-map-on-the-tilemap-stops-working-after-pressing-the-play-button))
    
*   Editor: Fixed build process should be quicker to detect scripting backend changes when building to a pre-used folder (1421700). ([UUM-1949](https://issuetracker.unity3d.com/issues/build-doesnt-fail-instantly-when-building-with-a-different-backend-over-an-existing-build))
    
*   Editor: Fixed case where Editor would crash when a selected renderer was deleted. ([UUM-3249](https://issuetracker.unity3d.com/issues/editor-crashes-when-exiting-the-play-mode-while-a-certain-gameobject-is-selected))
    
*   Editor: Fixed crash in standalone profiler during shutdown. ([UUM-13932](https://issuetracker.unity3d.com/issues/standalone-profiler-crash-in-rtlentercriticalsection-on-exit))
    
*   Editor: Fixed crash when opening scenes in builds that had missing Prefab sources. ([UUM-2546](https://issuetracker.unity3d.com/issues/crash-on-build-when-running-the-build-with-missing-prefabs))
    
*   Editor: Fixed dragging prefab with ctrl on linux. ([UUM-1601](https://issuetracker.unity3d.com/issues/linux-ghost-assets-are-left-in-the-scene-while-drag-and-dropping-prefabs-to-scene-while-holding-ctrl-key))
    
*   Editor: Fixed inspector and documentation to reflect intended behavior. ([UUM-2392](https://issuetracker.unity3d.com/issues/urp-greyed-out-culling-mask-option-still-takes-effect-when-light-layers-are-enabled))
    
*   Editor: Fixed light layers when using motion vectors. ([UUM-15125](https://issuetracker.unity3d.com/issues/hdrp-enable-both-light-layers-and-decal-layers-breaks-visual-environment-on-skinned-mesh-renderers))
    
*   Editor: Fixed SceneVisibilityManager exceptions when using shortcuts with no Hierarchy window. ([1425103](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-hiding-a-gameobject-while-the-scene-view-is-maximized))
    
*   Editor: Fixed the "Auto-hide gizmos" preference in the Scene View page to persist value when reopening the editor. ([UUM-7848](https://issuetracker.unity3d.com/issues/auto-hide-gizmos-preference-is-not-saved-when-reopening-the-project))
    
*   Editor: Fixed the persistence of the position of overlays when closing and reopening the editor. ([UUM-9975](https://issuetracker.unity3d.com/issues/the-tools-panel-position-changes-back-to-default-when-reopening-the-project))
    
*   Editor: Prevented exceptions if ShortcutManager cannot read profile id from file. (UUM-9220)
    
*   GI: Fixed an issue where emission color was erroneously reused for different renderers using the same material when they have similar lightmap UVs. ([UUM-2771](https://issuetracker.unity3d.com/issues/color-of-baked-lightmaps-is-incorrect-when-a-material-with-emission-is-present-and-generate-lightmap-uvs-is-enabled))
    
*   Graphics: Added error message for indirect compute buffers incorrectly flagged on DX11. ([UUM-899](https://issuetracker.unity3d.com/issues/backport-unable-to-modify-rwstructuredbuffer-elements-via-indirect-dispatch-of-a-compute-shader-when-using-the-direct3d11-api))
    
*   Graphics: Fixed an issue where TextureImporter.GetAutomaticFormat would return the incorrect format for platforms that had their override turned off. ([UUM-11694](https://issuetracker.unity3d.com/issues/textureimporter-dot-getautomaticformat-doesnt-return-the-correct-format-when-override-for-os-is-turned-off))
    
*   Graphics: Fixed crash when using bad args in CommandBuffer.DrawRenderer. ([HRB-20](https://issuetracker.unity3d.com/issues/backport-crash-when-trying-to-render-a-specific-submesh-with-commandbuffer-dot-drawrenderer))
    
*   Graphics: Fixed issue in which editor would get stuck when importing corrupted FBX models. ([UUM-3981](https://issuetracker.unity3d.com/issues/editor-get-stuck-loading-when-importing-corrupted-fbx-models))
    
*   Graphics: Fixed sporadic freeze in mesh upload. (UUM-4293)
    
*   Graphics: Fixed Vulkan validation error when GFR is disabled. (UUM-9583)
    
*   Graphics: Graphic and Compute Buffer allocations will now allocate less garbage collected memory. ([UUM-4005](https://issuetracker.unity3d.com/issues/backport-graphicsbuffers-constructor-and-other-api-that-returns-graphicsbuffers-allocate-garbage))
    
*   Graphics: Updated libjpeg-turbo to version 2.1.2 to solve security issues with version 1.3.1, used by Texture2D and ImageConversion LoadImage API and ImageConversion EncodeToJPG API. (UUM-4950)
    
*   HDRP: Fixed over exposition in indoor template scenes. ([UUM-11455](https://issuetracker.unity3d.com/issues/hdrp-default-volumetric-clouds-overexpose-indoor-template))
    
*   HDRP: Shaders correctly fallback to error shader. (UUM-1417)
    
*   IL2CPP: Avoid an exception from Buffer.BlockCopy when the destination array is of type sbyte. ([UUM-12875](https://issuetracker.unity3d.com/issues/android-sbyte-type-is-considered-to-be-not-primitive-when-compiling-il2cpp-code))
    
*   IL2CPP: Avoid an intermittent crash in the .NET thread pool implementation when a thread is incorrectly removed from the pool twice. ([UUM-11191](https://issuetracker.unity3d.com/issues/android-il2cpp-system-dot-threading-dot-threadpool-sometimes-causes-player-to-crash-when-queueing-tasks))
    
*   IL2CPP: Corrected the build of a Mac Standalone player with an exported Xcode project when script debugging is enabled. ([UUM-11352](https://issuetracker.unity3d.com/issues/il2cpp-xcode-build-fails-when-building-an-exported-project-with-script-debugging-enabled))
    
*   IL2CPP: Fixed fatal error in Unity CIL Linker with RecognizedReflectionAccessPattern reporting. ([UUM-13281](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-with-fatal-error-in-unity-cil-linker-when-using-unitylinker))
    
*   IL2CPP: Fixed possible crash/corruption when invoking a virtual generic method on a generic type by reflection or when Faster (smaller) builds is enabled. ([UUM-12498](https://issuetracker.unity3d.com/issues/il2cpp-build-crashes-when-symbols-cannot-be-found))
    
*   IL2CPP: Workaround an MSVC C++ compiler optimization bug related the Math.Max implementation for System.Decimal. ([UUM-11487](https://issuetracker.unity3d.com/issues/decimal-function-values-are-incorrect-when-running-the-build-with-il2cpp-scripting-backend))
    
*   iOS: Disabled depth16 support on pre-iOS14 or pre-A9, since depth-bias does not work correctly. (UUM-9562)
    
*   iOS: Stop Touch.rawPosition changing position when touch is dragged. ([UUM-7581](https://issuetracker.unity3d.com/issues/ios-touch-dot-rawposition-changes-position-when-touch-is-dragged))
    
*   Mono: Avoid an editor crash when the debugger code fails to lookup the signature of a method. ([UUM-9219](https://issuetracker.unity3d.com/issues/crash-on-method-commands-internal-when-unity-is-attached-to-visual-studio-and-a-breakpoint-is-set))
    
*   Mono: Avoid exception when registering a window class in different domain instances. ([UUM-13189](https://issuetracker.unity3d.com/issues/crash-on-callwindowprocw-when-opening-windows-form-in-play-mode))
    
*   Mono: Fixed LINQ performance regression on linux by switching to a more efficient stack checking method. ([UUM-11526](https://issuetracker.unity3d.com/issues/linux-c-number-reflection-performance-is-50-to-60-times-slower))
    
*   Networking: UnityWebRequest will not change HEAD to GET on 302 or 303 response. (UUM-7274)
    
*   Networking: Upgraded curl to 7.84.0. (UUM-11134)
    
*   Package Manager: Fixed an issue where having packages with a lot of versions increases domain reload time drastically. ([UUM-12670](https://issuetracker.unity3d.com/issues/memory-usage-increases-when-entering-play-mode-with-the-package-manager-window-open))
    
*   Physics: Fixed ArticulationBody indices not matching when using methods like GetJointPositions and GetDriveTargets. ([UUM-1805](https://issuetracker.unity3d.com/issues/backport-data-indices-dont-match-when-using-articulationbody-getdrivetargets-and-getjointpositions))
    
*   Profiler: Fixed issue on Metal where an error message about texture binding may appear in some situations. ([UUM-907](https://issuetracker.unity3d.com/issues/backport-metal-fragment-shader-missing-texture-binding-at-index-0-warning-produced-on-switching-to-timeline-mode-in-profile))
    
*   Scene Manager: Opening a broken scene with light mapping enabled could crash the editor. ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   Scene/Game View: Fixed case where gizmos with bounds near the camera could be incorrectly culled. (UUM-9158)
    
*   Scripting: Fixed an issue where projects with Entities 0.51-preview.32 would fail to load if build target is WebGL
    
*   Serialization: Prevent "Objects are trying to be loaded during a domain backup. This is not allowed as it will lead to undefined behaviour!" from occuring on DomainReload when SerializeReference instance contained a Unity.Object reference to an already unloaded asset. ([UUM-2116](https://issuetracker.unity3d.com/issues/deleting-a-private-material-in-custompass-dot-cleanup-causes-a-objects-are-trying-to-be-loaded-during-a-domain-backup-error-when-domain-reloads))
    
*   Shaders: Exposed Player settings to control shader memory usage at runtime. ([UUM-5583](https://issuetracker.unity3d.com/issues/unlit-shader-uses-more-than-100mb-of-memory-when-in-player))
    
*   UI Toolkit: Fixed an issue where the children of a TwoPaneSplitView would have incorrect sizes when displayed after being hidden. ([UUM-2538](https://issuetracker.unity3d.com/issues/twopanesplitview-pane-resets-to-its-minimum-size-when-hidden-and-shown-again))
    
*   UI Toolkit: Fixed EventSystem error logged in Editor when entering and leaving Play mode if there's a UIDocument in the scene. (UUM-10360)
    
*   UI Toolkit: Fixed for 2021.3.X: \[UI Builder\] @import is stripped from the associated .uss file when saving .uxml. ([UUM-14414](https://issuetracker.unity3d.com/issues/ui-builder-at-import-is-stripped-from-the-associated-uss-file-when-saving-uxml-1))
    
*   Undo System: Fixed Editor crash on GetTransformAccess when undoing GameObject duplication. ([UUM-13617](https://issuetracker.unity3d.com/issues/2021-dot-3-editor-cashes-on-gettransformaccess-when-undoing-duplication-of-a-canvasrenderer-gameobject))
    
*   Undo System: Fixed Undo.PerformUndo causes Editor crash when undoing reparented LineRenderer. (UUM-14123)
    
*   Universal RP: Fixed default URP asset being included in builds when it wasn't supposed to be (when URP asset overrides are available for all target's quality levels). (UUM-8487)
    
*   Universal Windows Platform: Fixed float values stored in player prefs getting corrupted on startup. ([UUM-14671](https://issuetracker.unity3d.com/issues/playerprefs-dot-getfloat-returns-wrong-values-when-used-in-uwp-build))
    
*   URP: Added force depth prepass option when requesting the Depth Texture. (UUM-8273)
    
*   URP: Shaders correctly fallback to error shader. (UUM-1417)
    
*   VFX Graph: Create a new system then convert an operator node to subgraphs fails. (UUM-2272)
    
*   VFX Graph: Fixed flickering when sorting large systems. (UUM-9514)
    
*   Video: Editor crashes when playing a video file with 14 audio tracks in Play mode. ([UUM-861](https://issuetracker.unity3d.com/issues/backport-editor-crashes-when-playing-a-video-file-with-14-audio-tracks-in-play-mode))
    
*   Video: Removed spike on the main thread when changing the video clip. ([UUM-878](https://issuetracker.unity3d.com/issues/backport-android-cpu-spike-occurs-on-videoplayer-dot-destroyplayback-when-stop-is-called-on-the-videoplayer-or-a-clip-is-changed))
    
*   Video: VideoPlayer throws errors when VideoClip loaded from AssetBundle nears the end. ([UUM-1888](https://issuetracker.unity3d.com/issues/backport-videoplayer-throws-errors-when-videoclip-loaded-from-assetbundle-nears-the-end))
    
*   Web: Allow Name Files As Hashes option for Development WebGL builds as well as Non-Development builds. ([UUM-1133](https://issuetracker.unity3d.com/issues/name-files-as-hashes-doesnt-work-when-building-a-development-build-player-on-the-webgl-platform))
    
*   WebGL: Fixed a bug where losing focus on the player would cause buttons to become stuck. ([UUM-3230](https://issuetracker.unity3d.com/issues/input-value-is-constantly-repeated-on-webgl-player-when-changing-focus-of-the-player))
    
*   WebGL: Fixed a bug where pressing the `CMD` key on Safari would cause buttons to become stuck. (UUM-12013)
    
*   WebGL: Fixed changing AudioSource.time while audio source is paused. ([UUM-1157](https://issuetracker.unity3d.com/issues/paused-audiosource-starts-playing-when-adjusting-audiosource-dot-time))
    
*   WebGL: Fixed division by zero error when calling AudioSource.time. ([UUM-2302](https://issuetracker.unity3d.com/issues/webgl-build-crashes-when-calling-audiosource-dot-time))
    
*   WebGL: Fixed immediate playback of scheduled audio source if AudioSource.time is changed. ([UUM-1147](https://issuetracker.unity3d.com/issues/in-webgl-player-audiosource-dot-time-of-an-audio-clip-starts-immediately-when-audiosource-dot-playscheduled-is-used))
    
*   WebGL: Fixed playback of audio clips on timeline. ([UUM-6801](https://issuetracker.unity3d.com/issues/webgl-multiple-audio-clips-not-playing-in-the-same-timeline-when-its-ran-on-webgl-player-1))
    
*   WebGL: Improved shader compilation performance problems on MacOS when GPU instancing is used. ([UUM-6390](https://issuetracker.unity3d.com/issues/backport-instanced-urp-shaders-using-spherical-harmonics-variables-causes-long-initial-mesh-render-time-when-used-in-webgl))

### Known Issues in 2021.3.11f1

*   DirectX11: Unity Editor is rendered without the toolbar icons when using it on old hardware with integrated GPU ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Hierarchy: Undo action is not registered when undoing GameObjects list order in the Hierarchy window ([UUM-16576](https://issuetracker.unity3d.com/issues/undo-action-is-not-registered-when-undoing-gameobjects-list-order-in-the-hierarchy-window))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR SRP: Meta Quest performance loss between URP versions when built ([UUM-15608](https://issuetracker.unity3d.com/issues/meta-quest-performance-loss-between-urp-versions-when-built))
    

### 2021.3.11f1 Release Notes

#### Improvements

*   2D: \[com.unity.2d.animation\] Added bone weight index validation in SpriteSkin's validate method, to ensure valid data before continuing with deformation.
    
*   2D: \[com.unity.2d.animation\] Updated Toolbar and Visibility tab buttons' selection color.
    
*   2D: \[com.unity.2d.common\] Added support for different sized texture inputs in ImagePacker.
    
*   2D: \[com.unity.2d.psdimporter\] Improved import speed and memory allocation for psd/psb files by reducing the intermediate texture buffers.
    
*   Asset Import: Reduced the time taken by refreshing the asset database, which among other things improves the performance of editing prefabs.
    
*   Asset Pipeline: Do not assert on race when receiving import worker results for a deleted asset. (UUM-12649)
    
*   Core: Added Transform.SetLocalPositionAndRotation(). This allows you to set both the localPosition and localRotation of a transform in a single call, which is more efficient than assigning to localPosition and localRotation separately. (Thank you to @DevDunk on the forum for the request!).
    
*   Multiplayer: Added Unity Netcode for Gamebjects Package 1.0.1.
    
*   Multiplayer: Added Unity Transport Package 1.2.0.
    
*   Scripting: Improved pop-up error messages when attaching scripts to GameObjects. (UUM-2557)
    

#### API Changes

*   Android: Changed: Updated SupportsAccelerometer() API to return whether a device has an accelerometer sensor or not.

#### Changes

*   Editor: Updated manifest.json to use com.unity.inputsystem package version 1.4.2.

#### Fixes

*   2D: Added 2D Triangle default asset to replace missing place holder. (DANB-125)
    
*   2D: Fixed upgrading from 2020.3 might lost Sprite reference. ([DANB-133](https://issuetracker.unity3d.com/issues/importer-textureimporter-generated-inconsistent-result-for-asset-when-importing-assets-from-unity-2020-dot-3))
    
*   Android: Fixed orientation issues in laptop mode and tablet mode on Chromebooks. ([UUM-782](https://issuetracker.unity3d.com/issues/chromeos-pixelbook-can-switch-to-portrait-orientations-which-result-in-vertical-resolution-that-cannot-be-undone))
    
*   Audio: Fixed Audio Clip Import Settings not getting saved when the "Override for Dedicated Server" setting is enabled. ([UUM-399](https://issuetracker.unity3d.com/issues/audio-clip-import-settings-do-not-get-saved-when-the-override-for-dedicated-server-setting-is-enabled))
    
*   Audio: Fixed doc for GamepadSpeakerOutputType to be used exclusively for playstation 4, playstation 5 platforms and editor platforms only. ([UUM-407](https://issuetracker.unity3d.com/issues/error-gamepadspeakeroutputtype-does-not-exist-in-the-namespace-unityengine-occurs-in-the-console-when-building-a-project))
    
*   DX12: Fixed crash that can occur when calling ComputeBuffer.GetData() with non zero computeBufferStartIndex parameter. ([UUM-11444](https://issuetracker.unity3d.com/issues/crash-on-play-when-getdata-attempts-a-partial-read-on-directx12-dx12))
    
*   Editor: Backport Fix \[2021.3\] - Android Builds Fail When Windows Regional Format is Set to Thai. (UUM-954)
    
*   Editor: Fixed an API breaking change for the EditorToolAttribute constructor. ([UUM-5792](https://issuetracker.unity3d.com/issues/editortoolattribute-changed-incompatibly))
    
*   Editor: Fixed errors in DebugManager/DebugHandler that could occur after making a build. (UUM-13827)
    
*   Editor: Fixed the selection when the root game object has a SelectionBase component and the child is a prefab. ([UUM-7831](https://issuetracker.unity3d.com/issues/selectionbase-doesnt-work-for-meshes-when-the-mesh-is-from-an-fbx))
    
*   Editor: Game/Scene view window now no longer flickers on resizing when Graphics API is set to OpenGL. ([UUM-1682](https://issuetracker.unity3d.com/issues/backport-windows-game-slash-scene-view-window-is-flickering-on-resizing-when-graphics-apis-set-to-openglcore-slash-opengles2-slash-opengles3))
    
*   Editor: OpenGLES target missing in generated VFX shader. ([UUM-11347](https://issuetracker.unity3d.com/issues/vfx-graph-does-not-render-when-using-android-platform-with-only-opengles3-api-available))
    
*   GI: Fixed a case where scene objects would lose their lighting data when they are packed into or unpacked from a prefab, and playmode is entered without first saving the scene. (UUM-11182)
    
*   GI: Fixed baking stall occuring when baking terrain with holes. ([UUM-950](https://issuetracker.unity3d.com/issues/backport-plm-baking-stalls-with-terrains-containing-lots-of-holes))
    
*   Graphics: Fixed an issue where creating SparseTextures with certain TextureFormats could crash Unity, even though the equivalent GraphicsFormat is marked as unsupported for SparseTextures. (UUM-7671)
    
*   Graphics: Fixed an issue where SystemInfo.IsFormatSupported((My GraphicsFormat), FormatUsage.Sparse) would always return false on Metal, even if the requested GraphicsFormat actually is supported. (UUM-7671)
    
*   Graphics: Fixed an issue where the D3D11 WARP driver would crash when creating a SparseTexture with the BC1/BC4 GraphicsFormats. (UUM-7664)
    
*   Graphics: Fixed an issue where using TextureFormat.YUY2 / GraphicsFormat.YUV2 with a SparseTexture would crash on Metal. (if sparse textures are supported). (UUM-7671)
    
*   HDRP: Clamp negative absorption distance. (UUM-6746)
    
*   HDRP: Clarify the error message saying the HDRP is not supported on a certain platform. ([UUM-7419](https://issuetracker.unity3d.com/issues/hdrp-unclear-error-is-printed-when-switched-to-unsupported-platform))
    
*   HDRP: Clear custom pass color and depth buffers when the fullscreen debug modes are enabled. (UUM-8397)
    
*   HDRP: Fixed a null ref exception when destroying a used decal material. ([UUM-4353](https://issuetracker.unity3d.com/issues/hdrp-deleting-a-decal-material-that-is-currently-in-use-crashes-the-render-loop))
    
*   HDRP: Fixed bad undo behaviour with light layers and shadows. ([UUM-5701](https://issuetracker.unity3d.com/issues/light-layer-undo-doesnt-work-for-shadows))
    
*   HDRP: Fixed broken denoiser for ray traced shadows in HDRP. ([UUM-2140](https://issuetracker.unity3d.com/issues/hdrp-dxr-temporal-denoising-is-broken-up-to-2021-dot-3-in-punctuals-raytraced-shadows))
    
*   HDRP: Fixed color grading issue when multiple cameras have same volume properties but different frame settings. (UUM-3314)
    
*   HDRP: Fixed custom pass UI not refreshed when changing the injection point. (UUM-8410)
    
*   HDRP: Fixed Depth Of Field compute shader warnings on metal. (UUM-7783)
    
*   HDRP: Fixed discrepency in the fog in RT reflections and RTGI between perf and quality. (UUM-7434)
    
*   HDRP: Fixed history transform management not being properly handeled for ray traced area shadows. ([UUM-2150](https://issuetracker.unity3d.com/issues/hdrp-dxr-rt-shadows-ghosts-on-one-view-when-we-have-two-cameras-at-the-same-time))
    
*   HDRP: Fixed scalarization not scalarizing properly. (UUM-6360)
    
*   HDRP: Fixed shadow dimmer not affecting screen space shadows. (UUM-6512)
    
*   HDRP: Fixed SpeedTree importer when shader has no diffusion profile. (UUM-1875)
    
*   HDRP: Fixed tessellation in XR. ([UUM-3338](https://issuetracker.unity3d.com/issues/xr-sdk-hdrp-tessellation-shader-is-applied-per-eye))
    
*   HDRP: Fixed the material rendering pass not correctly changed with multi-selection. (UUM-2236)
    
*   HDRP: Fixed the new ray tracing quality nodes not working.
    
*   HDRP: Fixed the ray traced ambient occlusion not rejecting the history when it should leading to severe ghosting. (UUM-3225)
    
*   HDRP: Fixed tonemapping not being applied when using the Show Cascades debug view. ([UUM-3942](https://issuetracker.unity3d.com/issues/hdrp-tonemapping-not-applied-when-switching-scenes-with-show-cascades-enabled))
    
*   HDRP: Fixed upperHemisphereLuxValue when changing HDRI Sky. ([UUM-3326](https://issuetracker.unity3d.com/issues/hdrp-upperhemisphereluxvalue-always-return-1-despite-which-hdri-texture-is-set-and-whats-displayed-in-the-inspector))
    
*   HDRP: Fixed volumetric clouds fog history issue that leads to severe ghosting. (UUM-4801)
    
*   HDRP: Initialize DLSS at loading of HDRP asset. Previously intialization was too late (ad HDRP pipeline constructor). Moved initialization to OnEnable of SRP asset. ([UUM-5928](https://issuetracker.unity3d.com/issues/hdrp-dlssdetected-doesnt-return-correct-value-when-app-starts))
    
*   HDRP: Removed "Sprite Mask" from scene view draw modes as it is not supported by HDRP. ([UUM-3320](https://issuetracker.unity3d.com/issues/hdrp-sprite-mask-shading-mode-in-the-scene-view-shows-up-as-missing-shader-for-shader-graphs))
    
*   HDRP: RTHandle sampling out of bounds on previous frame pyramid color. This causes sometimes bad pixel values to be reflected. ([UUM-2331](https://issuetracker.unity3d.com/issues/use-optimal-settings-for-dlss-in-combination-with-smoothness-settings-for-screen-space-reflections-causes-white-flickering))
    
*   IL2CPP: Avoided a crash in the IL2CPP runtime when the GUID property of a type is obtained for a type with a StructLayout attribute but without a Guid attribute. ([UUM-10859](https://issuetracker.unity3d.com/issues/crash-on-il2cpp-icalls-mscorlib-system-runtimetype-getguid-when-building-and-running-a-project-using-il2cpp-scripting-backend))
    
*   IL2CPP: Avoided a crash when using GetFiles multiple times for directories with many files on iOS.. ([UUM-8885](https://issuetracker.unity3d.com/issues/ios-crash-when-calling-directory-dot-getfiles-twice))
    
*   IL2CPP: Avoided an intermittent crash on shutdown when many threads are waiting on a Monitor object inside for a C# lock statement. ([UUM-10374](https://issuetracker.unity3d.com/issues/crash-in-getmonitorandthrowifnotlockedbycurrentthread-when-running-the-project-repeatedly-and-using-il2cpp))
    
*   Kernel: Race condition in DualThreadAllocator when using BatchDelete. (UUM-5941)
    
*   Linux: Enabled and fixed a failed integration test on linux. (UUM-1593)
    
*   Linux: Fixed Server runtime not responding to SIGTERM and other signals. ([UUM-1582](https://issuetracker.unity3d.com/issues/unity-server-run-time-does-not-respond-to-sigterm-and-other-linux-signals-correctly))
    
*   Mono: Updated the machine config file for Android Player builds. ([UUM-12561](https://issuetracker.unity3d.com/issues/android-webrequest-dot-create-cause-an-exception-when-mono-is-used))
    
*   Package Manager: Fixed a regression where packages would fail to resolve with a ENOENT mkdir error when the project path or global cache path contained quotes. ([UUM-13252](https://issuetracker.unity3d.com/issues/package-manager-enoent-no-such-file-or-directory-mkdir))
    
*   Package Manager: HTML text cleaned up in details view. ([UUM-7701](https://issuetracker.unity3d.com/issues/package-manager-release-details-of-assets-include-html-tags))
    
*   Profiler: Fixed failures in opening local documentation files from Editor on macOS. ([UUM-6164](https://issuetracker.unity3d.com/issues/application-cannot-be-opened-error-on-pressng-help-icon-in-profiler-window))
    
*   Profiler: Fixed issue where autoconnecting to/disconnecting from profiling tools could cause a crash. ([UUM-876](https://issuetracker.unity3d.com/issues/backport-ios-crash-when-launching-build-with-autoconnect-profiler-enabled-with-the-profiler-window-closed))
    
*   Scripting: Fixed an issue where adding a component declared in a nested class could end up adding the wrong component type. ([UUM-9221](https://issuetracker.unity3d.com/issues/the-wrong-component-slash-class-gets-added-when-adding-a-nested-class-via-script-that-has-a-duplicate-class-elsewhere))
    
*   Scripting: Fixed case when trying to serialize generics with generic fields of types from different assemblies. ([UUM-8844](https://issuetracker.unity3d.com/issues/exception-for-unresolved-inflated-type-arguments))
    
*   Shadergraph: Fixed a compilation bug in BiRP Target in some variants with lightmaps. (UUM-7354)
    
*   Shaders: Fixed "State comes from an incompatible keyword space" assertion firing sometimes when building asset bundles. (UUM-11958)
    
*   Shaders: Fixed a bug with SHADER\_AVAILABLED\_XXX macros not being defined in compute shaders. (UUM-9751)
    
*   UI Elements: Fixed min max slider behaving abnormally when using larger thumb styling. ([UUM-5017](https://issuetracker.unity3d.com/issues/ui-toolkits-slider-behaves-abnormally-with-unity-default-runtime-theme))
    
*   UI Toolkit: Fixed bug where prefabs dragged to the Scene window aren't properly canceled if the drag ends on top of an overlay window. ([UUM-10082](https://issuetracker.unity3d.com/issues/prefabs-appear-in-the-scene-window-without-being-created-in-the-hierarchy-when-drag-and-dropping-over-the-latest-overlays-design))
    
*   UI Toolkit: InspectorElement layout is broken if parent container flex direction is set to row. (UUM-8431)
    
*   Universal RP: Fixed decal msaa error then camera is selected in deferred rendering path. (UUM-13666)
    
*   Universal RP: Fixed decal screen space to work without intermediate texture and DBuffer to force using intermediate texture. (UUM-13682)
    
*   Universal RP: Fixed decals correctly handle last batch. (UUM-13660)
    
*   Universal RP: Fixed decals to pass correct viewDirectionWS to screen space and gbuffer lighting.
    
*   Universal RP: Fixed decals to produce correct world to tangent matrix. (UUM-13674)
    
*   Universal RP: Fixed instacing error when decals loaded, but not the decal shaders.
    
*   Universal RP: Fixed render scale correctly work with screen size property. This includes decals. (UUM-13667)
    
*   Universal RP: Universal RP: Fixed excessive banding from FSR in URP. (UUM-9558)
    
*   URP: Fixed Gizmos in Game View when using Viewports (UUM-7069).
    
*   VFX Graph: Fixed position where VFX are created when VFX asset is dragged to Scene View. (UUM-4749)
    
*   VFX Graph: Removed incompatible target generating shader targetting VFX. ([UUM-8476](https://issuetracker.unity3d.com/issues/backport-windows-flexiblefire-shader-graph-throws-an-error-when-attempting-to-build-the-project))
    
*   VFX Graph: Stop rendering VFX shadows when VFX are disabled in Scene View visibility menu. (UUM-4752)
    
*   Virtual Texturing: Added a notice regarding the experimental state of Virtual Texturing to the Player Settings editor.
    
*   Virtual Texturing: Added a warning for Procedural Virtual Texturing clarifying that the feature is not currently supported.
    
*   Virtual Texturing: The experimental state of Streaming Virtual Texturing and Procedural Virtual Texturing was not clearly indicated in the API docs and Manual, this has been corrected. For clarity, these features should not be used in production.
    
*   WebGL: This PR fixes a regression in 3D audio effects. The audio listener orientation was not set correctly. ([UUM-1165](https://issuetracker.unity3d.com/issues/on-webgl-player-spatial-audio-3d-sound-settings-does-not-change-direction-from-where-the-sound-is-played))
    
*   Windows: Fixed mouse buttons do not get switched when the primary mouse button is changed. ([UUM-3959](https://issuetracker.unity3d.com/issues/input-system-windows-mouse-buttons-do-not-get-switched-when-the-primary-mouse-button-is-changed))

### Known Issues in 2021.3.10f1

*   Profiler: Standalone Profiler Crash in RtlEnterCriticalSection on exit (UUM-13932)  
    _First seen in 2022.2.0b8._
    
*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Asset Bundles: AssetBundle indeterminism caused by mesh streaming info ([UUM-12721](https://issuetracker.unity3d.com/issues/assetbundle-indeterminism-caused-by-mesh-streaming-info))
    
*   Graphics Device Features: \[Graphics\] Crash when submitting depth with no MSAA ([UUM-13249](https://issuetracker.unity3d.com/issues/graphics-crash-when-submitting-depth-with-no-msaa))
    
*   Kernel: \[2021.3\] Editor crashes on GetTransformAccess when undoing GameObject duplication ([UUM-13617](https://issuetracker.unity3d.com/issues/2021-dot-3-editor-cashes-on-gettransformaccess-when-undoing-duplication-of-a-canvasrenderer-gameobject))
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Management: Crash when accessing transform component after calling Resources.UnloadUnusedAssets() ([UUM-11111](https://issuetracker.unity3d.com/issues/crash-when-accessing-transform-component-after-calling-resources-dot-unloadunusedassets))
    
*   Shader System: Shader variant build preparation does not scale ([UUM-3711](https://issuetracker.unity3d.com/issues/shader-variant-build-preparation-does-not-scale))
    
*   Vulkan: \[Android\]\[Vulkan\] Android GPU Inspector crashes with "Failed to profile the replay. Cause: Replay crash" when using Vulkan Graphics API ([UUM-13433](https://issuetracker.unity3d.com/issues/android-vulkan-android-gpu-inspector-crashes-with-failed-to-profile-the-replay-cause-replay-crash-when-using-vulkan-graphics-api))
    

### 2021.3.10f1 Release Notes

#### Features

*   Editor: Added com.unity.services.mediation@1.0.4.

#### Improvements

*   Documentation: Added a summary and code example for IJobParallelForTransform.

#### API Changes

*   Graphics: Added: Expose Texture2D.ignoreMipmapLimit property to ignore QualitySettings.masterTextureLimit.

#### Changes

*   2D: Added dialog box to the Skinning Editor when entering Play Mode to allow saving unsaved changes.
    
*   2D: Refactored internal triangulation and tessellation APIs.
    

#### Fixes

*   2D: Creating a new vertex or an edge outside of the main geometry is now handled correctly. (1398541)
    
*   2D: Fixed editor crash when calling SpriteAtlasUtility.PackAtlases. ([UUM-6965](https://issuetracker.unity3d.com/issues/backport-sprite-atlas-v1-editor-crashes-when-calling-spriteatlasutility-dot-packatlases))
    
*   2D: Fixed the isolate behavior in the Sprite tab in the Visibility panel. (DANB-67)
    
*   2D: When a recursive depth from instantiating GameObjects using a Tilemap Tile reaches a threshold, an error message is logged and the recursive loop is stopped in the Editor or in Development Players. ([UUM-8380](https://issuetracker.unity3d.com/issues/editor-crashes-when-painting-tiles-using-the-tilemap-editor))
    
*   2D: When modifying Sprite Library's Category name after user presses apply, the changes to the name are saved. (DANB-6)
    
*   Android: Added mono audio output support. ([UUM-9205](https://issuetracker.unity3d.com/issues/setting-audiospeakermode-dot-mono-has-no-effect-on-android-devices))
    
*   Android: Fixed a possible crash on many PowerVR based devices. ([UUM-7782](https://issuetracker.unity3d.com/issues/android-urp-project-crashes-when-built-on-a-device-with-powervr-rogue-ge8320-gpu))
    
*   Asset Pipeline: Asset preview thumbnails in the Editor's project window would sometimes be missing reflection probe lighting, this has been fixed and re-baking reflection probes (after making some change, such as to the material) will update thumbnails. ([UUM-1820](https://issuetracker.unity3d.com/issues/mesh-is-untextured-in-the-project-browser))
    
*   Asset Pipeline: Fixed 'learn more' online documentation links for asset import workers and Unity Accelerator in the editor UI, so they target the currently loaded version of Unity. ([UUM-12248](https://issuetracker.unity3d.com/issues/backport-four-learn-more-links-direct-to-default-2020-dot-3-manual-version-instead-of-using-current-editor-version))
    
*   Asset Pipeline: Fixed an issue where assets with dots in the filename (other than the extension) could incorrectly invoke a warning about mismatched main object names. (UUM-3986)
    
*   Asset Pipeline: Fixed an issue where the asset database might fail to detect that custom postprocessing of assets had produced an infinite loop during project import. ([UUM-867](https://issuetracker.unity3d.com/issues/backport-infinite-loop-not-detected-when-importing-shadergraph-assets))
    
*   Audio: Fixed AudioClipPlayable.IsDone is false when AudioClipPlayable.Seek is used to reset the time. ([UUM-398](https://issuetracker.unity3d.com/issues/audioclipplayable-dot-isdone-is-false-when-audioclipplayable-dot-seek-is-used-to-reset-the-time))
    
*   Editor: Fixed a deadlock in Accelerator upload while using '-quit'. ([UUM-3184](https://issuetracker.unity3d.com/issues/cache-server-editor-crashes-when-disabling-cacheserver-during-ongoing-upload))
    
*   Editor: Fixed an issue with too many open files when downloading from Accelerator. (UUM-4330)
    
*   Editor: Fixed crash when OnDemand scheduler tries to upload previews without accelerator connection. ([UUM-5544](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   Editor: Fixed package manager dropdown position sometimes is not fixed below it. Fix some GUIDepth errors. (UUM-11291)
    
*   Editor: Installing Linux mono and IL2CPP support on mac will no longer keep only the most recently installed of the two. ([UUM-1696](https://issuetracker.unity3d.com/issues/backport-macos-targetsupport-installers-for-linux-overwrite-their-content))
    
*   Editor: Timestamp for boot.config in user project is now only updated when changed. ([UUM-2342](https://issuetracker.unity3d.com/issues/boot-dot-config-files-date-modified-timestamp-is-being-changed-every-time-unity-starts))
    
*   GI: Fixed an issue where environment lighting is missing from player builds when the scene hasn't been baked. ([UUM-2743](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time-1))
    
*   GI: Fixed APV Partial Baking when using GPU Lightmapper. (UUM-885)
    
*   GI: Fixed denoising issues with OIDN and OptiX denoisers on GPULM when using different values for direct lighting sample count and indirect lighting sample count. ([UUM-2158](https://issuetracker.unity3d.com/issues/backport-gpu-plm-denoising-artifacts-after-baking-gi-with-certain-lighting-settings-and-denoising-enabled))
    
*   GI: Fixed for prefab assets showing in Light Explorer when Show Inactive Objects is checked. ([UUM-835](https://issuetracker.unity3d.com/issues/backport-prefabs-with-light-component-are-listed-in-the-light-explorer-when-the-show-inactive-objects-property-is-checked))
    
*   Graphics: Fixed crash in Vulkan Editor on Windows when using XR Mock HMD. ([UUM-6726](https://issuetracker.unity3d.com/issues/xr-vulkan-crash-on-vkresetfences-when-entering-play-mode))
    
*   iOS: Disabled capitalization, autocorrection and others when soft keyboard is secure and input is hidden. ([UUM-5974](https://issuetracker.unity3d.com/issues/shift-is-pressed-in-the-keyboard-when-textmeshpro-input-field-content-type-is-password-and-hide-mobile-input-is-checked))
    
*   Networking: Fixed a texture leak when UnityWebRequest is used with DownloadHandlerTexture and a texture is never queried. ([UUM-953](https://issuetracker.unity3d.com/issues/backport-unitywebrequest-interrupted-before-completion-causes-memory-leak))
    
*   Particles: Skip draw call for gpu instanced mesh particle trails if using same material as particles. (UUM-7071)
    
*   Project Browser: Fixed context menu does not appear when holding Ctrl and pressing left mouse button in the Project window on Mac. (UUM-5191)
    
*   Scripting: Increased performance by not casting Mathf.Abs to float when passing a float value. ([UUM-1821](https://issuetracker.unity3d.com/issues/backport-unnecessary-cast-to-float-when-calling-mathf-dot-abs))
    
*   Serialization: Properly track managed-only classes so they are not stripped by the il2cpp linker. ([UUM-4103](https://issuetracker.unity3d.com/issues/backport-ui-toolkit-il2cpp-ui-is-not-visible-when-in-built-player-and-serialization-errors-are-thrown))
    
*   Shaders: Fixed a crash when calling GetShaderKeywords on a user-constructed ShaderKeywordSet. ([UUM-2536](https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes))
    
*   UI: Unity Game Services projects no longer creates a dropdown when the project names contains a slash in the Editor Project Linking UI.
    
*   UI Toolkit: Fixed warning caused by unprocessed focus events sometimes happening when detaching a UIDocument containing a focused element from its parent panel. ([UUM-1296](https://issuetracker.unity3d.com/issues/backport-focuscontroller-has-unprocessed-focus-events-warnings-are-thrown-when-deactivating-a-uidocument-during-an-event-cal))
    
*   Video: A "Can't play movie" error is now thrown when setting VideoPlayer.url to an invalid url through a script. ([UUM-11380](https://issuetracker.unity3d.com/issues/backport-cant-play-movie-error-is-thrown-when-setting-videoplayer-dot-url-to-an-invalid-url-through-a-script))
    
*   Windows: Fixed an issue so that the UnityPlayer.dll properties sheet is now more complete. ([UUM-10370](https://issuetracker.unity3d.com/issues/unityplayer-dot-dll-properties-for-windows-standalone-player-are-incomplete-compared-to-uwp))
    
*   Windows: Fixed incorrect scan codes that are exposed through KeyControl.scanCode of New Input System. (UUM-9029)

### Known Issues in 2021.3.9f1

*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   Linux: Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: Editor performance drops when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: \[Linux\] C# Reflection performance is 50 to 60 times slower ([UUM-11526](https://issuetracker.unity3d.com/issues/linux-c-number-reflection-performance-is-50-to-60-times-slower))
    
*   Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   Scripting: Crash when accessing transform component after calling Resources.UnloadUnusedAssets() ([UUM-11111](https://issuetracker.unity3d.com/issues/crash-when-accessing-transform-component-after-calling-resources-dot-unloadunusedassets))
    
*   Shader System: Shader variant build preparation does not scale ([UUM-3711](https://issuetracker.unity3d.com/issues/shader-variant-build-preparation-does-not-scale))
    

### 2021.3.9f1 Release Notes

#### Features

*   Editor: Added editor analytics event tracking for "Refresh access" and "New link..." button click.
    
*   Version Control: Added notification banner on the status bar for live updates.
    

#### Improvements

*   Mono: Added support for direct ETW profiler integration on Windows Desktop for managed code, with no plugin required.

#### Changes

*   Version Control: Renamed "Invite members to workspace" option to "Invite members to organization".

#### Fixes

*   Android: Fixed an Android audio crash when targeting API Level 31 and running on an Android 12 device. Also fixed an AudioManager.GetStreamVolume exception when targeting API Level 29 or later, which caused the AudioSettings.Mobile.stopAudioOutputOnMute feature to not work correctly, if enabled. ([UUM-5652](https://issuetracker.unity3d.com/issues/android-resume-causes-getaudiostreamvolume-jni-exception))
    
*   Android: Fixed bug when building with IL2CPP and scaler types getting stripped out.
    
*   Android: Fixed bug with manual lifetime tests failing occasionally.
    
*   Android: Fixed bug with scaler not being initialized with settings from the Editor UI properly when using profiles.
    
*   Android: Fixed bug with test provider and settings showing up in Project Settings.
    
*   Android: Toggling Build App Bundle in the Build Player Window will now prompt for a save location rather than attempting to use the last build location which would have been the incorrect type of package. ([UUM-1692](https://issuetracker.unity3d.com/issues/backport-android-building-app-using-ctrl-plus-b-shortcut-uses-the-last-used-configuration-instead-of-the-current-one))
    
*   Asset Bundles: Fixed memarchive0 error when entering play mode. ([UUM-493](https://issuetracker.unity3d.com/issues/unable-to-read-header-from-archive-file-memarchive0-error-thrown-in-the-console-window-when-entering-the-play-mode))
    
*   Asset Pipeline: The option to 'Recompile after finished playing\` did not work and has been removed. To support the intended functionallity a new option to only auto refresh outside playmode has been added. ([UUM-818](https://issuetracker.unity3d.com/issues/backport-a-false-pop-up-appears-when-modifying-a-script-and-having-recompile-after-finished-playing-set))
    
*   Build Pipeline: Fixed a bug where the player data cache would not distinguish between server builds and normal standalone players, which could cause the wrong data ending up in players.
    
*   Build Pipeline: Fixed PlayerBuildInterface.ExtraTypesProvider API not working.
    
*   Editor: Added the option to set something as the first child of the root. ([UUM-955](https://issuetracker.unity3d.com/issues/backport-a-prefabs-child-gameobject-cant-be-dropped-to-the-top-position-in-prefab-mode-when-a-long-blue-separator-appears))
    
*   Editor: Fixed an issue preventing the resize the Inspector window when docked near another window. ([UUM-1956](https://issuetracker.unity3d.com/issues/backport-editorwindow-cant-be-resized-when-docked-near-another-window-and-wantsmouseenterleavewindow-is-set-to-true))
    
*   Editor: Fixed an issue where certain properties could not be excluded in the TextureImporterInspector. ([UUM-3787](https://issuetracker.unity3d.com/issues/preset-some-properties-cannot-be-excluded-from-texture-importer-preset-through-the-inspector-window))
    
*   Editor: Fixed an issue with the 'Fix' button for vertex stream in particle shaders. (UUM-11695)
    
*   Editor: Fixed drag and drop in between blue line indicators in inspector does not always work on linux. ([UUM-1568](https://issuetracker.unity3d.com/issues/linux-dragging-script-to-inspector-doesnt-trigger-the-blue-indicator-when-dropping-between-components))
    
*   Game Core: Fixed web requests getting stuck when aborting them. (UUM-874)
    
*   HDRP: Added async compute support doc. (UUM-6183)
    
*   HDRP: Added missing using statements in one of the example scripts in the documentation for the accumulation API. (UUM-3224)
    
*   HDRP: Disabled Volumetric Clouds for Default Sky Volumes. (UUM-6185)
    
*   HDRP: Fixed a discrepancy between recursive rendering and path tracing for refraction models. ([UUM-6179](https://issuetracker.unity3d.com/issues/hdrp-recursive-rendering-refraction-is-very-different-compared-to-rasterization-slash-pathtracing))
    
*   HDRP: Fixed a render graph error when rendering a scene with no opaque objects in forward. ([UUM-6189](https://issuetracker.unity3d.com/issues/transparent-custom-pass-renders-opaque-with-msaa-disabled-in-player))
    
*   HDRP: Fixed a rounding issue in ray traced reflections at half resolution. (UUM-6177)
    
*   HDRP: Fixed an issue with DOTS and Look Dev tool causing entities in the tool to be drawn in the game view. ([UUM-6188](https://issuetracker.unity3d.com/issues/prefabs-using-hybrid-convert-to-entity-component-are-visible-in-the-game-view-if-used-in-hdrp-look-dev-when-entering-play-mode))
    
*   HDRP: Fixed an issue with the ray traced screen space shadows slots/indices. ([1424996](https://issuetracker.unity3d.com/issues/hdrp-incorrectly-allocated-slots-for-screen-space-shadows))
    
*   HDRP: Fixed an issue with up direction of the light anchor tool being wrong on occasion. ([UUM-6190](https://issuetracker.unity3d.com/issues/hdrp-switching-back-and-forth-the-up-direction-f-the-light-anchor-when-the-elevation-is-a-multiple-of-90-looses-the-settings))
    
*   HDRP: Fixed artifacts on PBR DOF camera cuts such as the COC sticking around with blurry values. (UUM-6187)
    
*   HDRP: Fixed artifacts on quarter and half res depth of field when dynamic resolution jumps between resolutions. (UUM-6184)
    
*   HDRP: Fixed blinking Ray traced reflection with dynamic resolution. (UUM-6180)
    
*   HDRP: Fixed blinking SSGI with dynamic resolution. ([UUM-6181](https://issuetracker.unity3d.com/issues/dynamic-resolution-scaling-blinking-ssgi))
    
*   HDRP: Fixed cull mode toggle in transparent material inspector shifting the UI. (UUM-6186)
    
*   HDRP: Fixed Decal Layer Texture lifetime in rendergraph. ([UUM-6664](https://issuetracker.unity3d.com/issues/decal-layer-texture-lifetime-in-rendergraph-1))
    
*   HDRP: Fixed duplicated code sample in the custom pass documentation. ([UUM-6173](https://issuetracker.unity3d.com/issues/hdrp-sample-code-for-custom-pass-scripting-is-incorrect))
    
*   HDRP: Fixed errors in CPU lights: includeForRaytracing, lightDimmer not working for HDAdditionalLightData and camera rel rendering. (1424704)
    
*   HDRP: Fixed incorrect distortion when hardware DRS is enabled. ([UUM-3322](https://issuetracker.unity3d.com/issues/hdrp-camera-view-is-rendered-on-objects-with-a-distortion-blur-material-when-dynamic-resolution-is-enabled))
    
*   HDRP: Fixed leaks in ray tracing effects due to missing ambient probe for ray tracing effects. (UUM-589)
    
*   HDRP: Fixed noisy top shadows when using 'High' Filtering Quality with Tesselated Meshes (Lit Tesselation). ([UUM-3341](https://issuetracker.unity3d.com/issues/hdrp-noisy-top-shadows-when-using-high-filtering-quality-with-tesselated-meshes-lit-tesselation))
    
*   HDRP: Fixed pivot position in the eye material sample scene. (UUM-10663)
    
*   HDRP: Fixed quad artifacts on TAA and fixed an issue on bicubic filtering. ([UUM-6205](https://issuetracker.unity3d.com/issues/taa-quad-like-artifacts-around-moving-silhouettes))
    
*   HDRP: Fixed re-ordering issue in the custom pass list. ([UUM-6176](https://issuetracker.unity3d.com/issues/reordering-custom-passes-not-working))
    
*   HDRP: Fixed reflection issue upon scene filtering. (UUM-6514)
    
*   HDRP: Fixed SSGI using garbage outside the frustum. (UUM-6175)
    
*   HDRP: Fixed the clamp happening on the sum of ray tracing samples instead of per sample. ([UUM-6513](https://issuetracker.unity3d.com/issues/clamping-is-behaving-wrong-for-quality-ray-tracing-global-illumination))
    
*   HDRP: Fixed the default DXR volume not having any DXR effects enabled. (UUM-6182)
    
*   HDRP: Fixed transparent canvas not displaying in camera preview. (1403011)
    
*   HDRP: Profile list button now greys out instead of throwing error. (UUM-6174)
    
*   HDRP: Specular occlusion now falls back to normal when bent normal is not available. ([UUM-6662](https://issuetracker.unity3d.com/issues/bent-normals-and-shadergraph-1))
    
*   HDRP: Updated a misleading tooltip in the environment lighting in HDRP. (UUM-6178)
    
*   IL2CPP: Allow breakpoints to be set in managed code in private and internal types. ([UUM-9132](https://issuetracker.unity3d.com/issues/unable-to-hit-breakpoint-in-visual-studio-when-debugging-il2cpp-build))
    
*   IL2CPP: Avoid a potential crash when a Unity player is unloaded and reloaded. ([UUM-2660](https://issuetracker.unity3d.com/issues/use-after-free-crash-bug-in-il2cpp))
    
*   IL2CPP: Corrected layout structures in memory with an explicit layout and a size parameter. (UUM-9100)
    
*   IL2CPP: Corrected the assembly reference for the base type of stubbed reference types created by the UnityLinker. ([UUM-7772](https://issuetracker.unity3d.com/issues/backport-build-fails-with-il2cpp-error-when-building-in-il2cpp-scripting-backend-1))
    
*   IL2CPP: Corrected the behavior of Ping on Windows platforms. ([UUM-8801](https://issuetracker.unity3d.com/issues/il2cpp-notsupportedexception-is-thrown-when-using-ping-from-system-dot-net-dot-networkinformation))
    
*   IL2CPP: Corrected the behavior of RuntimeInformation.OSDescription on WebGL. ([UUM-1144](https://issuetracker.unity3d.com/issues/notsupportedexception-thrown-when-calling-any-member-of-system-dot-runtime-dot-interopservices-dot-runtimeinformation-in-webgl))
    
*   IL2CPP: Do not inflate RGCTX for types and methods with non-inflated generic parameters. ([UUM-6057](https://issuetracker.unity3d.com/issues/macos-il2cpp-build-crashes-when-running))
    
*   IL2CPP: ETW patterns are no longer stripped out on non-windows platforms. ([UUM-5771](https://issuetracker.unity3d.com/issues/il2cpp-new-operator-causes-a-nullreferenceexception-error-in-a-build))
    
*   IL2CPP: Fixed incorrect code generation for references to void\* pointers. ([UUM-4299](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-code-has-public-ref-void-star-this-int-index-function))
    
*   IL2CPP: Fixed leak of internal thread objects that could manifest in a pause on player exit. ([UUM-607](https://issuetracker.unity3d.com/issues/il2cpp-player-hangs-for-20-seconds-after-closing-it-when-running-threads))
    
*   IL2CPP: Prevent a memory corruption that could happen when the "Faster (smaller) builds" option is used with generic types that have a generic base class with no fields, and a different base class with at least one generic field. (UUM-3066)
    
*   IL2CPP: Support marshaling of blittable generic instances in delegates and P/Invokes. (UUM-9460)
    
*   IL2CPP: Throw an exception from Buffer.BlockCopy when the destination array has a non-primitive element type. ([UUM-3302](https://issuetracker.unity3d.com/issues/crash-when-running-il2cpp-build-that-uses-system-dot-buffercopy))
    
*   IL2CPP: Updated zlib to version 1.2.12 for CVE-2018-25032. (UUM-599)
    
*   Kernel: Dynamic array no longer use slower code path for assign operator with POD types. (UUM-7924)
    
*   Linux: Fixed an issue preventing the creation of Apple silicon related builds on Linux. (UUM-901)
    
*   Linux: Fixed gui errors when clicking the prefab's override button in the inspector. (UUM-1566)
    
*   Mono: Fixed a crash during stack trace construction if a this object is null. ([UUM-611](https://issuetracker.unity3d.com/issues/editor-crashes-when-invoking-delegate-with-null-argument))
    
*   Mono: Fixed crash that would occur when assigning a large struct to the field of a null object. ([UUM-10477](https://issuetracker.unity3d.com/issues/crash-on-system-dot-buffer-internalmemcpy-when-starting-play-mode))
    
*   Mono: Fixed crash when passing a generic class to a function pointer. ([UUM-603](https://issuetracker.unity3d.com/issues/crash-on-invoking-function-pointer-runtime-invoke-object-when-type-argument-is-a-class))
    
*   Mono: Fixed Interlocked.CompareExchange float on M1. (UUM-9159)
    
*   Particles: Load MeshFilter Components before Particle Systems to ensure they can be used during prewarms. ([UUM-832](https://issuetracker.unity3d.com/issues/backport-particle-system-ignores-the-shape-parameter-and-shoots-particles-in-the-straight-line-when-the-prewarm-setting-is-tur))
    
*   Physics: Fixed Articulation Bodies teleporting to NaN coordinates when changing joint type at runtime. (UUM-7418)
    
*   Physics: Fixed overlap queries missing small convex Mesh Colliders. ([UUM-6271](https://issuetracker.unity3d.com/issues/physics-overlap-queries-are-not-consistent-when-used-against-convex-mesh-colliders-with-a-very-small-scale))
    
*   Physics: Fixed raycasts missing after moving a lot of objects. (UUM-7416)
    
*   Profiler: Fixed profiler not opening the correct version of the documentation. ([UUM-4963](https://issuetracker.unity3d.com/issues/profiler-help-button-redirects-to-wrong-stream-documentation-page-1))
    
*   Scripting: Changed to rulesetfile not triggering compilation. ([UUM-3560](https://issuetracker.unity3d.com/issues/roslyn-analyzers-analysis-is-not-performed-when-a-ruleset-file-is-modified))
    
*   Scripting: Fixed an issue where Application.logMessageReceived can be called from a job, when the job is scheduled on the main thread. ([UUM-3085](https://issuetracker.unity3d.com/issues/application-dot-logmessagereceived-is-called-from-worker-thread-when-logging-errors-from-bursted-ijob))
    
*   Scripting: Fixed an issue where define constraints on unity's pre-defined symbols like "UNITY\_INCLUDE\_TESTS" were misbehaving for Precompiled assemblies. ([UUM-9378](https://issuetracker.unity3d.com/issues/a-dll-file-is-included-in-the-build-when-the-only-reference-to-it-is-enclosed-in-number-if-unity-editor))
    
*   Scripting: Gradient API is now thread safe. ([UUM-834](https://issuetracker.unity3d.com/issues/backport-gradient-mode-getter-slash-setter-does-not-have-thread-safe-access-preventing-proper-serialization-slash-deserialization))
    
*   Serialization: Fixed an issue when a PropertyModification targetting a serialize reference instance which was no longer being present could cause memory corruption. (UUM-959)
    
*   Shaders: DrawMeshInstanced now provides error feedback when using a shader that does not support instancing. ([UUM-6026](https://issuetracker.unity3d.com/issues/backport-shader-dot-worldposition-interferes-with-drawing-of-the-shader-when-using-drawmeshinstanced))
    
*   Shaders: Fixed an issue where adding packages to a project would not update the Shader Compiler include search paths. (UUM-3982)
    
*   Shaders: Made compute shaders respect #pragma enable\_cbuffers. (UUM-11520)
    
*   Terrain: Fixed an issue where URP failed to render grass Terrain details. ([UUM-9122](https://issuetracker.unity3d.com/issues/urp-fails-to-render-grass-terrain-details))
    
*   uGUI: Fixed calculation of pointer position when running in multiple display mode and the main display was fullscreen with a non-native aspect ratio. ([UUM-7893](https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode))
    
*   uGUI: Fixed Graphic.Raycast not ignoring CanvasGroups when they were disabled. ([UUM-972](https://issuetracker.unity3d.com/issues/backport-canvas-group-components-block-raycasts-and-interactable-options-work-when-the-component-is-disabled))
    
*   uGUI: uGUI: When disabling a canvas and reenabling it, SubCanvas now renders correctly.'. ([UUM-9248](https://issuetracker.unity3d.com/issues/ui-elements-are-no-longer-rendered-when-deactivating-and-reactivating-the-parent-gameobject))
    
*   uGUI: When disabling a canvas and reenabling it, SubCanvas now renders correctly.
    
*   UI Toolkit: Fixed for issue where ArgumentOutOfRangeException is thrown when adding/removing elements from a List in the Inspector. ([UUM-957](https://issuetracker.unity3d.com/issues/backport-uitoolkit-argumentoutofrangeexception-is-thrown-when-adding-slash-removing-elements-from-a-list-in-the-inspector))
    
*   UI Toolkit: Fixed for offset issues and layout delays in default PropertyField on array values when adding or removing items. (UUM-902)
    
*   UI Toolkit: The hierarchy tree will keep its expanded state and selection when saving in the UI Builder. ([UUM-1884](https://issuetracker.unity3d.com/issues/backport-ui-builder-hierarchy-collapses-when-changes-are-saved))
    
*   UI Toolkit: UI Elements property animations, as well as scheduled items, asynchronous tasks and Update() callbacks are now updated as expected when a modal editor window is opened. ([UUM-1695](https://issuetracker.unity3d.com/issues/backport-scheduled-items-asynchronous-tasks-and-update-are-not-run-when-editorwindow-is-opened-using-showmodalutility))
    
*   UI Toolkit: \[UI Builder\] Fixed an issue where the buttons tooltip in the inline styles were showing its parents. (UUM-1816)
    
*   Undo System: Handle objects created by Animation Rigging during undo/redo. (UUM-7875)
    
*   Universal: Fixed depth pre-pass being always executed on GLES devices. ([UUM-8381](https://issuetracker.unity3d.com/issues/urp-depth-pre-pass-is-always-executed-regardless-of-project-slash-pipeline-settings-when-opengles3-graphics-api-is-used))
    
*   Universal: Fixed incorrect light brightness when using SimpleLit shader. ([UUM-7851](https://issuetracker.unity3d.com/issues/lights-appear-significantly-brighter-when-using-the-simple-lit-shader))
    
*   Universal: Fixed specular highlight edges on Android. ([UUM-7654](https://issuetracker.unity3d.com/issues/android-specular-highlights-have-precision-issues-on-devices-with-adreno-gpu))
    
*   URP: Fixed alpha discard on Unlit Sprite targets for Shadergraph. ([UUM-6998](https://issuetracker.unity3d.com/issues/2d-shadergraph-alpha-clipping-is-not-taken-into-account-when-using-unlit-shadergraph-with-multiply-blend-mode))
    
*   URP: Fixed an additional light performance regression on Quest. (UUM-9423)
    
*   Version Control: Fixed not being able to view changesets in a Gluon workspace  
    Fixed not being able to insert carriage return in checkin dialog.
    
*   VFX Graph: Fixed an issue with Motion Vector target offset with Line Output. (UUM-3303)
    
*   VFX Graph: Read only fields texts is almost invisible due to an opacity value issue. (UUM-9222)
    
*   VFX Graph: Vector2 node indeterminate value behavior was not consistent with other Vector nodes. (UUM-2071)
    
*   Video: Fixed an issue where the first video's frame was drawn out of order when the H.264 B-Frames video is used. ([UUM-819](https://issuetracker.unity3d.com/issues/backport-android-the-first-videos-frame-is-drawn-after-some-time-when-the-h-dot-264-b-frames-video-is-used))
    
*   Video: \[WIN 8 KN/N\] VideoPlayer inadequate error reporting on errorReceived callback when Media Player is not present. ([UUM-839](https://issuetracker.unity3d.com/issues/backport-win-8-kn-slash-n-videoplayer-inadequate-error-reporting-on-errorreceived-callback-when-media-player-is-not-present))
    
*   Windows: Fixed builds launching on the wrong display after upgrading the project from Unity 2020.3. If the project was previously upgraded to 2021.3, this may cause the builds to start up on a different display first. Use Win + Shift + Left/Right arrow to move the window to the desired display. ([UUM-4178](https://issuetracker.unity3d.com/issues/backport-build-is-launched-in-the-wrong-display-when-main-display-is-changed))
    
*   Windows: Fixed crash on startup when Vjoy HID device is connected to a computer. ([UUM-8786](https://issuetracker.unity3d.com/issues/unity-crashing-upon-start-with-a-vjoy-controller-connected))
    
*   Windows: Fixed resolution misdetection on vertical displays, which caused APIs like Screen.currentResolution or Screen.GetDisplayLayout() return wrong data and the player contain letterboxing when it shouldn't. ([UUM-7552](https://issuetracker.unity3d.com/issues/the-player-does-not-refresh-window-display-properties-when-opening-the-player-on-another-display))
    
*   Windows: Restore the display enumeration behaviour of Unity 2021.1 and earlier: the primary display will always be treated as display 1.

### Known Issues in 2021.3.8f1

*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   AI Navigation Core: Trigger volumes are included in nav mesh generation for NavMeshSurface when geometry is set to Physics Colliders ([UUM-10109](https://issuetracker.unity3d.com/issues/trigger-volumes-are-included-in-nav-mesh-generation-for-navmeshsurface-when-geometry-is-set-to-physics-colliders))
    
*   Android: Crash when accessing transform component after calling Resources.UnloadUnusedAssets() ([UUM-11111](https://issuetracker.unity3d.com/issues/crash-when-accessing-transform-component-after-calling-resources-dot-unloadunusedassets))
    
*   Customer QA Onboarding: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project (UUM-3207)
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   uGUI: Broken mouse pointer input coordinates in GraphicRaycaster for certain window sizes in Build when run in windowed mode ([UUM-7893](https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode))
    

### 2021.3.8f1 Release Notes

#### Improvements

*   Player: Improved performance when loading scenes with a high number of light probes. ([UUM-7568](https://issuetracker.unity3d.com/issues/loading-a-scene-with-a-large-amount-of-light-probes-causes-a-performance-spike))
    
*   UI: The TextureImporterInspector will now disable the "sRGB (Color Texture)" toggle for HDR targets instead of silently overriding. (reflected in API docs) (UUM-7553)
    

#### Changes

*   IAP: # Changelog  
    \## \[4.3.0\] - 2022-06-16  
    \### Added
    
    *   GooglePlay - API `IGooglePlayConfiguration.SetQueryProductDetailsFailedListener(Action)` called when Unity IAP fails to query product details. The `Action` will be called on each query product details failure with the retry count. See documentation "Store Guides" > "Google Play" for a sample usage.
*   URP: Updated Burst dependency to 1.7.3.

#### Fixes

*   2D: Fix asset previews for Tilemap Prefabs by not stripping away the Grid Component when generating the asset preview. ([UUM-2503](https://issuetracker.unity3d.com/issues/tile-palette-prefab-preview-does-not-show-the-correct-image))
    
*   Android: Fix crash with Vulkan when putting app into background during startup. ([UUM-915](https://issuetracker.unity3d.com/issues/backport-android-vulkan-application-crashes-upon-opening-after-putting-it-to-sleep-while-in-the-loading-screen))
    
*   Android: Fix overflow of MotionEvent global references. ([UUM-8438](https://issuetracker.unity3d.com/issues/android-crash-in-player-due-to-an-overflow-of-global-references-to-android-dot-view-dot-motionevent))
    
*   Android: Fixed building exported Unity project in Android Studio. ([UUM-520](https://issuetracker.unity3d.com/issues/android-exported-project-is-unable-to-be-built-on-android-studio-chipmunk-2021-dot-2-1))
    
*   Asset Pipeline: Asset Pipeline: Increasing the default import worker connect timeout, to avoid import worker client processes shutting down unnecessarily, when working with larger projects. (UUM-2502)
    
*   Asset Pipeline: Fixed intermittent Accelerator disconnection caused by interrupt signals raised by Mono. (UUM-3655)
    
*   Build Pipeline: Fix crash when using -standaloneBuilSubtarget option. ([1354140](https://issuetracker.unity3d.com/issues/editor-crashes-when-opening-it-with-standalonebuildsubtarget-server-cli))
    
*   Editor: Fixed custom editor GUI support for the BuiltIn ShaderGraph Target. ([1380485](https://issuetracker.unity3d.com/issues/custom-shader-gui-doesnt-work-for-built-in-shadergraph))
    
*   Editor: Fixed performance issue for looping small clip with root motion extraction. ([UUM-6515](https://issuetracker.unity3d.com/issues/backport-performance-cost-of-looping-animations-increases-over-time))
    
*   Editor: Fixing a bug where changing the selection with a locked inspector and an active EditorToolContext was throwing errors. (UUM-5836)
    
*   Editor: Replace Premium Expert Help link in Editor Help Menu with a link to Unity Learn. (UUM-8297)
    
*   Editor: \[SpeedTree\] Fixed an exception when the user backs off form the 'Search and Remap' dialog in the SpeedTree Material Editor.
    
*   Graphics: Fixed AssetPreviews + texture preview window for ASTCnm/Plain normal maps. (UUM-7833)
    
*   Graphics: Fixed numerous cases where mini-thumbnails would not match the expected visual look when using linear project color space. (UUM-7833)
    
*   Graphics: Fixed Single Channel Red mini-thumbnails not actually being red-only. (UUM-7833)
    
*   Graphics: Fixed undefined behaviour occurring with AssetPreview for Single Channel Alpha texture types. (UUM-7833)
    
*   Graphics: Graphics: 2D Textures with multiple faces or images now correctly update their hash values when any face/image is changed and not just the first one. ([UUM-2506](https://issuetracker.unity3d.com/issues/cubemap-hash-value-changes-only-when-modifying-the-first-face))
    
*   Graphics: The generated mini-thumbnail of TextureGenerationOutput will now properly set its expected stored color space. (UUM-7833)
    
*   iOS: Fixed forcing jobified metal rendering. (UUM-7195)
    
*   Scripting: Fixed issues with operation on invalid gc handles. As part of this 2 new asserts are introduced that are triggered when invalid gc handle operations are detected. The operations are skipped when detected to avoid scripting domain / memory corruption. (UUM-906)
    
*   Scripting: Improved diagnostic message and do not enter in safe-mode on some unsupported ApiUpdater scenarios involving .asmref adding code into .asmdef. (UUM-3564)
    
*   Shaders: Fixed a surface shader error when multiple uv sets were being used on the same texture. ([UUM-929](https://issuetracker.unity3d.com/issues/backport-surface-shader-fails-to-compile-with-redefinition-errors-when-declaring-two-uv-sets-for-the-same-texture))
    
*   UI Toolkit: Fixed broken highlight when hovering selectors with Runtime theme which references an invalid path. (UI Builder) (UUM-937)
    
*   UI Toolkit: Fixed wrong focus grabbing when refreshing BaseVerticalCollectionView. ([UUM-5440](https://issuetracker.unity3d.com/issues/backport-ui-toolkit-treeview-drop-down-arrow-is-focused-after-adding-new-children-items))
    
*   UI Toolkit: Fixes focus in the list view when navigating with arrow keys or scrolling. ([UUM-5443](https://issuetracker.unity3d.com/issues/backport-listview-becomes-unselected-when-scrolling-with-up-down-home-or-end-keys))
    
*   Universal Windows Platform: Fixed a crash when entering a composition string longer than 64 characters into the IME. ([UUM-928](https://issuetracker.unity3d.com/issues/uwp-player-crashes-when-typing-in-japanese-full-width-katakana))
    
*   Universal Windows Platform: Fixed Build & Run picking the wrong instance of Visual Studio which potentially doesn't have required components installed to deploy the application. ([UUM-931](https://issuetracker.unity3d.com/issues/uwp-build-and-run-picks-the-wrong-instance-of-visual-studio-to-build-when-there-are-multiple-installed))
    
*   WebGL: Fixed bug where the rendering canvas wasn't resizing when changing orientation. ([UUM-1135](https://issuetracker.unity3d.com/issues/mobile-web-half-of-screen-is-not-rendered-on-mobile-when-screen-orientation-is-landscape))
    
*   WebGL: Fixed connection between the WebGL player and the profiler. ([UUM-798](https://issuetracker.unity3d.com/issues/backport-webgl-profiler-does-not-autoconnect-on-webgl-builds))
    
*   WebGL: Fixed player connection used when running PlayMode tests on WebGL. ([UUM-1170](https://issuetracker.unity3d.com/issues/webgl-chrome-the-message-header-is-corrupted-and-for-security-reasons-connection-will-be-terminated-dot-errors))
    
*   Windows: Fixes topmost region of Popup windows not receiving mouse messages. ([UUM-5783](https://issuetracker.unity3d.com/issues/backport-windows-popup-window-does-not-receive-mouse-events-when-hovering-cursor-over-the-topmost-pixels))

### Known Issues in 2021.3.7f1

*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Inspector Framework: List element overlaps everything when using Serializable struct/class ([UUM-7683](https://issuetracker.unity3d.com/issues/list-element-overlaps-everything-when-using-serializable-struct-slash-class))
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   Shader System: Editor crashes when building if calling "ShaderKeyword" methods in "IPreprocessShaders" classes ([UUM-2536](https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes))
    
*   uGUI: Broken mouse pointer input coordinates in GraphicRaycaster for certain window sizes in Build when run in windowed mode ([UUM-7893](https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode))
    
*   uGUI: UI becomes not interactable after deactivating and reactivating Canvas ([UUM-9258](https://issuetracker.unity3d.com/issues/ui-becomes-not-interactable-after-deactivating-and-reactivating-canvas))
    
*   uGUI: UI Elements are no longer rendered when deactivating and reactivating the Parent GameObject ([UUM-9248](https://issuetracker.unity3d.com/issues/ui-elements-are-no-longer-rendered-when-deactivating-and-reactivating-the-parent-gameobject))
    
*   Universal RP: Lights appear significantly brighter when using the Simple Lit shader ([UUM-7851](https://issuetracker.unity3d.com/issues/lights-appear-significantly-brighter-when-using-the-simple-lit-shader))
    

### 2021.3.7f1 Release Notes

#### Features

*   Editor: Added timestamps argument to include timestamps and thread ID prefix to logs.
    
*   Editor: Adds the ability to block shortcuts from triggering during playmode while the game view window is focused.
    
*   Player: Added timestamps argument to include timestamps and thread ID prefix to logs.
    

#### Improvements

*   Editor: Added a confirmation dialog when switching serialization modes
    
*   HDRP: Further improve the consistency of non-physical depth of field at varying native rendering resolutions and resolution scales.
    

#### Changes

*   Android: Accept build-tools version 30.0.x instead of strictly 30.0.2
    
*   IAP: # Changelog  
    \## \[4.2.1\] - 2022-06-14  
    \### Fixed
    
    *   Downgrade `com.unity.services.core` from 1.4.1 to 1.3.1 due to a new bug found in 1.4.1
*   Package: Update auth package to 2.1.1
    
*   Package: Update core package to 1.4.1
    

#### Fixes

*   2D: Fixed case where Shape of PolygonCollider2D doesn't update when Sprite Shape contains vertex at \[0,0\]. ([1401376](https://issuetracker.unity3d.com/issues/shape-of-polygoncollider2d-doesnt-update-when-sprite-shape-contains-vertex-at-00-and-its-profile-doesnt-have-any-sprites))
    
*   2D: Fixed case where SpriteShape throws ArgumentException error when checking position validity of a point added to Spline. ([1387298](https://issuetracker.unity3d.com/issues/spriteshape-throws-argumentexception-error-when-checking-position-validity-of-a-point-added-to-spline))
    
*   2D: Fixed case where Tangent Data is always saved even when not in use for SpriteShapeRenderer when GeometryCache is active. (1394404)
    
*   2D: Fixed duplicate instantiated GameObjects from Tiles on Tilemap Prefabs when instantiating the Tilemap Prefabs. ([UUM-1671](https://issuetracker.unity3d.com/issues/instantiating-tilemap-that-has-rule-tile-with-default-gameobject-set-creates-extra-copy-of-gameobject-at-00-0-in-builds-1))
    
*   Android: Blind fix for an issue where executing Android SDK tool command would fail with missing java error. For ex., "Unable to locate a Java Runtime". Even though everything is set correctly in Preferences->External Tools->JDK. Also during the failure, Unity will now print environment variables thus helping identifying such issues in the future. (UUM-2106)
    
*   Android: Bring back the ability to initialize UnityPlayer with Context class, this allows Unity to initialize itself from WallpaperService. ([1413649](https://issuetracker.unity3d.com/issues/android-crash-when-using-unityplayer-getapplicationcontext-this-on-exported-andoid-projects))
    
*   Android: Fixed high memory usage when uploading 2D array textures using Vulkan on Adreno devices. (1418261)
    
*   Android: Fixed overhead of memory allocations in the Vulkan backend for allocation sizes between 128kB and 1024kB. (UUM-5966)
    
*   Android: Fixed regression where TouchScreenKeyboard.Open() was not opening. ([UUM-2112](https://issuetracker.unity3d.com/issues/tmp-android-keyboard-doesnt-show-up-when-touchscreenkeyboard-dot-open-function-is-called-on-an-android-device))
    
*   Android: Fixed Screen.safeArea returning wrong height when building Native app with Unity as a Library. ([UUM-515](https://issuetracker.unity3d.com/issues/android-screen-dot-safearea-returns-wrong-height-when-building-native-app-with-unity-as-a-library))
    
*   Asset Pipeline: Fixed an issue where generating previews of some prefabs could raise an 'unknown importer' error in the console. ([UUM-2908](https://issuetracker.unity3d.com/issues/backport-asset-importer-errors-on-the-initial-import-of-prefabs))
    
*   DX12: Fixed for crash when an upload subupdates buffer was assigned to a compute shader as a UAV. (UUM-5770)
    
*   Editor: Fixed crash when moving non-empty folder to a target containing another folder with the same name in the Project Browser. (UUM-5197)
    
*   Editor: Fixed occasional crash when loading TIFFs with bad thumbnail tags. ([UUM-3783](https://issuetracker.unity3d.com/issues/editor-crashes-on-freeimage-makethumbnail-after-importing-tif-file))
    
*   Editor: Replaced the scene asset icon with new Unity logo. (1385124)
    
*   Game Core: Fixed crash on pre-processor only compilation of compute shaders. (UUM-908)
    
*   GI: Fixed Light Probes losing their lighting data after entering Play mode when Baked and Realtime GI are enabled. ([UUM-3968](https://issuetracker.unity3d.com/issues/lightprobes-probes-lose-their-lighting-data-after-entering-play-mode-when-baked-and-realtime-gi-are-enabled))
    
*   GI: Fixed SetLightingDataAsset with multiscenes (caused the lightmaps to disappear for other scenes). ([UUM-916](https://issuetracker.unity3d.com/issues/backport-assigning-a-lighting-data-asset-causes-the-lightmaps-to-be-unloaded-for-all-scenes-except-the-active-one))
    
*   GI: \[GPU PLM\] OpenCL shader loading time in new projects has become significantly slower. Fixed regression by speeding up OpenCL shader loading stage by caching binaries in the GICache. ([UUM-1350](https://issuetracker.unity3d.com/issues/gpu-plm-opencl-shader-loading-time-in-the-new-projects-has-become-significantly-slower-1))
    
*   Graphics: Fixed some dropdown menus in the Mac Editor that would previously jitter or jerk out with artifacts when opened. ([UUM-5546](https://issuetracker.unity3d.com/issues/mac-profiler-profiling-mode-dropdown-view-jerks-out-when-interacting-with-any-dropdown-arrows-in-the-menu))
    
*   Graphics: SkinnedMeshRenderer and MeshRenderer are now in the same SRP Batch during shadow pass. ([UUM-4336](https://issuetracker.unity3d.com/issues/draw-calls-that-batch-in-opaque-pass-do-not-batch-in-shadow-pass-when-some-of-the-draw-calls-come-from-skinnedmeshrenderer-and-some-come-from-meshrenderer))
    
*   Graphics: Switching vsync mode while in a Metal player could sometimes cause a freeze due to the vsync status not syncing correctly before waiting on the frame present - this has been fixed. ([UUM-5547](https://issuetracker.unity3d.com/issues/mac-metal-player-freezes-when-vsync-is-turned-on-with-button-onclick-event))
    
*   HDRP: Add a blendable perceptual blending parameter on volumetric clouds to get rid of over exposure artifacts. (1407686)
    
*   HDRP: Adding mechanism in HDRP to strip FragInputs, which will allow us to strip some interpolators in the pixel shader For shader graphs. ([1399841](https://issuetracker.unity3d.com/issues/hdrp-path-tracing-samples-are-not-captured-with-recorder-when-shutter-interval-is-set-to-0))
    
*   HDRP: Facilitated reactivation of Ray Tracing Light Cluster in Path Tracing. (1404944)
    
*   HDRP: Fixed a performance issue with Single Shadow debug mode. (1400281)
    
*   HDRP: Fixed a render error when disabling both motion vectors and opaques. (1410622)
    
*   HDRP: Fixed a render graph error when opening a project with default lighting enabled and clouds in the scene. ([UUM-3339](https://issuetracker.unity3d.com/issues/render-graph-execution-errors-are-thrown-when-restarting-hdrp-project-with-deactivated-scene-lighting))
    
*   HDRP: Fixed a render graph error when using Output AOV in non-dev builds. ([1421560](https://issuetracker.unity3d.com/issues/hdrp-output-aov-black-in-player))
    
*   HDRP: Fixed accumulation when shutter interval is zero. ([1399841](https://issuetracker.unity3d.com/issues/hdrp-path-tracing-samples-are-not-captured-with-recorder-when-shutter-interval-is-set-to-0))
    
*   HDRP: Fixed an issue with decals not scaling with a parent transform. (1401887)
    
*   HDRP: Fixed artifacts on the edges of the screen when enabling volumetric clouds. (1400011)
    
*   HDRP: Fixed blend mode label field. ([1410907](https://issuetracker.unity3d.com/issues/hdrp-unable-to-find-style-warnings-are-thrown-in-the-console-log-when-selecting-two-or-more-specific-materials))
    
*   HDRP: Fixed Cloud Layer rendering on nvidia gpus. ([1401162](https://issuetracker.unity3d.com/issues/hdrp-cloud-layer-renders-a-black-screen-on-nvidia-gpu-10xx-series))
    
*   HDRP: Fixed custom post-processes not released correctly when switching HDRP assets. ([1419924](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-changing-quality-level-on-hdrp))
    
*   HDRP: Fixed errors in HDR comparison doc. (1410049)
    
*   HDRP: Fixed errors when switching to SMAA. ([1401225](https://issuetracker.unity3d.com/issues/hdrp-switching-to-smaa-throws-errors))
    
*   HDRP: Fixed for Texture2D and Texture3D parameters not accepting 'None' as value. (1406928)
    
*   HDRP: Fixed game view goes greenish and then black in editor with DX12/Vulkan (1415948)
    
*   HDRP: Fixed the documentation for recursive rendering not being clear enough for the smoothness' behavior. (1409004)
    
*   HDRP: Fixed the SSR not properly working on deferred with tiles with multiple variants. ([1399311](https://issuetracker.unity3d.com/issues/edgy-artifact-on-the-reflection-when-the-coat-masks-value-is-greater-than-0))
    
*   HDRP: Fixed Volumetric Clouds texture input fields. (1408252)
    
*   HDRP: Fixrd a NaN resulting from path traced hair materials with certain base color inputs. (1411249)
    
*   HDRP: Improved the default state of newly created Planar Reflection Probes. (1420128)
    
*   HDRP: Made sure that camera jittering is disabled in Path Tracing. (1399440)
    
*   HDRP: updated accumulation API scripts to solve issue with screen shot capture in certain Unity Editor workflows. (1415399)
    
*   IL2CPP: Avoid incorrect behavior of the Array::Set method when the faster (smaller) builds IL2CPP code generation option is used. ([1411185](https://issuetracker.unity3d.com/issues/il2cpp-2d-vector3-array-converted-to-2d-vector4-array-has-zeroed-vectors-in-player-whose-code-generation-is-for-faster-runtime))
    
*   IL2CPP: Avoided a stack overflow during code conversion when an attribute constructor uses the attribute itself. ([UUM-3907](https://issuetracker.unity3d.com/issues/il2cpp-project-with-nhibernate-library-fails-to-build-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Copy .h source plugin files into the Gradle project generated for Android builds. ([UUM-3641](https://issuetracker.unity3d.com/issues/header-files-are-not-included-in-exported-projects-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed "Cannot add a generic parameter reference without an instance" error when converting a method with a generic function pointer. ([1427170](https://issuetracker.unity3d.com/issues/il2cpp-exception-when-using-function-pointer-with-generic-parameter-from-type-and-method))
    
*   IL2CPP: Fixed issue where a try block inside of a loop nested in a try/finally block could cause the finally handler to run multiple times. ([1402180](https://issuetracker.unity3d.com/issues/objectdisposedexception-is-caught-when-an-unused-variable-is-declared-in-the-using-statement))
    
*   IL2CPP: Fixed issue where assemblies with an instance method and a static method with the same name, parameters, and return type would cause the build to fail. ([1411168](https://issuetracker.unity3d.com/issues/build-fails-with-error-unity-dot-il2cpp-dot-hashcodecollisionexception-when-opc-dot-uafx-dot-client-dot-dll-is-included-in-the-project))
    
*   IL2CPP: Fixed issue where Assembly.GetType() on a type without a namespace could match a nested type with the same name and issue where Assembly.GetType() did not respect the ignoreCase flag for nested types. ([1422119](https://issuetracker.unity3d.com/issues/il2cpp-assembly-dot-gettype-returns-a-nested-class-when-the-nested-class-is-defined-before-the-non-nested-one))
    
*   IL2CPP: Fixed performance issues in metadata access with thread contention. (UUM-609)
    
*   IL2CPP: Fixed performance regression in regular expressions. ([UUM-590](https://issuetracker.unity3d.com/issues/il2cpp-regex-perfomance-regression-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed possible runtime crash when a generic type is used as a base class generic parameter. ([UUM-1129](https://issuetracker.unity3d.com/issues/inflatefielddefinition-crash-in-builds-when-a-specific-script-is-included-and-il2cpp-code-generation-is-set-to-faster-runtime))
    
*   IL2CPP: Throw a managed exception when CreateDelegate is called with a delegate type that was not generated ahead of time. ([UUM-817](https://issuetracker.unity3d.com/issues/crashes-with-interfaceactioninvoker2-int-il2cppobject-star-when-launching-il2cpp-build-with-input-system))
    
*   Mono: Correct issue where FileSystemEventArgs.FullPath did not return a fully qualified path. ([UUM-1822](https://issuetracker.unity3d.com/issues/backport-failed-to-load-a-custom-asset-when-using-naninovel-package))
    
*   Mono: Fixed "The BinaryReader read data to a Span is always zero." ([UUM-866](https://issuetracker.unity3d.com/issues/backport-the-binaryreader-read-data-to-a-span-is-always-zero))
    
*   Mono: Fixed issue where FileSystemEventArgs.FullPath would have an incorrect path if FileWatcher event was on a file in a subdirectory. ([1397564](https://issuetracker.unity3d.com/issues/filesystemwatcher-returns-bad-file-path))
    
*   Mono: Fixed System.Windows.Forms.SendKeys.Send on Windows.
    
*   Package Manager: Fixed an issue where some `PackageInfo` properties would not be populated correctly if the package came from a GitHub registry. ([1354652](https://issuetracker.unity3d.com/issues/displayname-in-package-dot-json-is-ignored-if-the-package-is-from-github))
    
*   Particles: When using the Built-in Rendering Pipeline, prevent the Standard Unlit Particle shader from performing unnecessary lighting calculations on the CPU. ([UUM-827](https://issuetracker.unity3d.com/issues/backport-duplicate-unlit-particle-system-draw-calls-cant-be-batched-when-there-are-multiple-lights-in-the-scene))
    
*   Scripting: Fixed case when double-clicking message wouldn't open the correct file and line. ([UUM-897](https://issuetracker.unity3d.com/issues/backport-script-not-opening-when-double-clicking-error))
    
*   UI Toolkit: Fixed a bug where ListView and TreeView using SelectionType.None would still be selectable with double click and navigation keys. (UUM-5438)
    
*   UI Toolkit: Fixed an issue where the expanded state of the ListView would not be serialized across selections. (UUM-1461)
    
*   UI Toolkit: Fixed disabled UIDocument still being rendered on editor start. (UUM-793)
    
*   UI Toolkit: Fixed VisualElements change scaling when mouse moves over a different window on a higher DPI display. ([UUM-7260](https://issuetracker.unity3d.com/issues/visualelements-change-scaling-when-mouse-moves-over-ui-builder-window-on-a-higher-dpi-display-1))
    
*   URP: URP 2D - Fixes vertex color for sprite shapes. ([UUM-1921](https://issuetracker.unity3d.com/issues/2d-sprite-shape-urp-spriteshape-alpha-value-of-color-not-working-when-using-urp-and-sprite-lit-default-mat))
    
*   Version Control: Fixed missing references in synced prefabs.
    
*   VFX Graph: Position ArcSphere failing with BlendDirection. ([UUM-1295](https://issuetracker.unity3d.com/issues/vfx-graph-blend-direction-arcsphere-bug))
    
*   VFX Graph: Unexcepted double blend direction slot on Position Mesh block. (UUM-5082)
    
*   VFX Graph: Unexpected lossy scale evaluation on GPU. (UUM-539)
    
*   XR: Fixed Screen Space Shadows in Single Pass Instancing.

### Known Issues in 2021.3.6f1

*   AI Navigation: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Customer QA Onboarding: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project (UUM-3207)
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Shader System: Editor crashes when building if calling "ShaderKeyword" methods in "IPreprocessShaders" classes ([UUM-2536](https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes))
    
*   Text: \[Mac\] ShortcutManager ignores Shift modifier ([UUM-4083](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1))
    

### 2021.3.6f1 Release Notes

#### Features

*   Package Manager: Related to \[PAX-1772\](https://jira.unity3d.com/browse/PAX-1772) As a user I should be able to specify the location of the AssetStore cache

#### Improvements

*   Burst: Support for \_\_Unmanaged for non-extern functions
    
*   Burst: Used explicit namespace for UnityEditor.PackageManager.Events to avoid conflicts.
    
*   DX12: Set swapchain background color to make resize visually more pleasing and disable scaling in resize.
    
*   Windows: Added "-force-d3d11-flip-model" command line parameter to force Unity to use DXGI flip model swap chain.
    

#### API Changes

*   UI Toolkit: Added: Added a NestedInteractionKind enum to ScrollView to give control over event propagation while scrolling.

#### Changes

*   XR: The Oculus XR Plugin package has been updated to 3.0.2.

#### Fixes

*   Android: Allow any file to be selected as keystore (previously only .keystore was supported). ([UUM-917](https://issuetracker.unity3d.com/issues/backport-keystore-file-is-not-recognized-by-editor-when-keystore-has-any-other-extension-than-keystore))
    
*   Android: Fix video with alpha when using Vulkan on some older devices. ([1407184](https://issuetracker.unity3d.com/issues/android-uitoolkit-vp8-webm-video-with-transparency-rendering-as-translucent-in-ui-toolkit))
    
*   Android: Fixed a potential app store validation issue related to a QueryIntentActivities() call when initializing the engine.
    
*   Android: Fixed crash during low memory kill. (UUM-4811)
    
*   Android: Fixed Java local reference leak when AndroidJavaProxy is passed as argument to AndroidJavaObject.Call/CallStatic. ([1389252](https://issuetracker.unity3d.com/issues/android-app-crashes-with-androidruntime-and-local-reference-table-overflow-errors-when-creating-512-androidjavaclass-objects))
    
*   Android: Fixed Patch (/And Run) failing on some Android 12 devices with "Permission Denied" or "No such file or directory". (UUM-2445)
    
*   Asset Bundles: Refactors out the requiresTextureCompression boolean flag.  
    The texture compression setting is now set internally from either the existing EditorPrefs setting kCompressTexturesOnImport or checking if the BuildPipeline build is in progress. (UUM-3653)
    
*   Burst: A potential issue with the debug info mover pass, that meant it only affected the first entry point in a module.
    
*   Burst: Added workaround for "cannot dlopen until fork() handlers have completed" issue seen in macOS 12.3.
    
*   Burst: Fixed a bug that manifested when using IAP in UWP builds with Burst - we were scanning the assembly hierarchy too deep for Bursted types, which led to an `AssemblyResolutionException`.
    
*   Burst: Fixed a bug where using `ReinterpretStore(someIndex, (ushort)someValue)` could cause an internal compiler error in Burst.
    
*   Burst: Fixed a bug with `Span` and `ReadOnlySpan` types where if the indices used were not already 32-bit signed integers, an internal compiler error would occur if running with safety checks enabled.
    
*   Burst: Fixed a compiler crash if users used `__refvalue` or `__arglist` in Burst. Neither of these are supported, but now we will nicely tell you via a compiler error that they aren't supported.
    
*   Burst: Fixed a compiler error when trying to acquire the function pointer of a generic function from Bursted code.
    
*   Burst: Fixed a memory leak where during hashing we'd pin a GC object and never unpin and free it.
    
*   Burst: Fixed bug in static constructor ordering in the presence of indirect dependencies between static constructors (i.e. static constructor -> static method -> static constructor) that could result in a runtime crash.
    
*   Burst: Fixed compiler crash when the only usage of a static field was in a formatted exception string.
    
*   Burst: Fixed compiler crash when trying to dynamically call `BurstCompiler.CompileFunctionPointer` in Burst-compiled code.
    
*   Burst: Fixed hashing bug that could occur when a function pointer type is used in a method parameter.
    
*   Burst: Fixed hashing error that could occur in the presence of multiple synthesized explicit interface implementations with the same name and signature.
    
*   Burst: Fixed hashing error that could occur with unbound generic type.
    
*   Burst: Using a function only through a C# function pointer could cause a crash.
    
*   Editor: Fixed Verify Saved Assets modal window to accept changed graphics api. ([1380734](https://issuetracker.unity3d.com/issues/scene-and-asset-changes-not-saved-when-verify-saving-assets-is-enabled-on-the-linux-editor))
    
*   Editor: Fixed Verify Saved Assets modal window to accept user input. ([1365765](https://issuetracker.unity3d.com/issues/graphics-apis-for-linux-reset-to-previous-state-uppon-editor-restart-when-verify-saving-assets-option-is-enabled))
    
*   Editor: IndexOutOfRangeException is thrown when openning Object Picker. ([UUM-2825](https://issuetracker.unity3d.com/issues/backport-indexoutofrangeexception-is-thrown-when-triggering-showobjectpicker-in-a-custom-node-graph))
    
*   GI: Fixed the pushoff setter on GPU lightprobes baking. (UUM-857)
    
*   Graphics: "Rim left" and "Rim right" presets are difficult to visualize in the inspector. (1399494)
    
*   Graphics: Draw calls with not all ComputeBuffers bound correctly can lead to crashes on M1. Calls are now discarded and error message is output with shader name. (1395963)
    
*   Graphics: Fixed a performance issue in the SRP Render loop. ([UUM-6109](https://issuetracker.unity3d.com/issues/hdrp-renderloop-dot-prepare-takes-up-a-lot-of-cpu-1))
    
*   Graphics: Fixed false positives from checking if all buffers are bound correctly on Metal. (1395963)
    
*   Graphics: Fixed for updated XR Display headers breaking Oculus App Spacewarp (ASW) due to error in back-compat code path (UUM-7369)
    
*   Graphics: Fixed LightAnchor when camera is tilted, work with Local and World Up. ([1403119](https://issuetracker.unity3d.com/issues/up-direction-is-not-set-and-calculated-as-expected-when-using-light-anchor))
    
*   Graphics: Fixes incorrectly regenerated thumbnails when reimporting sprites with an asset postprocessor. ([UUM-5469](https://issuetracker.unity3d.com/issues/backport-thumbnail-in-the-project-window-is-not-updated-when-a-sprites-texture-is-altered))
    
*   HDRP: Added an error message in the custom pass volume editor when custom passes are disabled in the HDRP asset. (1407146)
    
*   HDRP: Added the volumetric clouds to the feature list of HDRP (case 1410051). (1410051)
    
*   HDRP: Changed back height of the path tracing progress bar to 0.5% of the resolution. (1404944)
    
*   HDRP: Fixed an issue regarding the scaling of texture read from the after-post-process injection point. (1412459)
    
*   HDRP: Fixed black screen with MSAA and TAAU both enabled. (1411217)
    
*   HDRP: Fixed constant repaint when static sky set to none. (1414957)
    
*   HDRP: Fixed custom pass material editor not displaying correctly read-only materials. (1411764)
    
*   HDRP: Fixed decal angle fade for decal projectors. (1410918)
    
*   HDRP: Fixed DRS resolution not working for custom post process / custom passes. Pre post effect passes looked croppted (case 1398904). ([1398904](https://issuetracker.unity3d.com/issues/hdrp-drs-with-custom-pass-render-only-a-cropped-up-slash-scaled-up-version-when-both-at-active-drs-plus-custom-pass))
    
*   HDRP: Fixed error on lens flare enabled causing motion vectors to be faulty. ([1398635](https://issuetracker.unity3d.com/issues/hdrp-motion-blur-and-taa-cause-blurriness-when-using-lens-flare-and-having-decals-disabled))
    
*   HDRP: Fixed flickering tiles on FPTL when light count exceeds 32 on vulkan. Caused by a compiler bug vulkan only (case 1401605). (1401605)
    
*   HDRP: Fixed for baked reflection probes. ([1403131](https://issuetracker.unity3d.com/issues/hdrp-reflections-can-look-white-due-to-fog-influence))
    
*   HDRP: Fixed HDRP Wizard windows duplicated when entering in play mode. ([1407981](https://issuetracker.unity3d.com/issues/empty-hdrp-wizard-window-is-initialised-when-entering-the-play-mode))
    
*   HDRP: Fixed issue that would always save Decal Materials when saving the scene. (UUM-6276)
    
*   HDRP: Fixed issue with motion blur having small holes in its blur with high velocities. (1415008)
    
*   HDRP: Fixed issue with overblown exposure when doing scene filtering. (1333684)
    
*   HDRP: Fixed issue with path tracing, when Ambient Occlusion Remapping is forced to zero on materials. (1401329)
    
*   HDRP: Fixed issue with specular occlusion being wrongly quantized when APV is enabled in HDRP. ([1407475](https://issuetracker.unity3d.com/issues/hdrp-low-value-specular-occlusion-areas-are-black-when-probe-volumes-is-enabled))
    
*   HDRP: Fixed label for background clouds in Environment Lighting tab. ([1409875](https://issuetracker.unity3d.com/issues/hdrp-ux-issue-with-clouds-ambient-modes-in-lighting-tab))
    
*   HDRP: Fixed lens flare wobbling caused by using jittered matrix, more visible with DLSS (case 1403463). (1403463)
    
*   HDRP: Fixed min percentage of dynamic resolution in HDRenderPipeline not clamped (case 1408155). ([1408155](https://issuetracker.unity3d.com/issues/hdrp-drs-settings-max-screen-percent-not-clamped-by-min-screen-percent-value))
    
*   HDRP: Fixed missing menu item to create reflection proxy volume. (1401202)
    
*   HDRP: Fixed Planar Probe not rendering when sky is None. (1410628)
    
*   HDRP: Fixed Reflection Proxy Volume allowing negative values. (1401205)
    
*   HDRP: Fixed the history buffers being all discarded when the number of ColorPyramidBuffers changed (case 1405726). ([1405726](https://issuetracker.unity3d.com/issues/hdrp-volumetric-clouds-jumps-when-entering-a-local-volume-with-some-features-like-ssr))
    
*   HDRP: Removed clamping for ray traced reflections on transparent objects (case 1414178). ([1414178](https://issuetracker.unity3d.com/issues/hdrp-sky-reflection-is-being-clamped-when-receive-ssr-transparent-is-enabled))
    
*   HDRP: Updated frame diagram image in documentation (missing Flim grain and Dithering). (1407628)
    
*   HDRP: Volumetric fog color no longer affects height fog when disabled. ([1414943](https://issuetracker.unity3d.com/issues/hdrp-fogs-albedo-is-affecting-color-even-when-volumetric-mode-is-disabled))
    
*   Linux: Enabled macro in sdl to enable deadkey response in built executable. ([1134402](https://issuetracker.unity3d.com/issues/linux-keyboard-dead-keys-are-not-reported-in-new-input-system))
    
*   Linux: Fixed crash caused by destroying MenuItem widgets and accessing their data in GTK handlers. (1372311)
    
*   Linux: Fixed crash when launching standalone profiler on Linux. ([UUM-5543](https://issuetracker.unity3d.com/issues/profiler-linux-standalone-profiler-does-not-open-logs-externalprocess-onexitedmainthread-1))
    
*   Linux: Fixed missing game controller mappings for certain controllers. (1384896)
    
*   Linux: Fixed print stack trace frequently crashing (UUM-1595)
    
*   Networking: Fixed IPv6 support on Windows and Android. ([UUM-926](https://issuetracker.unity3d.com/issues/backport-unity-webrequest-does-not-work-when-only-ipv6-is-enabled))
    
*   Particles: Fixed errors when viewing a Force Field Preset inspector whilst entering Playmode. ([UUM-1818](https://issuetracker.unity3d.com/issues/backport-particlesystemforce-errors-are-thrown-on-accessing-preset-when-particlesystemforce-is-deleted))
    
*   Physics 2D: Ensure that the PlatformEffector2D continually calculates friction/bounce when something is in contact with it. ([UUM-1684](https://issuetracker.unity3d.com/issues/platform-effector-2d-components-disabled-use-side-friction-property-doesnt-work-when-a-gameobject-is-falling-off-the-corner))
    
*   Prefabs: Removed unpack Prefab instances option when deleting Prefabs  
    This makes case 1360671 obsolete. (UUM-3368)
    
*   Profiler: Fixed Memory Profiler capture reloading unloaded assets referenced by scripts. ([UUM-898](https://issuetracker.unity3d.com/issues/backport-memory-profiler-throws-object-lock-exceptions-when-capturing-editor-memory))
    
*   Profiler: Fixed untracked memory allocated via AsyncUploadManager when browsing Addressables. ([1410384](https://issuetracker.unity3d.com/issues/allocated-memory-block-with-no-root-area-cannot-be-tracked-when-loading-asset-bundles))
    
*   Scripting: Fixed issue where OnPostRender is called multiple times per frame when setting Application.targetFrameRate. ([UUM-911](https://issuetracker.unity3d.com/issues/backport-onpostrender-is-called-multiple-times-per-frame-when-setting-application-dot-targetframerate))
    
*   Scripting: Fixed issue where yielding WaitForEndOfFrame was getting called too many times per Editor player loop. ([UUM-904](https://issuetracker.unity3d.com/issues/backport-coroutine-with-waitforendofframe-finishes-too-soon-when-the-framerate-is-capped-using-application-dot-targetframerate))
    
*   Security: Updated OpenSSL to 1.1.1m. (1352528)
    
*   Shaders: Editor in -nographics mode does not support compute shaders. ([1410540](https://issuetracker.unity3d.com/issues/shader-compiler-crashes-when-calling-computeshader-dot-getkernelthreadgroupsizes-with-nographics-flag-in-batch-mode))
    
*   Text: Fixed Text component not rendering elements with floating point coordinates correctly on machines with locale set to one that uses commas as decimal separators. (UUM-868)
    
*   Text: Fixed the UTF-16 to UTF-8 conversion error when inputting an emoji into a text game object.
    
*   uGUI: Reverted the default behavior for UI elements that implement IPointerEnter/Exit back to what it was before: when hovering a child component, it also sends the hovering event to the parent(s).  
    Also added a field (sendPointerHoverToParent) in the BaseInputModule that can be set to false to change the behavior to: when hovering a child component, it doesn't send the hover event to the parent(s). ([UUM-2468](https://issuetracker.unity3d.com/issues/button-isnt-highlighted-when-the-mouse-re-enters-the-buttons-child-image-which-is-set-as-buttons-target-graphic))
    
*   UI Toolkit: Fix SVG 9-slice visual artefact. (UUM-5434)
    
*   UI Toolkit: Fixed an issue where the UI Builder breaks the cursor property when saving by appending a comma between the additional parameters. ([UUM-872](https://issuetracker.unity3d.com/issues/backport-ui-builder-breaks-cursors-parameters-in-the-uss-file-when-changing-uss-files-values-in-the-ui-builder-window))
    
*   UI Toolkit: Fixed nested scroll view behaviour on mobile; scrolling will stay in the scroll view that initiated the drag. (UUM-941)
    
*   UI Toolkit: This fixes the following:
    
    *   1357086: Changes in UI Builder are lost when editing a 2D sprite
        
    *   UIT-1233: UIBuilder: Message in dialog unclear - "UI Builder: Document has unsaved changes"  
        The message appearing on screen is now clearer and a bit more explanatory for users. While it doesn't fix the problem at the source, it at least informs users more efficiently (about the reasons why they ended up there). ([UUM-847](https://issuetracker.unity3d.com/issues/backport-changes-in-ui-builder-are-lost-when-editing-a-2d-sprite))
        
*   Universal Windows Platform: Fixed Application.OpenURL asserting due to not freeing temporary memory. ([UUM-2205](https://issuetracker.unity3d.com/issues/backport-uwp-universal-windows-platform-build-crashes-when-using-application-dot-openurl))
    
*   Universal Windows Platform: Fixed errors when trying to use the System.Web.HttpUtility class on UWP. (UUM-4008)
    
*   Universal Windows Platform: Fixed memory leak when creating new PlayerPrefs with key that is longer than 25 characters. (UUM-4166)
    
*   URP: URP 2D - Fix Light2D upgrading issue with m\_AlphaBlendOnOverlap property ([UUM-1845](https://issuetracker.unity3d.com/issues/light-2d-alpha-blend-on-overlap-setting-does-not-update-when-upgrading-project-to-urp-11))
    
*   VFX Graph: Fixed exception when there is a GPU in subgraph and flow link in parent graph. ([UUM-571](https://issuetracker.unity3d.com/issues/vfx-property-binder-breaks-when-connecting-gpu-event-to-initialize-particle-nodes-that-are-connected-to-output-particle-nodes-1))
    
*   Video: Video player no longer suffers performance issues in windowed mode with external monitor. ([1350851](https://issuetracker.unity3d.com/issues/macos-video-loading-performance-degrades-when-app-is-in-windowed-mode-and-an-external-monitor-is-connected))
    
*   Web: Implemented Application.RequestUserAuthorization/HasUserAuthorization API:  
    https://docs.unity3d.com/2022.1/Documentation/ScriptReference/Application.RequestUserAuthorization.html and sets the front facing mode of devices that don't include "front" or "back" in their label to true ([1283191](https://issuetracker.unity3d.com/issues/webgl-webcamdevice-dot-isfrontfacing-always-returns-false-on-webgl-android))
    
*   WebGL: Fixed clearing of user template variables when template is switched. ([1328657](https://issuetracker.unity3d.com/issues/webgl-template-custom-user-variables-are-cleared-when-switching-between-templates))
    
*   WebGL: Removed 255 character limit for audio file urls. ([1327368](https://issuetracker.unity3d.com/issues/webgl-build-crashes-when-requesting-255-character-url-with-unitywebrequestmultimedia-dot-getaudioclip))
    
*   Windows: Fixed Screen.currentResolution containing incorrectly rounded refresh rate. ([UUM-1512](https://issuetracker.unity3d.com/issues/windows-the-returned-screen-refresh-rate-is-rounded-down-when-calling-screen-dot-currentresolution-1))
    
*   Windows: Fixed the game window teleporting to another display on certain display setups when switching to exclusive fullscreen mode at resolution that's significantly lower than the display's native resolution. ([UUM-1513](https://issuetracker.unity3d.com/issues/screen-dot-setresolution-with-exclusivefullscreen-and-lower-than-half-the-native-resolution-moves-the-window-to-another-display))
    
*   XR: Fixed XR devices not following RunInBackground setting in Player Setting on PC standalone and playmode in Editor.

### Known Issues in 2021.3.5f1

*   AI Navigation: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Customer QA Onboarding: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project (UUM-3207)
    
*   HD RP: \[HDRP\] RT Shadow for Area lights do not render correctly ([UUM-5925](https://issuetracker.unity3d.com/issues/hdrp-rt-shadow-for-area-lights-do-not-render-correctly))
    
*   HD RP: \[HDRP\]\[DXR\] RT Shadows ghosts on one view when we have two cameras at the same time ([UUM-2150](https://issuetracker.unity3d.com/issues/hdrp-dxr-rt-shadows-ghosts-on-one-view-when-we-have-two-cameras-at-the-same-time))
    
*   HD RP: \[HDRP\]\[PathTracer\] Flashing at first frame blow up the automatic progressive exposure and create an overexposed converged frame when using recorder with accumulation ([UUM-2427](https://issuetracker.unity3d.com/issues/hdrp-pathtracer-flashing-at-first-frame-blow-up-the-automatic-progressive-exposure-and-create-an-overexposed-converged-frame-when-using-recorder-with-accumulation))
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Text: \[Mac\] ShortcutManager ignores Shift modifier ([UUM-4083](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1))
    

### 2021.3.5f1 Release Notes

#### Improvements

*   2D: Com.unity.2d.animation - Updated Visibility Tab documentation page.
    
*   Asset Import: Importing Models and their Materials using MaterialDescription will correctly use the glossiness value from the Material Fbx properties and applies it to the Standard Shader. ([1370645](https://issuetracker.unity3d.com/issues/glossiness-is-ignored-when-importing-fbx-materials))
    
*   Graphics: Reduced command buffer CPU overhead.
    
*   Graphics: Reduced RenderGraph CPU overhead.
    

#### Changes

*   2D: Com.unity.2d.animation - Removed the 'Open' button from Sprite Library Asset and Sprite Library Source Asset inspectors.
    
*   Serialization: Changed alignment in Resource Image transfer function from 4 to 16 bytes to improve patching results on some platforms.
    

#### Fixes

*   Android: Fixed potential crash during shutdown when using Vulkan. (1423459)
    
*   Animation: Fixed InvalidOperationException when undoing in Animator Window with empty AnimatorController. ([UUM-1853](https://issuetracker.unity3d.com/issues/backport-invalidoperationexception-is-thrown-when-undoing-changes-while-animator-window-is-opened))
    
*   Asset Import: Fixed an issue that importing Models and their Materials using MaterialDescription will correctly use the glossiness value from the Material Fbx properties and applies it to the Standard Shader in HDRP and URP. ([1370665](https://issuetracker.unity3d.com/issues/urp-smoothness-value-of-material-changes-from-0-to-0-dot-5-when-upgrading-the-material-to-urp))
    
*   Asset Import: Fixed an issue where the Model Importer remaps materials even when MaterialImportMode is None. ([1401070](https://issuetracker.unity3d.com/issues/fbx-doesnt-change-its-prefabs-material-to-default-material-after-setting-material-creation-mode-to-none))
    
*   Asset Import: Fixed internal MaterialDescription AssetPostprocessor priorities to -1000 so they don't conflict with users default implementations. ([1360618](https://issuetracker.unity3d.com/issues/fbx-setting-values-in-materialdescriptor-doesnt-work))
    
*   Asset Import: Scripted importers that use Allocator.Temp allocated memory no longer leak memory on the asset import worker.
    
*   Editor: Fixed default vertex colors for the billboard LOD vertex data for SpeedTree v8 imports. ([1417551](https://issuetracker.unity3d.com/issues/speedtree-speedtreeimporter-misses-assigning-a-proper-colour-to-billboard-vertices-resulting-in-them-being-multi-coloured))
    
*   Editor: Fixed ReorderableList first element height when the element uses PropertyDrawer. ([1409773](https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers))
    
*   Editor: Fixed spurious assembly file locking which could prevent rebuild after using the right clic "Open source code" on a test in the Test Runner window.
    
*   GI: The editor could crash in case of overlapping light probes when additively loaded scenes. This fix eliminates an attempt to deduplicate light probes with respect to positions. A warning is introduced as the lack of deduplication could cause flickering objects.
    
*   Graphics: Allowed a native Texture3D to be bigger than 2GB. (UUM-4006)
    
*   Graphics: Disabled dynamic lightmapping shader variants that have DOTS\_INSTANCING\_ON enabled.
    
*   Graphics: Fixed a crash happening when an invalid Skinned Mesh Renderer is used with Ray Tracing effects. (1404046)
    
*   Graphics: Fixed consistent Gfx.WaitForPresentOnGfxThread editor spikes when using Metal. Also fixed issue which caused the Game View FPS to drop when the editor was moved to a different display. In addition, fixed bad performance when Game View was displayed in a different window at the same time as the Scene View. (UUM-4697)
    
*   Graphics: Fixed occasional crash when compressing to ETC2 with Texture2D.Compress. ([1417802](https://issuetracker.unity3d.com/issues/unity-crashes-when-compressing-texture-with-non-power-of-2-dimension-size-texture-using-texture2d-dot-compress))
    
*   Graphics: Fixed potential stall on buffer uploads in OpenGL GfxDevice. ([1369478](https://issuetracker.unity3d.com/issues/android-consecutive-calls-to-graphics-dot-drawprocedural-take-a-huge-amount-of-time-on-mali-gpus))
    
*   Graphics: Fixed realoading of VFX Assets while inspecting a Cube Render Texture. ([1340307](https://issuetracker.unity3d.com/issues/vfxs-reimport-when-entering-play-mode-if-a-render-texture-of-dimension-cube-is-selected))
    
*   Graphics: Fixed reinitializing of a compressed, non-crunched texture. ([1401977](https://issuetracker.unity3d.com/issues/texture2d-dot-reinitialize-throws-error-when-resizing-with-a-compressed-textureformat))
    
*   Graphics: Shadow casters with different UnityPerMaterial aren't properly SRP Batched. ([1421660](https://issuetracker.unity3d.com/issues/shadow-casters-cant-be-srp-batched-when-they-have-different-unitypermaterial-values))
    
*   IL2CPP: Corrected the behavior of named pipes on Windows platforms. ([1420995](https://issuetracker.unity3d.com/issues/il2cpp-platformnotsupportedexception-when-instantiating-a-system-dot-io-dot-pipes-dot-namedpipeclientstream))
    
*   IL2CPP: Corrected the module initializer function call signature to avoid calling the wrong method on WebGL. ([1399638](https://issuetracker.unity3d.com/issues/webgl-player-freezes-on-startup-when-calling-getmonomanagerptr))
    
*   Input: Fixed Alt-Tabbing out of build leaves the Alt key pressed on return. ([1399038](https://issuetracker.unity3d.com/issues/alt-tabbing-out-of-build-leaves-the-alt-key-pressed-on-return))
    
*   Input: Fixed InputSystem.QueueStateEvent throwing exceptions when called from non-main thread. ([1348778](https://issuetracker.unity3d.com/issues/inputsystem-new-inputsystem-queuestateevent-cannot-be-called-from-another-thread))
    
*   Input: Fixed keys being stuck pressed when application regains focus on Windows Standalone, macOS with input system package. ([1361145](https://issuetracker.unity3d.com/issues/ispressed-keeps-returning-true-when-it-was-true-before-minimizing-the-build-window))
    
*   Input: Fixed mouse coordinates being incorrect until first move on Windows Standalone, Linux, macOS with input system package. ([1231907](https://issuetracker.unity3d.com/issues/mouse-coordinates-reported-as-00-until-the-first-move))
    
*   Input: Fixed PrintScreen key reported as pressed when pressing Insert/Home/Del/etc with NumLock being off with Input System package on Windows (also modified UWP and GDK). ([1359217](https://issuetracker.unity3d.com/issues/certain-input-system-keys-trigger-prtscn-with-either-numlock-on-or-off))
    
*   Input: Fixed Touchscreen.pressure being corrupted on Windows Standalone with input system package. ([1378194](https://issuetracker.unity3d.com/issues/touchscreen-dot-pressure-memory-not-cleared-leading-to-nan-value))
    
*   Kernel: Fixed an issue when attempting to load corrupted rest-certificate.pem cert would crash Unity. ([1423569](https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted))
    
*   Linux: Fixed Linux Editor ignores mouse scroll wheel input when the cursor is locked on the new input system. ([1354498](https://issuetracker.unity3d.com/issues/linux-editor-ignores-mouse-scroll-wheel-input-when-the-cursor-is-locked-on-the-new-input-system))
    
*   Linux: Fixed Linux Editor's new input system's mouse scroll delta values clamped between -1 and 1. ([1365433](https://issuetracker.unity3d.com/issues/linux-editors-new-input-systems-mouse-scroll-delta-values-are-clamped-between-1-and-1-and-are-inverted))
    
*   Linux: Fixed player window cannot be resized when the player is started in full screen mode. ([1372700](https://issuetracker.unity3d.com/issues/linux-player-window-cant-be-resized-when-the-player-is-started-in-fullscreen-mode-and-then-changed-to-windowed))
    
*   macOS: Fixed corruption when resizing player window. ([1327755](https://issuetracker.unity3d.com/issues/macos-resizing-build-window-causes-red-background-colour-to-appear))
    
*   Mono: Fixed random crash on exit or domain reload. ([1418292](https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building))
    
*   Package Manager: Fixed an issue that the Package Manager window takes a while to load initially. ([1350368](https://issuetracker.unity3d.com/issues/package-manager-in-project-packages-take-a-while-to-load-initially-every-time-a-project-is-opened))
    
*   Particles: Fixed for glitching particle effects that showed up when using graphics jobs. (UUM-2577)
    
*   Profiler: Fixed failing performance tests RepaintProfilerWindowWith6VisibleCharts and RepaintProfilerWindowWith2VisibleAnd4InvisibleCharts due to unity setup coroutine timing out. (UUM-2999)
    
*   Serialization: Avoid crash during build related to assets that use SerializeReference and Garbage Collection. ([UUM-644](https://issuetracker.unity3d.com/issues/crash-on-scripting-object-get-class-when-attempting-to-build-data))
    
*   Shaders: Fixed an occasional crash when entering playmode and trying to run a compute shader. ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   uGUI: FIxed an issue that MissingReferenceException is thrown when calling Object.Destroy from a UI Button. ([1428922](https://issuetracker.unity3d.com/issues/missingreferenceexception-is-thrown-when-calling-object-dot-destroy-from-a-ui-button))
    
*   uGUI: Fixed oversized UI Sprites with Mip Stripping enabled. ([1393270](https://issuetracker.unity3d.com/issues/sprite-doubles-in-size-in-build-when-the-generate-mip-maps-enabled-in-texture-import-settings))
    
*   uGUI: Fixed UI Components causing GC Allocation when enabled. ([UUM-1807](https://issuetracker.unity3d.com/issues/backport-ui-components-cause-gc-allocation-when-enabled))
    
*   UI: Updated COPPA compliance link.
    
*   UI Toolkit: Implemented a workaround allowing UIToolkit to be rendered on buggy Adreno GPUs. ([1361189](https://issuetracker.unity3d.com/issues/opengles3-android-uitoolkit-is-not-rendered-properly-on-some-devices))
    
*   UI Toolkit: Implemented a workaround allowing UIToolkit to draw with proper color channels on buggy Adreno GPUs. ([1429559](https://issuetracker.unity3d.com/issues/uitoolkit-draws-red-into-blue-and-alpha-channels-on-some-adreno-gpus))
    
*   URP: URP 2D - Fix bug when upgrading parametric lights to freeform lights. ([UUM-1869](https://issuetracker.unity3d.com/issues/parametric-light-upgrade-doesnt-dirty-scene-so-upgrade-might-not-be-saved))
    
*   Video: Fixed a crash when importing a file in play mode. ([1305732](https://issuetracker.unity3d.com/issues/popup-about-missing-resource-file-appears-when-refreshing-asset-database-after-saving-new-mp4-slash-webm-file))
    
*   WebGL: Fixed AudioClip.GetData(). ([1369656](https://issuetracker.unity3d.com/issues/webgl-console-errors-are-thrown-when-calling-audiosource-dot-clip-dot-getdata-in-webgl-build))
    
*   WebGL: Fixed bug where some control keys were being incorrectly interpreted as text. ([1417650](https://issuetracker.unity3d.com/issues/webgl-return-key-is-captured-as-the-string-enter-when-using-keyboard-dot-ontextinput))
    
*   Windows: Fixed dragging files from Unity to other applications when the file path contains non-ASCII characters. ([1402070](https://issuetracker.unity3d.com/issues/win11-file-not-found-is-thrown-in-a-code-editor-when-dragging-a-file-from-editor-that-has-a-non-unicode-symbol-in-the-path))

### Known Issues in 2021.3.4f1

*   Android: Editor is unable to find JAVA when building an application ([UUM-2106](https://issuetracker.unity3d.com/issues/editor-is-unable-to-find-java-when-building-an-application))
    
*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   Graphics Device Features: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects ([1417589](https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects))
    
*   HD RP: \[HDRP\]\[DXR\] Temporal denoising is broken up to 2021.3 in punctuals raytraced shadows ([UUM-2140](https://issuetracker.unity3d.com/issues/hdrp-dxr-temporal-denoising-is-broken-up-to-2021-dot-3-in-punctuals-raytraced-shadows))
    
*   IL2CPP: \[Android\] Build fails when building an exported project with Script Debugging enabled ([1373278](https://issuetracker.unity3d.com/issues/il2cpp-android-build-fails-when-building-an-exported-project-on-android-studio-with-script-debugging-enabled))
    
*   IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard ([1420954](https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard))
    
*   Inspector Framework: First array element expansion is broken for arrays that use Custom Property Drawers ([1409773](https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers))
    
*   Kernel: Unity crashes on StackWalker::GetCurrentCallstack when rest-certificate.pem is corrupted ([1423569](https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: Editor crashes intermittently on mono\_object\_isinst when closing it in batch mode or when building ([1418292](https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Quality of Life: \[Mac\] ShortcutManager ignores Shift modifier ([1424655](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    

### 2021.3.4f1 Release Notes

#### Features

*   Graphics: Added gaze foveated rendering (GFR) on Vulkan.

#### Improvements

*   Android: Added the AssetBundle extension to the list of exceptions for gradle compression of StreamingAssets. ([1405245](https://issuetracker.unity3d.com/issues/addressables-bundles-get-compressed-in-android-builds))
    
*   Documentation: Added code snippet for Physics.ContactModifyEvent.
    
*   Services: Opting out of analytics within the editor is now available to all customers and will sync the settings with the Unity backend.
    

#### Fixes

*   2D: Fixed case where Lighting is incorrect when Sprite Atlas uses secondary Texture Normal Maps in Linear Color Space. ([1378322](https://issuetracker.unity3d.com/issues/lighting-is-incorrect-when-sprite-atlas-uses-secondary-texture-normal-maps-in-linear-color-space))
    
*   2D: Fixed Tile Palette window incorrectly preventing selection in Scene View when Tilemap Tools are inactive. ([1365564](https://issuetracker.unity3d.com/issues/gameobjects-in-the-scene-are-not-selectable-when-using-w-after-painting-with-tile-pallete))
    
*   Android: Fixed an issue to allow 2 segment package names. ([1425979](https://issuetracker.unity3d.com/issues/android-the-build-fails-when-identification-package-name-has-two-segments-one-dot))
    
*   Android: Fixed app-freezing when an application changes into multi-window(split-screen) on Chrome OS tablet mode. (1361131)
    
*   Android: Fixed Screen.resolutions to return all supported refresh rates, not only 60Hz. (1426366)
    
*   Animation: Fixed an issue where the parameter preview of the animator did not work anymore. ([1388833](https://issuetracker.unity3d.com/issues/animator-blendtree-parameters-slider-value-is-stuck-at-0-when-trying-to-move-the-slider))
    
*   Editor: Sped up drag & drop in the Project view on large projects. ([1314065](https://issuetracker.unity3d.com/issues/dragging-and-dropping-asset-in-the-inspector-is-taking-upwards-of-3-seconds-everytime))
    
*   GI: Strip shader variants with DIRLIGHTMAP\_COMBINED keyword enabled when both LIGHTMAP\_ON and DYNAMICLIGHTMAP\_ON are disabled when building the player. Directional lightmap logic is always enclosed in the more general baked or dynamic lightmap blocks. ([1307896](https://issuetracker.unity3d.com/issues/graphics-variants-which-have-dirlightmap-combined-are-not-removed-when-stripping-shader-variant-code))
    
*   Graphics: Fixed a crash when calling Graphics.RenderMesh for a Mesh that was destroyed. ([1404273](https://issuetracker.unity3d.com/issues/crash-when-calling-graphics-dot-rendermesh-for-a-mesh-that-was-destroyed))
    
*   Graphics: Fixed flickering of particle system when using Vulkan. (1417289)
    
*   IL2CPP: Fixed a crash during liveness processing when asynchronous delegate invocation is used. ([1417730](https://issuetracker.unity3d.com/issues/crash-when-running-garbagecollectsharedassets))
    
*   IL2CPP: Fixed an issue where calls to GetHashCode on value types with no instance fields would not return a stable value. ([1411455](https://issuetracker.unity3d.com/issues/il2cpp-calling-gethashcode-on-instances-of-empty-structs-does-not-return-the-same-value-in-il2cpp-builds))
    
*   IL2CPP: Fixed builds failures when doing .NET Framework API builds and referencing types in System.Drawing. ([1413051](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-net-framework-api-compatibility))
    
*   IL2CPP: Fixed code generation for Enum.HasFlag when its second argument is a System.Enum type. ([1420369](https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected))
    
*   IL2CPP: Fixed function pointer bugs with integer casting and signature comparisons. ([1391567](https://issuetracker.unity3d.com/issues/urp-il2cpp-build-fails-with-buildfailedexception-and-bee-library-errors-when-building-with-il2cpp-scripting-backend-enabled))
    
*   IL2CPP: Fixed invalid C++ code for unmanged function pointer call in shared generic code. (1417082)
    
*   IMGUI: Removed hard-coded color space of the gradient picker. (1383095)
    
*   Input: Fixed keyboard not working on iOS 15. ([1376970](https://issuetracker.unity3d.com/issues/keyboard-input-is-not-working-when-using-an-external-keyboard-in-ios-15))
    
*   Kernel: Fixed VirtualFileSystem tests failing in the case of short paths being returned. (1402346)
    
*   Linux: Fixed a crash at the launch on systems that does not support Vulkan and OpenGL3.2. (1372651)
    
*   Linux: Fixed input system package drop down is a blank square issue. ([1391850](https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux))
    
*   macOS: Enabled the Build and Run button for Apple Silicon builds in the Silicon Editor. ([1415688](https://issuetracker.unity3d.com/issues/m1-build-and-run-button-being-disabled-when-the-target-architecture-apple-silicon-is-selected-in-the-silicon-editor))
    
*   Mono: Fixed a bug where the SmtpClient would ignore the ServicePointManager's SecurityProtocol level. ([1389326](https://issuetracker.unity3d.com/issues/system-dot-net-dot-mail-dot-smtpexception-421-4-dot-7-66-tls-1-dot-0-and-1-dot-1-are-not-supported-error-is-throw-when-sending-an-email-with-smtpclient))
    
*   Mono: Fixed a crash when de-serializing managed objects that have changed field types. ([1378713](https://issuetracker.unity3d.com/issues/m1-crash-with-star-assertion-at-handle-dot-c-446-condition-m-class-is-valuetype-klass-not-met-when-deserializing-data))
    
*   Mono: Fixed a rare incremental GC crash on Windows. ([1411601](https://issuetracker.unity3d.com/issues/incremental-gc-pushes-invalid-stack-range-on-windows))
    
*   Mono: Fixed an incorrect exception being thrown via Process.Start when windows path contains '. ([1387637](https://issuetracker.unity3d.com/issues/errors-in-the-console-when-project-name-contains-apostrophe))
    
*   Mono: Fixed an issue where callstacks would not be reported on OSX. ([1411374](https://issuetracker.unity3d.com/issues/mac-stack-trace-is-not-available-after-a-crash-in-the-editor-log))
    
*   Mono: Fixed default interface method crash when using mismatched generic arguments. ([1394314](https://issuetracker.unity3d.com/issues/crash-on-assertion-condition-is-ok-error-not-met-when-entering-the-play-mode))
    
*   Mono: Fixed PlatformNotSupportedException when calling System.Security.Cryptography.ProtectedData.Protect. ([1397970](https://issuetracker.unity3d.com/issues/platformnotsupportedexception-is-thrown-when-using-system-dot-security))
    
*   Mono: Implemented ProcessStartInfo.ArgumentList which was introduced in .Net Standard 2.1. (1396842)
    
*   Mono: Improved error handling to throw a MarshalDirectiveException when marshaling generic instances as return types from pinvoke callbacks. ([1390445](https://issuetracker.unity3d.com/issues/unity-crashes-when-calling-marshal-dot-getfunctionpointerfordelegate-on-a-delegate-with-a-nullable-return-value))
    
*   Mono: Removed handling SIGINT when Mono is embedded in Unity and the Player. ([1376434](https://issuetracker.unity3d.com/issues/server-build-doesnt-respond-to-ctrl-plus-c-after-setting-console-dot-foregroundcolor))
    
*   Physics 2D: Fixed an issue in the CustomCollider2D where a shapes bounds were not updating when replacing existing shapes with different vertices only. This resulted in an incorrect collision detection for that shape. ([1425289](https://issuetracker.unity3d.com/issues/customcollidier2d-does-not-update-properly-after-call-to-setcustomshape-s))
    
*   Scene/Game View: Fixed possible argument exception when using Scene Visibility API. ([1288443](https://issuetracker.unity3d.com/issues/argumentexception-the-scene-is-not-loaded-when-test-runs-and-the-editor-does-not-have-focus))
    
*   Scripting: Fixed a case where the type of generic fields inside generic classes would fail to get resolved when building the project. (1415422)
    
*   Scripting: Fixed filtering of assemblies by platform constraints not working and by defines. ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Serialization: Fixed a crash when deserializing a Prefab instance containing a resize on an array containing a nested type with a Fixed Buffer. ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shaders: Fixed a crash when warming up a shader variant collection that had a shader with UsePass. ([1407692](https://issuetracker.unity3d.com/issues/crash-on-shaderlab-program-getmatchingsubprogram-after-entering-play-mode))
    
*   Shaders: Fixed include dependencies being reported incorrectly when guarded by defines that depend on keywords. ([1401580](https://issuetracker.unity3d.com/issues/editing-shader-includes-does-not-guarantee-shaders-being-updated-when-changes-are-made-in-script))
    
*   Shaders: Fixed redundant shader variant recompilation after Editor relaunch. ([1425799](https://issuetracker.unity3d.com/issues/some-shaders-are-recompiled-when-building-the-player-after-each-editor-launch))
    
*   Shaders: Fixed ShaderKeywordSet.Disable not disabling keywords. ([1417644](https://issuetracker.unity3d.com/issues/shader-keyword-is-not-disabled-when-calling-shaderkeywordset-dot-disable))
    
*   uGUI: Fixed RectMask2D using the wrong Canvas for calculations after it was reparented. ([1395695](https://issuetracker.unity3d.com/issues/rectmask2d-hides-all-content-when-parented-from-other-display-to-first-dislpay-in-the-game-view-window))
    
*   UI Toolkit: Fixed the preview texture of linear gradients in gamma projects. ([1369425](https://issuetracker.unity3d.com/issues/shadergraph-getting-a-smaller-gradient-than-generated-code-example-when-using-default-gradient-node))
    
*   Universal: Fixed an issue that preview cameras no longer spam errors on the first frame of rendering. ([1393818](https://issuetracker.unity3d.com/issues/urp-errors-are-spammed-after-entering-play-mode-in-sunflare-scene-and-navigating-the-project-view))
    
*   URP: Fixed an issue of Renderer2D using the incorrect render path when lights are out of the scene view. ([1400566](https://issuetracker.unity3d.com/issues/2d-urp-gameobjects-become-unlit-when-moving-2d-light-out-of-the-scene-view))
    
*   URP: Fixed errors when using Native RenderPass and Render Objects feature after Post Processing.
    
*   URP: Fixed smooth material lighting banding issues on mobile platforms. ([1375791](https://issuetracker.unity3d.com/issues/mobile-urp-banding-like-artifacts-are-visible-when-smooth-material-is-lit-by-light))
    
*   VFX Graph: Fixed an issue that in `Output Particle` blocks, shader graph exposed properties order is now consistent with shader graph blackboard. (1398256)
    
*   Video: Fixed an issue that Video's Alpha not transparent when built with WebGL. ([1397499](https://issuetracker.unity3d.com/issues/videos-alpha-not-transparent-when-built-with-webgl))
    
*   WebGL: Fixed WebGL build in the Linux editor to include default resources. ([1411380](https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux))
    
*   XR: Fixed Unity VR Splash screen not showing up on UWP.

### Known Issues in 2021.3.3f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   Graphics Device Features: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects ([1417589](https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects))
    
*   IL2CPP: \[Mobile\] \[IL2CPP\] Build fails when using custom script and target architecture ARM64 is selected ([1420369](https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected))
    
*   IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard ([1420954](https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard))
    
*   Inspector Framework: First array element expansion is broken for arrays that use Custom Property Drawers ([1409773](https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers))
    
*   Kernel: Unity crashes on StackWalker::GetCurrentCallstack when rest-certificate.pem is corrupted ([1423569](https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted))
    
*   Linux: Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([1423683](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Linux: New Input System's Input Actions windows's Binding Path dropdown is rendered as an empty white square on Linux ([1391850](https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: Editor crashes intermittently on mono\_object\_isinst when closing it in batch mode or when building ([1418292](https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Package: Crash on TcpProtobufClient::EndBatch when creating a Prefab and Cache Server is disconnected ([1383891](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Package: Unity crashes in batch mode when using -vcsMode Perforce ([1396449](https://issuetracker.unity3d.com/issues/unity-crashes-in-batch-mode-when-using-vcsmode-perforce))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Progressive Lightmapper: \[GPU PLM\] OpenCL shader loading time in the new projects has become significantly slower ([1389752](https://issuetracker.unity3d.com/issues/gpu-plm-opencl-shader-loading-time-in-the-new-projects-has-become-significantly-slower))
    
*   Quality of Life: \[Mac\] ShortcutManager ignores Shift modifier ([1424655](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Web Platform: \[Linux\] Webgl build crashes every time when using Unity Editor on Linux ([1411380](https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux))
    

### 2021.3.3f1 Release Notes

#### Features

*   Asset Pipeline: Accelerator Corruption Detection

#### Improvements

*   Android: Bump Android Logcat package to 1.3.2 version.

#### Changes

*   iOS: Changed how selection is handled if it's set before the on screen keyboard has showed up.
    
*   Package: com.unity.purchasing version updated to 4.1.4
    

#### Fixes

*   2D: Fixed issue where Sprite reference might be lost after upgrading. ([1398401](https://issuetracker.unity3d.com/issues/sprite-references-are-missing-in-the-sprite-renderer-when-importing-sprite-sheets-created-in-earlier-versions-of-the-editor))
    
*   Android: Fixed a Unity Audio bug related to Bluetooth audio. This was causing issues with Vivox, and possibly other 3rd part audio libraries, with Bluetooth functionality. On Android, Bluetooth audio state is basically global, so Unity Audio now only makes the bare minimum changes to this state. We may still call startBluetoothSco and stopBluetoothSco when starting or re-initializing the audio output engine and when starting/stopping the Unity microphone. We may also call AudioManager.setMode when starting/stopping a Bluetooth mic through the Unity microphone APIs, but that's it. (1418634)
    
*   Asset Import: Changing texture shape no longer causes NullReferenceExceptions. ([1355120](https://issuetracker.unity3d.com/issues/nullreferenceexception-when-changing-texture-shape))
    
*   Asset Import: Upgraded boost::asio version to v1.20.0. (1408567)
    
*   Build System: Removed legacy project file causing issues when opened through VSCode's Omnisharp. (1389396)
    
*   Editor: Fixed crash when calling GUIClip.SetMatrix early in the domain reload. ([1332043](https://issuetracker.unity3d.com/issues/editor-graphview-unity-crashes-entering-play-mode-when-custom-editor-window-is-open))
    
*   Editor: Fixed editor freezes for a moment when moved from one screen to another with different resolution scale. ([1322959](https://issuetracker.unity3d.com/issues/editor-is-repainted-and-freezes-for-a-moment-when-moved-from-one-screen-to-another-with-different-resolution-scale))
    
*   Editor: Fixed editor mode shortcut of custom commands not working. (1421416)
    
*   Editor: Fixed occasional missed mouse messages in the Windows Editor when the cursor is locked. ([1365651](https://issuetracker.unity3d.com/issues/input-system-right-mouse-button-waspressedthisframe-is-false-when-left-mouse-button-is-held-down))
    
*   Editor: Fixed ReorderableList custom element height callback exception when there are no elements in the list. ([1399803](https://issuetracker.unity3d.com/issues/reorderablelist-out-of-bounds-exeception))
    
*   Editor: \[SpeedTree\] High poly SpeedTrees do not import correctly. (1364523)
    
*   GI: Fixed a bug where additively loading a scene could cause lighting data assets to be altered, and new lighting data assets to be created. (1381583)
    
*   Graphics: Fixed overlay camera stacking is not working on MacOS when using OpenGLCore with MSAA. ([1250331](https://issuetracker.unity3d.com/issues/macos-overlay-camera-stacking-is-not-working-when-using-openglcore))
    
*   Graphics: Fixed validation error on Vulkan when transitioning layout from VK\_IMAGE\_LAYOUT\_PRESENT\_SRC\_KHR. (1380371)
    
*   HDRP: Fixed a leak when creating and destroying manually reflection probes. ([1394192](https://issuetracker.unity3d.com/issues/hdrp-memory-leak-when-destroying-reflection-probes))
    
*   HDRP: Fixed NaNs in volumetric clouds on consoles. (1419211)
    
*   HDRP: Fixed prefab mode context visibility not hiding custom passes, decals, and local volumetric fog objects. ([1395948](https://issuetracker.unity3d.com/issues/custompass-with-custompassutils-dot-renderfromcamera-is-inconsistent-in-prefab-mode))
    
*   iOS: Fixed Input Field caret jumping when Hide Mobile Input is used. ([1415962](https://issuetracker.unity3d.com/issues/ios-caret-is-getting-placed-in-the-middle-of-a-text-when-typing-quickly-when-input-fields-hide-mobile-input-is-on))
    
*   iOS: Fixed occasional xcode 13.3 build fail due to "a cyclic reference". ([1418416](https://issuetracker.unity3d.com/issues/ios-cyclic-references-are-detected-when-building-with-xcode-13-dot-3))
    
*   Linux: Fixed editor crash on startup when opened on machines with certain Intel MESA cards. ([1375312](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-assert-fail-base-dot-cold-when-opening-a-project))
    
*   Linux: Fixed linux playmode window from processing multiple mouse events on each mouse click event. ([1337545](https://issuetracker.unity3d.com/issues/ui-toolkit-mouse-click-and-down-events-are-called-twice-on-a-single-click-on-linux))
    
*   Linux: Fixed maximizing of playmode window on linux while trying to change tabs to scene view. ([1407426](https://issuetracker.unity3d.com/issues/linux-trying-to-switch-to-scene-from-game-window-while-in-play-mode-instead-maximizes-the-game-window-on-centos))
    
*   Linux: Fixed Shift + Tab keyboard input to support backwards navigation in Linux editor text fields. ([1396671](https://issuetracker.unity3d.com/issues/previous-field-isnt-being-selected-when-shift-plus-tab-keybind-is-used))
    
*   macOS: Fixed flicker in splash screen when using OpenGL. (1396489)
    
*   macOS: Fixed OSX sending a Return keycode event when return was pressed to confirm an IME string. ([1381684](https://issuetracker.unity3d.com/issues/tmp-input-field-submits-empty-string-when-a-correction-from-correction-window-is-selected))
    
*   macOS: MoveMainWindowTo no longer fails to switch screens when monitors are scaled. (1417303)
    
*   Mobile: Added a new Player setting "Reset resolution on window resize" to reset resolution when native window is resized. (1393410)
    
*   Networking: UnityWebRequest: fix support for System.Uri with file path containing spaces and plus characters (both at the same time). ([1367599](https://issuetracker.unity3d.com/issues/unitywebrequest-returns-http-slash-1-dot-1-404-not-found-if-uri-contains-plus-plus-character-followed-by-space-character))
    
*   Particles: Fixed ringbuffer mode to work properly with pause-and-catchup culling mode. ([1385616](https://issuetracker.unity3d.com/issues/culling-resets-particle-system-when-using-ring-buffer-pause-until-replaced-and-culling-pause-and-catch-up))
    
*   Profiler: Fixed Asset Loading Profiler module Hierarchy sorting. (1369190)
    
*   Profiler: Fixed issue where Mesh memory usage was not being updated when applying new MeshData with Mesh.ApplyAndDisposeWritableMeshData. ([1377773](https://issuetracker.unity3d.com/issues/memory-profiler-results-reports-wrong-mesh-size-when-generating-it-with-jobs))
    
*   Scripting: Removed outdated System.Reactive extensions from .Net 4.8 profile. ([1407597](https://issuetracker.unity3d.com/issues/ambiguous-method-error-when-asmdef-only-targets-editor))
    
*   Search: Fixed a ThreadAbortException when creating multiple C# scripts in quick succession. ([1398886](https://issuetracker.unity3d.com/issues/threadabortexception-is-thrown-when-creating-a-c-number-script-before-the-editor-compiled-a-recently-created-one))
    
*   Search: Fixed Advanced Object Picker does not persist settings in context menu. ([1417074](https://issuetracker.unity3d.com/issues/advanced-object-picker-does-not-persist-settings-in-context-menu))
    
*   Search: Fixed failure while loading a search index concurrently. ([1417609](https://issuetracker.unity3d.com/issues/search-fail-to-load-the-search-index-concurrently))
    
*   Search: Fixed quick Search does not find all files (when _temp_ is part of the folder name). ([1409878](https://issuetracker.unity3d.com/issues/quick-search-does-not-find-all-files))
    
*   Search: Fixed search freeze Unity if opening query block selector and if the scene provider is still searching for some results. ([1411739](https://issuetracker.unity3d.com/issues/search-freeze-unity-if-opening-query-block-selector-if-the-scene-provider-is-still-searching-for-some-results))
    
*   Search: Fixed thumbnails in Search window (with inspector panel turned on) changing when selected. (1402123)
    
*   Search: Fixed unwanted warning shown when loading URP converters. (1410719)
    
*   Source Code Build: Don't strip PlatformDependent/UnixCommon from source code releases.
    
*   Source Code Build: Fixed ProjectFile dependency breakage for source code customers.
    
*   uGUI: Fixed incorrect input coordinates when using multiple displays and the main display had a non native resolution. ([1141732](https://issuetracker.unity3d.com/issues/buttons-hitbox-is-offset-when-building-standalone-project-for-two-screens))
    
*   uGUI: Fixed InputField not correctly handling IME input when return was pressed. ([1349037](https://issuetracker.unity3d.com/issues/macos-input-field-clears-chinese-slash-japanese-slash-korean-input-when-pressing-enter))
    
*   UI Toolkit: Fixed issue when item is removed from hierarchy while the pointer is still in a captured state. ([1389285](https://issuetracker.unity3d.com/issues/button-is-disabled-after-changing-display-style-to-none-while-using-slider-dragger))
    
*   UI Toolkit: Fixed possible NullReferenceException in BaseTreeView.OnViewDataReady. (1401264)
    
*   UI Toolkit: Theme Style Sheet doesn't update when it has been changed more than once through script. ([1377689](https://issuetracker.unity3d.com/issues/ui-toolkit-theme-style-sheet-doesnt-update-when-it-has-been-changed-more-than-once-through-script))
    
*   Universal: Fixed spot and point light harsh distance falloff artefact on some platforms due to fp16 precision issue. (1416456)
    
*   Universal: Fixed \_InternalLut being released too early and logging warnings when using post-processing in stacked camera's in URP 2D. ([1378811](https://issuetracker.unity3d.com/issues/2d-urp-warning-message-in-game-view-when-using-post-processing-on-a-camera-stack))
    
*   Universal: Reverted behavior to allow FinalBlit being skipped when the user has no ScriptableRenderPasses with "AfterRendering" as renderEvent while finalPostProcessing is not needed. (1407414)
    
*   WebGL: Fixed automatic playback of compressed audio. ([1395655](https://issuetracker.unity3d.com/issues/audiosource-with-playonawake-equals-true-doesnt-start-playing-when-the-load-type-of-the-audio-clip-is-set-to-compressed-in-memory))
    
*   Windows: Fixed mouse button occasional becoming stuck in "down" state when running in Play Mode. ([1405273](https://issuetracker.unity3d.com/issues/input-system-sometimes-does-not-fire-canceled-event-on-left-click-action))
    
*   XR: Updated the verified AR Foundation related packages to 4.2.3. Please see the AR Foundation package changelog for details.

### Known Issues in 2021.3.2f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   DirectX11: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects ([1417589](https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects))
    
*   IL2CPP: \[Mobile\] \[IL2CPP\] Build fails when using custom script and target architecture ARM64 is selected ([1420369](https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected))
    
*   IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard ([1420954](https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard))
    
*   Linux: Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([1423683](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Linux: Editor crashes at "\_\_assert\_fail\_base.cold" when opening a project (Linux) ([1375312](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-assert-fail-base-dot-cold-when-opening-a-project))
    
*   Linux: New Input System's Input Actions windows's Binding Path dropdown is rendered as an empty white square on Linux ([1391850](https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Package: Unity crashes in batch mode when using -vcsMode Perforce ([1396449](https://issuetracker.unity3d.com/issues/unity-crashes-in-batch-mode-when-using-vcsmode-perforce))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Quality of Life: ReorderableList out of bounds exeception ([1399803](https://issuetracker.unity3d.com/issues/reorderablelist-out-of-bounds-exeception))
    
*   Quality of Life: \[Mac\] ShortcutManager ignores Shift modifier ([1424655](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers))
    
*   Scene/Game View: Game Object Material starts flickering when dragging new material over other Game Object that touches first Object ([1423053](https://issuetracker.unity3d.com/issues/game-object-material-starts-flickering-when-dragging-new-material-over-other-game-object-that-touches-first-object))
    
*   Search: Fail to load the search index concurrently ([1417609](https://issuetracker.unity3d.com/issues/search-fail-to-load-the-search-index-concurrently))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Texture: File could not be read error is thrown when a 16 bit .tif file is present in the project ([1404047](https://issuetracker.unity3d.com/issues/file-could-not-be-read-error-is-thrown-when-a-16-bit-tif-file-is-present-in-the-project))
    
*   Version Control: Crash on TcpProtobufClient::EndBatch when creating a Prefab and Cache Server is disconnected ([1383891](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   Web Platform: \[Linux\] Webgl build crashes every time when using Unity Editor on Linux ([1411380](https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux))
    
*   WebGL: WebGL Input System interactions are delayed or played preemptively when the project is built ([1405517](https://issuetracker.unity3d.com/issues/webgl-input-system-interactions-are-delayed-or-played-preemptively-when-the-project-is-built))
    

### 2021.3.2f1 Release Notes

#### Features

*   Version Control: Added "Switch to changeset" menu option in changesets view  
    Added "Go back to changeset" menu option in changesets view

#### Improvements

*   Graphics: Using memoryless MSAA now also applies to the MSAA attachment when depth resolve is used
    
*   License: show proper license error dialog when editor is opened with a build license
    

#### API Changes

*   iOS: Added: Added iPad Air 5 and iPhone SE 3 to devices.

#### Changes

*   Services: UGS packages are now available in the Package Manager
    
*   Version Control: Removed category icons from views  
    Removed "com.unity.services.core" package dependency
    
*   XR: The Oculus XR Plugin package has been updated to 3.0.1.
    
*   XR: Updated OpenXR Package to 1.4.0
    

#### Fixes

*   2D: \[com.unity.2d.animation\] Fixed an issue when Skinning Editor will lose reference after exiting Play mode. (1405289)
    
*   2D: \[com.unity.2d.animation\] Fixed an issue where moving vertices in the Skinning Editor might result in invalid edges (1386153)
    
*   2D: \[com.unity.2d.animation\] Fixed an issue where the SpriteSkin components would not get initialized on editor launch. (1401139)
    
*   2D: \[com.unity.2d.animation\] Sprite Library cannot reference itself in the Main Library field or any asset that references it. (1401464)
    
*   2D: \[com.unity.2d.tilemap.extras\] \[AnimatedTileEditor\] Fix undo when setting number of Sprites for Animated Tile.
    
*   2D: \[com.unity.2d.tilemap.extras\] \[RuleTileEditor\] Fix undo when setting number of Rules for Rule Tile.
    
*   2D: \[com.unity.2d.tilemap.extras\] \[RuleTileEditor\] Use different text color for Extend Neighbors with dark and light skin.
    
*   2D: \[com.unity.2d.tilemap.extras\] \[RuleTile\] Fix data for custom container fields not being transferred in RuleOverrideTiles overriding a Custom Rule Tile.
    
*   Android: Added Initial launch size metadata into AndroidManifest.xml for Chrome OS devices with Android R or higher installed. (1360064)
    
*   Android: Fix build failure when you had .androidlib plugin in a package. ([1394476](https://issuetracker.unity3d.com/issues/android-build-fails-when-upm-package-dependency-contains-custom-androidlib))
    
*   Android: Fixed a bug with Unity UGUI and UI Elements input fields, where switching languages dynamically and IME functionality was not working. ([1395812](https://issuetracker.unity3d.com/issues/android-bluetooth-keyboard-can-only-type-in-english-when-keyboard-language-is-changed-to-any-other-language))
    
*   Android: Fixed XR subsystem initialization in case of app bundle + asset packs. ([1392895](https://issuetracker.unity3d.com/issues/android-xr-tracking-is-not-working-when-building-app-bundle-with-split-application-binary-enabled))
    
*   Asset Bundles: Ensure that padding is added after blocks info so that Switch patching works appropriately. This fix implies that loading newly generated AssetBundles will require using this new Unity editor/runtime combination. ([1403996](https://issuetracker.unity3d.com/issues/files-within-assetbundles-do-not-start-on-aligned-boundaries-breaking-patching-on-nintendo-switch))
    
*   Build System: Dedicated server build will not inadvertently strip mesh data from meshes used for collision. ([1399961](https://issuetracker.unity3d.com/issues/dedicated-server-data-from-mesh-colliders-are-stripped-in-dedicated-server-builds))
    
*   DX12: - Offset binding support for cbuffers disabled from SystemInfo on DX12 as it has never been supported, full implementation is upcoming. ([1381731](https://issuetracker.unity3d.com/issues/painting-terrain-details-result-in-a-crash-when-using-directx12))
    
*   Editor: Backport bug fix from 2022.2: Executing Build And Run with Dedicated Server platform now opens terminal window on Linux and macOS.
    
*   Editor: Ensured that the Application Identifier errors and warnings are shown in the correct cases. (1382818)
    
*   Editor: Fixed an issue where the "Install into source code 'build' folder" would not build in the source code folder. (1366021)
    
*   Editor: Fixed crash that could occur when docking a window, if its size is momentarily zero. ([1397003](https://issuetracker.unity3d.com/issues/unity-editor-crashes-when-docking-one-editorwindow-to-the-side-of-a-docked-window))
    
*   Editor: Fixed incorrect screen size when dragging in the prefab stage. ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   Editor: Fixed the validation of the Application Identifier.
    
*   Editor: Fixed tooltips not being resolved when using a custom label that does not contain a tooltip. ([1415921](https://issuetracker.unity3d.com/issues/tooltips-are-not-shown-when-hovering-over-name-of-the-value-in-the-inspector))
    
*   Editor: Fixing issue where if the Gameview was a fixed size, upon opening the editor the the Gameview was in the background it wouldn't update its size value properly. ([1378321](https://issuetracker.unity3d.com/issues/camera-resolution-is-set-to-default-when-opening-the-editor))
    
*   GI: Fixed NaN artifacts that were sometimes appearing in lightmap when sampling a rectangle light. ([1360935](https://issuetracker.unity3d.com/issues/hdrp-light-artifacts-are-generated-in-the-scene-when-the-number-of-samples-is-more-than-400))
    
*   Graphics: Fix global UAVs is Ray Tracing shaders (e.g. closesthit shader) generating errors in the console window when used. ([1411409](https://issuetracker.unity3d.com/issues/dxr-global-uavs-dont-work-in-ray-tracing-shaders))
    
*   Graphics: Fix redundant store of depth buffer MSAA samples to memory on Quest when depth resolve is used. (1413086)
    
*   Graphics: Fixed a missing API documentation on the Graphics Core Package.
    
*   Graphics: Fixed mipmap streaming issue that could happen in projects where Quality Setting "Texture Quality" specifies a texture mipmap level of lower resolution that the one set in Quality Setting "Texture Streaming / Max Level Reduction" (case 1417480) (1410879)
    
*   Graphics: Fixed wrong RT discarding on metal when using CommandBuffers in OnRenderImage. ([1395106](https://issuetracker.unity3d.com/issues/ios-next-camera-is-prevented-from-rendering-in-stack-when-precommand-buffer-is-used-for-post-processing-in-main-camera))
    
*   Graphics: Universal backport for missing shader keyword using shader graph with deferred rendering. ([1372326](https://issuetracker.unity3d.com/issues/dark-band-on-the-scene-objects-when-using-deferred-rendering-and-custom-shader-made-with-shader-graph))
    
*   HDRP: Fixed an issue with overlay queued shaders not rendering in HDRP (case 1400281). ([1379399](https://issuetracker.unity3d.com/issues/hdrp-meshes-with-overlay-render-queue-tag-are-not-rendered))
    
*   HDRP: Fixed decal normal overwriting normal map when normal blending is enabled. (1400660)
    
*   HDRP: Fixed volumetric fog being clamped by the max shadow distance on metal. (1419758)
    
*   HDRP: Improved robustness of path tracing dirtiness check. ([1401691](https://issuetracker.unity3d.com/issues/hdrp-unity-editor-crashes-due-to-path-tracing-checkdirtiness-when-previewing-scenes))
    
*   IL2CPP: Workaround the Clang 12+ bug that could surface with IL2CPP by changing the Hash128 constructor code. (1422065)
    
*   iOS: Prioritised the connected device for Xcode's run destination when building & running an iOS project on Apple Silicon. ([1402105](https://issuetracker.unity3d.com/issues/ios-build-and-run-for-ios-project-fails-on-apple-silicon-because-xcode-selects-my-mac-as-the-target-device))
    
*   License: Increase timeouts of license client and disable signature validation.
    
*   macOS: Fixed "Already have uncommitted encoder" error present under some circumstances. (1400691)
    
*   Networking: UnityWebRequest: filter error display in players Developer console the same way as in Editor. (1413106)
    
*   Package Manager: Fixed an issue where in "My Assets" tab, some package thumbnails lead to wrong target URLs.
    
*   Package Manager: Fixed an issue where UPM would hang for five seconds when exiting. (1409591)
    
*   Profiler: Added option to disable GPU ProfilerRecorders on OpenGL, which otherwise block the "GPU Usage" Profiler module. ([1359552](https://issuetracker.unity3d.com/issues/profiler-quest-gpu-usage-is-not-being-reported-on-oculus-quest))
    
*   Scene/Game View: Fixed Overlays layout not maintained after domain reload. (1410898)
    
*   Scripting: Fixed an editor crash when loading a precompiled assembly compiled with a compiler lacking "ref struct" support.
    
*   Scripting: Ignore hidden sequence points when calling Coverage.GetSequencePointsFor. ([1415957](https://issuetracker.unity3d.com/issues/0xfeefee-sequence-point-line-causes-editor-to-stuck))
    
*   Shaders: Changing line endings in shaders or include files will no longer cause recompilation of variants. ([1415557](https://issuetracker.unity3d.com/issues/line-ending-changes-in-shaders-or-includes-cause-full-shader-recompiles))
    
*   Shaders: Compute shader compilation progress bar no longer gets stuck. (1415495)
    
*   Shaders: Fixed a rare shader compiler crash when expanding unterminated macros. ([1402454](https://issuetracker.unity3d.com/issues/shader-compiler-errors-are-thrown-due-to-unexpected-reasons-related-to-the-shader-script))
    
*   Shaders: Fixed Vulkan graphics artifacts in HDRP when there is high density of light sources. (1404875)
    
*   Shaders: Material, Shader and MaterialPropertyBlock will now show an error in Editor and development player builds when adding a value using one of the Set\* methods with the same name but different underlying type as an existing value set previously. ([1404185](https://issuetracker.unity3d.com/issues/no-error-if-setting-a-property-with-the-same-name-but-different-types))
    
*   uGUI: Fixed issue in TimeManager that led to unscaledDeltaTime to be 0, cascading to other areas such as the ScrollRect code that produced a NaN in resulting calculations. ([1375087](https://issuetracker.unity3d.com/issues/quest-xr-dragging-a-scrollrect-makes-it-disappear-and-set-nan-values))
    
*   UI Toolkit: Fixed asset reimportation/refresh cause exception when displayed on the game view. ([1402588](https://issuetracker.unity3d.com/issues/asset-reimportation-slash-refresh-cause-exception-when-displayed-on-the-game-view), [1420033](https://issuetracker.unity3d.com/issues/ui-builder-invalid-operation-exception-when-adding-new-elements-to-hierarchy))
    
*   UI Toolkit: Fixed erroneous visual when removing inline style related to the transform (rotate, translate and scale). ([1392844](https://issuetracker.unity3d.com/issues/ui-toolkit-visual-element-transform-values-dont-reset-when-setting-them-through-styles))
    
*   UI Toolkit: Fixed UI Builder theme serialization. (1402333)
    
*   UI Toolkit: UI Toolkit and UI Builder packages are no longer accidentally inserted into user project when there's an indirect dependency from a different package.
    
*   Universal: acked depth-stencil format is used again on some platforms to improve graphics performance. (1416507)
    
*   Universal Windows Platform: Fixed an issue where games sometimes running on integrated GPU on certain laptops. UWP player will now behave like Windows Standalone and will always try to run on the dedicated GPU. ([1394866](https://issuetracker.unity3d.com/issues/unity-player-is-using-integrated-gpu-instead-of-dedicated-when-using-universal-windows-platform))
    
*   Universal Windows Platform: Fixed development builds not starting up on Windows 10 versions prior to build 15063.
    
*   Universal Windows Platform: Fixed SystemInfo.operatingSystem returning wrong Windows version on some versions of Windows (notably builds 18363, 19042, 19043 and 19044). ([1400786](https://issuetracker.unity3d.com/issues/uwp-os-version-detection-is-wrong-on-some-windows-versions))
    
*   URP: Fixed Blit and MotionVectors shader compilation errors with GLES2 API. (1388668)
    
*   Version Control: Fixed light theme icons used in dark theme after pulling incoming changes.  
    Fixed "Input string was not in a correct format" error.
    
*   Video: Fixed crash on UnityMain when building for server with active VideoPlayer in Scene. ([1350949](https://issuetracker.unity3d.com/issues/crash-on-unitymain-when-building-for-server-with-active-videoplayer-in-scene))
    
*   Windows: Fixed "-monitor" argument incorrectly affecting the target display when desired window bounds exceed the resolution of the target display. ([1401606](https://issuetracker.unity3d.com/issues/unity-window-not-launching-from-specified-hardware-display-when-using-command-line-arguments))
    
*   Windows: When building for x86 with IL2CPP and Visual Studio 2017, Unity will use 64-bit tools, which makes the linker less likely to run out of memory on large projects. Unity already used 64-bit tools when using Visual Studio 2019 and 2022.
    
*   XR: Fixed Oculus Quest software keyboard not showing up on InputField interaction. (1417991)

### Known Issues in 2021.3.1f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   Dedicated Server: Data from mesh colliders are stripped in dedicated server builds ([1399961](https://issuetracker.unity3d.com/issues/dedicated-server-data-from-mesh-colliders-are-stripped-in-dedicated-server-builds))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   Inspector Framework: Tooltips are not shown when hovering over name of the value in the Inspector ([1415921](https://issuetracker.unity3d.com/issues/tooltips-are-not-shown-when-hovering-over-name-of-the-value-in-the-inspector))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Native Window Management: Windows Editor misses some right mouse clicks right after cursor is locked and unlocked if left mouse button is held down ([1365651](https://issuetracker.unity3d.com/issues/input-system-right-mouse-button-waspressedthisframe-is-false-when-left-mouse-button-is-held-down))
    
*   Quality of Life: ReorderableList out of bounds exeception ([1399803](https://issuetracker.unity3d.com/issues/reorderablelist-out-of-bounds-exeception))
    
*   Search: Fail to load the search index concurrently ([1417609](https://issuetracker.unity3d.com/issues/search-fail-to-load-the-search-index-concurrently))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Settings Window: Spaces and symbols of the Project name are changed to hyphens causing "Invalid characters" warning in the Bundle Identifier ([1412412](https://issuetracker.unity3d.com/issues/spaces-and-symbols-of-the-project-name-are-changed-to-hyphens-causing-warnings-in-the-bundle-identifier))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Texture: Unity crashes when compressing texture with non-power of 2 dimension size texture using Texture2D.Compress ([1417802](https://issuetracker.unity3d.com/issues/unity-crashes-when-compressing-texture-with-non-power-of-2-dimension-size-texture-using-texture2d-dot-compress))
    
*   uGUI: Prefab is glitchy while editing in Prefab Mode when parent Canvas Render Mode is set to Screen Space - Camera ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   Version Control: Crash on TcpProtobufClient::EndBatch when creating a Prefab and Cache Server is disconnected ([1383891](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   WebGL: WebGL Input System interactions are delayed or played preemptively when the project is built ([1405517](https://issuetracker.unity3d.com/issues/webgl-input-system-interactions-are-delayed-or-played-preemptively-when-the-project-is-built))
    

### 2021.3.1f1 Release Notes

#### Improvements

*   Version Control: Added support for TLSv1.2 connections to Perforce servers. The Plugin is now using Perforce API v17.2. (1404016)

#### API Changes

*   Android: Changed: Rename TouchScreenKeyboard.Android.closeKeyboardOnOutsideTap to TouchScreenKeyboard.Android.consumesOutsideTouches. (1400608)
    
*   Editor: Removed: Made Il2CppEagerStaticClassConstructionAttribute internal to avoid conflicts with other definitions outside of the package.
    

#### Fixes

*   Android: Fixed a crash caused by out of memory on Android when using Vulkan. ([1394782](https://issuetracker.unity3d.com/issues/android-crash-with-signal-11-caused-by-null-pointer-dereference-on-android-device-when-using-vulkan-graphics-api))
    
*   Asset Pipeline: Fixed an issue where assets with dependencies on a script might not get updated correctly if a \[FormerlySerializedAs\] attribute was added. ([1405215](https://issuetracker.unity3d.com/issues/prefab-is-not-reimported-when-formerlyserializedas-is-added-to-script))
    
*   Editor: Fixed ActiveTrackers not being correctly updated when Inspector Locked or in Debug mode, leading to incorrect Gizmo behaviors.
    
*   Editor: Fixed Scene.isSubScene flag not persistent in some cases when reloading an open scene. ([1396151](https://issuetracker.unity3d.com/issues/scene-dot-issubscene-flag-does-not-persist-for-currently-opened-scenes-when-the-editor-is-restarted))
    
*   GI: Fixed terrain with holes that could be wronfully ignored by the lightmapper. ([1384239](https://issuetracker.unity3d.com/issues/users-terrain-object-with-holes-doesnt-get-a-lightmap-generated-whereas-its-copy-without-holes-gets-a-lightmap-generated))
    
*   Graphics: Fixed a crash in Vulkan backend when out of GPU memory. ([1225488](https://issuetracker.unity3d.com/issues/hdrp-vulkan-crash-on-vk-databuffer-createresource-on-opening-shader-graph-sample-project-with-vulkan-api))
    
*   Graphics: Fixed a crash in Vulkan backend when running out of GPU memory while building asset bundles on AMD GPUs. ([1385669](https://issuetracker.unity3d.com/issues/linux-vulkan-editor-crashes-due-to-memory-leak-when-building-assetbundles))
    
*   Graphics: Fixed a RenderTexture with randomWrite (UAV) that has dynamic resolution enabled with Vulkan. (1366269)
    
*   Graphics: Fixed a Vulkan validation error when using dynamic resolution with Vulkan on some drivers. (1367535)
    
*   Graphics: Fixed Vulkan validation error when creating a 3D RenderTexture with mip maps. (1367999)
    
*   IL2CPP: Fixed a byte to integer conversions issue when they happen across basic blocks (e.g. inside the ternary operator). ([1382752](https://issuetracker.unity3d.com/issues/ternary-operation-with-implicit-type-conversion-from-byte-returns-incorrect-value-when-the-operation-is-done-in-webgl-build))
    
*   IL2CPP: Fixed an issue where the UnityLinker would generated duplicate unresolved method stubs for a method that was referenced twice via two different method references. ([1376513](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-project-includes-system-dot-drawing-dot-common-dot-dll))
    
*   IL2CPP: Fixed RuntimeInformation.IsOSPlatform on desktop platforms issue. ([1399596](https://issuetracker.unity3d.com/issues/windows-fails-to-identify-as-windows-when-building-the-project-using-il2cpp-scripting-backend))
    
*   Input: Fixed editor shortcuts on macOS not respecting keyboard layout. ([1380906](https://issuetracker.unity3d.com/issues/editor-shortucts-on-macos-do-not-respect-keyboard-layout))
    
*   Networking: Fixed an issue where UnityTLS client API did not correctly validate certificates. (1413222)
    
*   Particles: Fixed particle rendering from command buffers. ([1263019](https://issuetracker.unity3d.com/issues/particle-system-is-not-rendering-when-commandbuffer-dot-drawrenderer-is-used-with-scriptablerenderpass), [1273221](https://issuetracker.unity3d.com/issues/shuriken-particlesystem-is-not-rendered-into-a-texture-when-using-a-commandbuffer), [1289755](https://issuetracker.unity3d.com/issues/particle-system-doesnt-get-rendered-into-a-texture-when-using-a-commandbuffer))
    
*   Profiler: Fixed reported "system used memory" in Profiler and Profiler Counter to be closer to system tools reported values. (1383173)
    
*   Scene/Game View: Fixed bug with hiding overlays in overlay toolbar hiding entirely the toolbar.
    
*   Shaders: Fixed a missing eye index setup macro in surface shader. ([1406798](https://issuetracker.unity3d.com/issues/xr-built-in-rp-surface-shader-unity-setup-stereo-eye-index-post-vertex-is-missing-from-custom-surface-shader))
    
*   Shaders: Fixed an issue where there was a missing buildTarget property in the ShaderCompilerData struct. ([1403750](https://issuetracker.unity3d.com/issues/no-way-to-get-the-requested-build-target-from-ipreprocessshaders-callback))
    
*   Shaders: Fixed incorrect batching for shadow casters when shaders have properties affecting fixed-function state. ([1328077](https://issuetracker.unity3d.com/issues/shaders-controlling-cull-mode-via-a-property-get-incorrectly-rendered-in-the-shadow-caster-pass))
    
*   UI Toolkit: Fixed hierarchy change during a layout calculation may cause a crash. (1402253)
    
*   UI Toolkit: Fixed static initialization errors around VisualElement instances. (1394597)
    
*   URP: Fixed Android Vulkan issues with depth prepass and copy depth pass. (1386503)
    
*   Web: Fixed mouse positions in the MouseMove handler in the new input system based on the mouse event. MouseUp and MouseMove events are relative to the window object, whereas MouseDown and Wheel events are relative to the canvas object. ([1385365](https://issuetracker.unity3d.com/issues/mouse-position-is-offset-when-mouse-scrolling-in-webgl-build))

### Known Issues in 2021.3.0f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   Asset Bundles: Spaces and symbols of the Project name are changed to hyphens causing "Invalid characters" warning in the Bundle Identifier ([1412412](https://issuetracker.unity3d.com/issues/spaces-and-symbols-of-the-project-name-are-changed-to-hyphens-causing-warnings-in-the-bundle-identifier))
    
*   Editor: Tooltips are not shown when hovering over name of the value in the Inspector ([1415921](https://issuetracker.unity3d.com/issues/tooltips-are-not-shown-when-hovering-over-name-of-the-value-in-the-inspector))
    
*   Dedicated Server: Data from mesh colliders are stripped in dedicated server builds ([1399961](https://issuetracker.unity3d.com/issues/dedicated-server-data-from-mesh-colliders-are-stripped-in-dedicated-server-builds))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Scene/Game View: Camera resolution is set to default when opening the Editor ([1378321](https://issuetracker.unity3d.com/issues/camera-resolution-is-set-to-default-when-opening-the-editor))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   uGUI: Prefab is glitchy while editing in Prefab Mode when parent Canvas Render Mode is set to Screen Space - Camera ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   Vulkan: \[HDRP\] \[Vulkan\] Crash on vk::DataBuffer::CreateResource on opening Shader Graph Sample Project with Vulkan API ([1225488](https://issuetracker.unity3d.com/issues/hdrp-vulkan-crash-on-vk-databuffer-createresource-on-opening-shader-graph-sample-project-with-vulkan-api))
    
*   WebGL: WebGL Input System interactions are delayed or played preemptively when the project is built ([1405517](https://issuetracker.unity3d.com/issues/webgl-input-system-interactions-are-delayed-or-played-preemptively-when-the-project-is-built))
    

### 2021.3.0f1 Release Notes

#### Fixes

*   Universal Windows Platform: Fixed an issue where builds would hang on startup on HoloLens. ([1414288](https://issuetracker.unity3d.com/issues/app-doesnt-launch-on-hl2-uwp-after-update-to-2020-dot-3-32f1))

